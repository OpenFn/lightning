searchData={"items":[{"type":"behaviour","title":"Lightning","doc":"Lightning keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"Lightning.html"},{"type":"type","title":"Lightning.release_info/0","doc":"","ref":"Lightning.html#t:release_info/0"},{"type":"callback","title":"Lightning.broadcast/2","doc":"","ref":"Lightning.html#c:broadcast/2"},{"type":"callback","title":"Lightning.current_time/0","doc":"","ref":"Lightning.html#c:current_time/0"},{"type":"callback","title":"Lightning.local_broadcast/2","doc":"","ref":"Lightning.html#c:local_broadcast/2"},{"type":"callback","title":"Lightning.release/0","doc":"","ref":"Lightning.html#c:release/0"},{"type":"callback","title":"Lightning.subscribe/1","doc":"","ref":"Lightning.html#c:subscribe/1"},{"type":"callback","title":"Lightning.unsubscribe/1","doc":"","ref":"Lightning.html#c:unsubscribe/1"},{"type":"function","title":"Lightning.broadcast/2","doc":"","ref":"Lightning.html#broadcast/2"},{"type":"function","title":"Lightning.current_time/0","doc":"Returns the current time at UTC.","ref":"Lightning.html#current_time/0"},{"type":"function","title":"Lightning.local_broadcast/2","doc":"","ref":"Lightning.html#local_broadcast/2"},{"type":"function","title":"Lightning.release/0","doc":"","ref":"Lightning.html#release/0"},{"type":"function","title":"Lightning.subscribe/1","doc":"","ref":"Lightning.html#subscribe/1"},{"type":"function","title":"Lightning.unsubscribe/1","doc":"","ref":"Lightning.html#unsubscribe/1"},{"type":"module","title":"ObanPruner","doc":"The Oban Pruner removes completed Oban jobs. It leaves everything else for manual inspection.","ref":"ObanPruner.html"},{"type":"function","title":"ObanPruner.perform/1","doc":"Deletes completed Oban jobs, leaving discarded for manual inspection.","ref":"ObanPruner.html#perform/1"},{"type":"module","title":"React","doc":"A way to use React with **Phoenix LiveView**.","ref":"React.html"},{"type":"function","title":"React.component_id/1","doc":"Generates a unique ID for a React component.","ref":"React.html#component_id/1"},{"type":"function","title":"React.get_entry_points/1","doc":"Returns a list of React components that are defined in the given app.","ref":"React.html#get_entry_points/1"},{"type":"function","title":"React.json/1","doc":"","ref":"React.html#json/1"},{"type":"macro","title":"React.jsx/1","doc":"Associates a JSX file with a component.\nFile paths are relative to the `assets/js/react` directory.\nSuch files will become entrypoints for ESBuild, but common code is code-split\nby ESBuild into separate chunks.\n\nA custom Mix compiler will ensure these files are compiled.","ref":"React.html#jsx/1"},{"type":"macro","title":"Example - React.jsx/1","doc":"defmodule Button do\n      use React.Component\n\n      jsx \"components/Button.tsx\"\n    end","ref":"React.html#jsx/1-example"},{"type":"module","title":"React.Component","doc":"Defines a stateless component.","ref":"React.Component.html"},{"type":"module","title":"Example - React.Component","doc":"defmodule Button do\n      use React.Component\n\n      jsx \"react/Button.tsx\"\n    end\n\n> **Note**: Stateless components cannot handle Phoenix LiveView events.\nIf you need to handle them, please use a `React.LiveComponent` instead (not\ncurrently implemented).","ref":"React.Component.html#module-example"},{"type":"module","title":"LightningWeb.API.AiAssistantController","doc":"API endpoints for AI Assistant functionality.","ref":"LightningWeb.API.AiAssistantController.html"},{"type":"function","title":"LightningWeb.API.AiAssistantController.list_sessions/2","doc":"List AI Assistant sessions for a given context (job or project).","ref":"LightningWeb.API.AiAssistantController.html#list_sessions/2"},{"type":"function","title":"Parameters - LightningWeb.API.AiAssistantController.list_sessions/2","doc":"- `session_type`: \"job_code\" or \"workflow_template\" (required)\n- `job_id`: Job ID (required if session_type is \"job_code\")\n- `project_id`: Project ID (required if session_type is \"workflow_template\")\n- `offset`: Pagination offset (optional, default: 0)\n- `limit`: Pagination limit (optional, default: 20)","ref":"LightningWeb.API.AiAssistantController.html#list_sessions/2-parameters"},{"type":"function","title":"Examples - LightningWeb.API.AiAssistantController.list_sessions/2","doc":"- GET /api/ai_assistant/sessions?session_type=job_code&job_id=123\n- GET /api/ai_assistant/sessions?session_type=workflow_template&project_id=456","ref":"LightningWeb.API.AiAssistantController.html#list_sessions/2-examples"},{"type":"module","title":"LightningWeb.API.CredentialController","doc":"API controller for credential management.\n\nHandles creation, retrieval, and deletion of credentials. Credentials are\nused to authenticate with external services and can be associated with\nmultiple projects.","ref":"LightningWeb.API.CredentialController.html"},{"type":"module","title":"Security - LightningWeb.API.CredentialController","doc":"- Credential bodies are excluded from responses for security\n- Users can only delete credentials they own\n- Project access is required to view project credentials","ref":"LightningWeb.API.CredentialController.html#module-security"},{"type":"module","title":"Examples - LightningWeb.API.CredentialController","doc":"GET /api/credentials\n    GET /api/credentials?project_id=a1b2c3d4-...\n    POST /api/credentials\n    DELETE /api/credentials/a1b2c3d4-...","ref":"LightningWeb.API.CredentialController.html#module-examples"},{"type":"function","title":"LightningWeb.API.CredentialController.create/2","doc":"Creates a new credential and optionally grants it access to projects.\n\nCreates a credential owned by the authenticated user. If project_credentials\nare specified, the user must have access to all listed projects. The credential\nbody is included in the response only upon creation.","ref":"LightningWeb.API.CredentialController.html#create/2"},{"type":"function","title":"Parameters - LightningWeb.API.CredentialController.create/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `name` - Credential name (required)\n  - `body` - Credential JSON body with authentication details (required)\n  - `project_credentials` - List of project associations (optional)","ref":"LightningWeb.API.CredentialController.html#create/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.CredentialController.create/2","doc":"- `201 Created` with credential JSON including body\n- `422 Unprocessable Entity` on validation errors\n- `403 Forbidden` if user lacks access to specified projects","ref":"LightningWeb.API.CredentialController.html#create/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.CredentialController.create/2","doc":"# Create credential without project association\n    POST /api/credentials\n    {\n      \"name\": \"My API Key\",\n      \"body\": {\"apiKey\": \"secret123\"}\n    }\n\n    # Create credential with project associations\n    POST /api/credentials\n    {\n      \"name\": \"Shared Credential\",\n      \"body\": {\"token\": \"abc123\"},\n      \"project_credentials\": [\n        {\"project_id\": \"a1b2c3d4-...\"}\n      ]\n    }","ref":"LightningWeb.API.CredentialController.html#create/2-examples"},{"type":"function","title":"LightningWeb.API.CredentialController.delete/2","doc":"Deletes a credential owned by the authenticated user.\n\nPermanently removes a credential. Only the credential owner can delete it.\nCredentials in use by workflows cannot be deleted and will return an error.","ref":"LightningWeb.API.CredentialController.html#delete/2"},{"type":"function","title":"Parameters - LightningWeb.API.CredentialController.delete/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Credential UUID (required)","ref":"LightningWeb.API.CredentialController.html#delete/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.CredentialController.delete/2","doc":"- `204 No Content` on successful deletion\n- `404 Not Found` if credential doesn't exist or invalid UUID\n- `403 Forbidden` if user is not the credential owner","ref":"LightningWeb.API.CredentialController.html#delete/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.CredentialController.delete/2","doc":"DELETE /api/credentials/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.CredentialController.html#delete/2-examples"},{"type":"function","title":"LightningWeb.API.CredentialController.index/2","doc":"Lists credentials with optional project filtering.\n\nThis function has two variants:\n- With `project_id`: Returns all credentials for a specific project (regardless of owner)\n- Without `project_id`: Returns only credentials owned by the authenticated user\n\nCredential bodies are excluded from responses for security.","ref":"LightningWeb.API.CredentialController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.CredentialController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (optional, filters to specific project)","ref":"LightningWeb.API.CredentialController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.CredentialController.index/2","doc":"- `200 OK` with list of credentials (bodies excluded)\n- `404 Not Found` if project doesn't exist (when project_id provided)\n- `403 Forbidden` if user lacks project access (when project_id provided)","ref":"LightningWeb.API.CredentialController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.CredentialController.index/2","doc":"# User's own credentials\n    GET /api/credentials\n\n    # All credentials for a project\n    GET /api/credentials?project_id=a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.CredentialController.html#index/2-examples"},{"type":"module","title":"LightningWeb.API.CredentialJSON","doc":"JSON views for the API credential endpoints","ref":"LightningWeb.API.CredentialJSON.html"},{"type":"function","title":"LightningWeb.API.CredentialJSON.create/1","doc":"","ref":"LightningWeb.API.CredentialJSON.html#create/1"},{"type":"function","title":"LightningWeb.API.CredentialJSON.index/1","doc":"","ref":"LightningWeb.API.CredentialJSON.html#index/1"},{"type":"module","title":"LightningWeb.API.Helpers","doc":"Helpers for the API views","ref":"LightningWeb.API.Helpers.html"},{"type":"function","title":"LightningWeb.API.Helpers.pagination_link/3","doc":"","ref":"LightningWeb.API.Helpers.html#pagination_link/3"},{"type":"function","title":"LightningWeb.API.Helpers.pagination_links/2","doc":"","ref":"LightningWeb.API.Helpers.html#pagination_links/2"},{"type":"function","title":"LightningWeb.API.Helpers.url_for/2","doc":"","ref":"LightningWeb.API.Helpers.html#url_for/2"},{"type":"module","title":"LightningWeb.API.JobController","doc":"API controller for job management.\n\nProvides read access to jobs within workflows. Jobs are JavaScript execution\nunits that process data using OpenFn adaptors. Jobs belong to workflows and\ninherit access controls from their parent project.","ref":"LightningWeb.API.JobController.html"},{"type":"module","title":"Query Parameters (index) - LightningWeb.API.JobController","doc":"- `page` - Page number (default: 1)\n- `page_size` - Number of items per page (default: 10)\n- `project_id` - Filter jobs by project UUID (optional)","ref":"LightningWeb.API.JobController.html#module-query-parameters-index"},{"type":"module","title":"Examples - LightningWeb.API.JobController","doc":"GET /api/jobs\n    GET /api/jobs?project_id=a1b2c3d4-...&page=1&page_size=20\n    GET /api/jobs/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.JobController.html#module-examples"},{"type":"function","title":"LightningWeb.API.JobController.index/2","doc":"Lists jobs with optional project filtering.\n\nThis function has two variants:\n- With `project_id`: Returns jobs for a specific project\n- Without `project_id`: Returns jobs across all accessible projects\n\nReturns a paginated list of jobs.","ref":"LightningWeb.API.JobController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.JobController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (optional, filters to specific project)\n  - `page` - Page number (optional, default: 1)\n  - `page_size` - Items per page (optional, default: 10)","ref":"LightningWeb.API.JobController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.JobController.index/2","doc":"- Renders JSON with paginated list of jobs\n- `404 Not Found` if project doesn't exist (when project_id provided)\n- `403 Forbidden` if user lacks project access (when project_id provided)","ref":"LightningWeb.API.JobController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.JobController.index/2","doc":"# All jobs accessible to user\n    GET /api/jobs\n    GET /api/jobs?page=3&page_size=25\n\n    # Jobs for specific project\n    GET /api/jobs?project_id=a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d\n    GET /api/jobs?project_id=a1b2c3d4-...&page=2&page_size=50","ref":"LightningWeb.API.JobController.html#index/2-examples"},{"type":"function","title":"LightningWeb.API.JobController.show/2","doc":"Retrieves a specific job by ID.\n\nReturns detailed information about a single job including its body, adaptor,\nand workflow association. Access is granted if the user has access to the\njob's parent project.","ref":"LightningWeb.API.JobController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.JobController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Job UUID (required)","ref":"LightningWeb.API.JobController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.JobController.show/2","doc":"- `200 OK` with job JSON on success\n- `404 Not Found` if job doesn't exist\n- `403 Forbidden` if user lacks project access","ref":"LightningWeb.API.JobController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.JobController.show/2","doc":"GET /api/jobs/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.JobController.html#show/2-examples"},{"type":"module","title":"LightningWeb.API.LogLinesController","doc":"API controller for managing log lines.","ref":"LightningWeb.API.LogLinesController.html"},{"type":"module","title":"Query Parameters - LightningWeb.API.LogLinesController","doc":"- `page` - Page number (default: 1)\n- `page_size` - Number of items per page (default: 10)\n- `timestamp_after` - Filter logs after this ISO8601 datetime\n- `timestamp_before` - Filter logs before this ISO8601 datetime\n- `project_id` - Filter by project UUID\n- `workflow_id` - Filter by workflow UUID\n- `job_id` - Filter by job UUID\n- `work_order_id` - Filter by work order UUID\n- `run_id` - Filter by run UUID\n- `level` - Filter by log level (success, always, info, warn, error, debug)","ref":"LightningWeb.API.LogLinesController.html#module-query-parameters"},{"type":"module","title":"Examples - LightningWeb.API.LogLinesController","doc":"GET /api/log_lines?page=1&page_size=50\n    GET /api/log_lines?timestamp_after=2024-01-01T00:00:00Z\n    GET /api/log_lines?run_id=uuid&level=error\n    GET /api/log_lines?project_id=uuid&timestamp_after=2024-01-01T00:00:00Z","ref":"LightningWeb.API.LogLinesController.html#module-examples"},{"type":"function","title":"LightningWeb.API.LogLinesController.index/2","doc":"Lists log lines with pagination and filtering.\n\nReturns a paginated list of log lines filtered by the query parameters.\nValidates datetime parameters before applying filters and enforces\nauthorization based on the current resource (user or API token).","ref":"LightningWeb.API.LogLinesController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.LogLinesController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map of query parameters for filtering and pagination","ref":"LightningWeb.API.LogLinesController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.LogLinesController.index/2","doc":"- Renders JSON with paginated log lines on success\n- Returns error via fallback controller if datetime validation fails","ref":"LightningWeb.API.LogLinesController.html#index/2-returns"},{"type":"module","title":"LightningWeb.API.ProjectController","doc":"API controller for project management.\n\nProvides read access to projects for authenticated users and API tokens.\nUsers can list projects they have access to and retrieve individual project details.","ref":"LightningWeb.API.ProjectController.html"},{"type":"module","title":"Query Parameters (index) - LightningWeb.API.ProjectController","doc":"- `page` - Page number (default: 1)\n- `page_size` - Number of items per page (default: 10)","ref":"LightningWeb.API.ProjectController.html#module-query-parameters-index"},{"type":"module","title":"Examples - LightningWeb.API.ProjectController","doc":"GET /api/projects?page=1&page_size=20\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.ProjectController.html#module-examples"},{"type":"function","title":"LightningWeb.API.ProjectController.index/2","doc":"Lists all projects accessible to the authenticated user.\n\nReturns a paginated list of projects that the current user or API token\nhas access to.","ref":"LightningWeb.API.ProjectController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.ProjectController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map of query parameters for pagination","ref":"LightningWeb.API.ProjectController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.ProjectController.index/2","doc":"- Renders JSON with paginated list of projects","ref":"LightningWeb.API.ProjectController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.ProjectController.index/2","doc":"GET /api/projects\n    GET /api/projects?page=2&page_size=50","ref":"LightningWeb.API.ProjectController.html#index/2-examples"},{"type":"function","title":"LightningWeb.API.ProjectController.show/2","doc":"Retrieves a specific project by ID.\n\nReturns detailed information about a single project if the authenticated\nuser has access to it.","ref":"LightningWeb.API.ProjectController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.ProjectController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Project UUID (required)","ref":"LightningWeb.API.ProjectController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.ProjectController.show/2","doc":"- `200 OK` with project JSON on success\n- `404 Not Found` if project doesn't exist\n- `403 Forbidden` if user lacks access to the project","ref":"LightningWeb.API.ProjectController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.ProjectController.show/2","doc":"GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.ProjectController.html#show/2-examples"},{"type":"module","title":"LightningWeb.API.ProvisioningController","doc":"API controller for project provisioning and deployment.\n\nHandles creation, updates, and retrieval of project state for idempotent\ndeployments via the CLI. Supports both JSON and YAML formats.","ref":"LightningWeb.API.ProvisioningController.html"},{"type":"module","title":"Endpoints - LightningWeb.API.ProvisioningController","doc":"- `POST /api/provision` - Create or update a project\n- `GET /api/provision/:id` - Get project state as JSON\n- `GET /api/provision/:id.yaml` - Get project state as YAML","ref":"LightningWeb.API.ProvisioningController.html#module-endpoints"},{"type":"function","title":"LightningWeb.API.ProvisioningController.create/2","doc":"Creates or updates a project based on a JSON payload.\n\nPerforms idempotent project provisioning by accepting UUIDs for existing\nresources. If a project ID is provided and exists, the project will be\nupdated; otherwise, a new project is created.","ref":"LightningWeb.API.ProvisioningController.html#create/2"},{"type":"function","title":"Parameters - LightningWeb.API.ProvisioningController.create/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing project configuration (workflows, jobs, triggers, etc.)","ref":"LightningWeb.API.ProvisioningController.html#create/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.ProvisioningController.create/2","doc":"- `201 Created` with project JSON on success\n- `422 Unprocessable Entity` with changeset errors on validation failure\n- `403 Forbidden` if user lacks provisioning permissions","ref":"LightningWeb.API.ProvisioningController.html#create/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.ProvisioningController.create/2","doc":"# Create new project\n    POST /api/provision\n    {\n      \"name\": \"My Project\",\n      \"workflows\": [...]\n    }\n\n    # Update existing project\n    POST /api/provision\n    {\n      \"id\": \"a1b2c3d4-...\",\n      \"name\": \"Updated Project\",\n      \"workflows\": [...]\n    }","ref":"LightningWeb.API.ProvisioningController.html#create/2-examples"},{"type":"function","title":"LightningWeb.API.ProvisioningController.show/2","doc":"Returns a project state as JSON with UUIDs for idempotent deployments.\n\nRetrieves the complete project configuration including workflows, jobs,\ntriggers, edges, and credentials. UUIDs are included to enable updates\nto existing projects via the CLI.","ref":"LightningWeb.API.ProvisioningController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.ProvisioningController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Project UUID (required)\n  - `snapshots` - Whether to include workflow snapshots (optional)","ref":"LightningWeb.API.ProvisioningController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.ProvisioningController.show/2","doc":"- `200 OK` with project JSON on success\n- `404 Not Found` if project doesn't exist\n- `403 Forbidden` if user lacks describe permissions","ref":"LightningWeb.API.ProvisioningController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.ProvisioningController.show/2","doc":"# Get project state\n    GET /api/provision/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d\n\n    # Get project state with snapshots\n    GET /api/provision/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d?snapshots=true","ref":"LightningWeb.API.ProvisioningController.html#show/2-examples"},{"type":"function","title":"LightningWeb.API.ProvisioningController.show_yaml/2","doc":"Returns a project state as YAML for CLI deployments.\n\nExports the complete project configuration in YAML format, equivalent to\nthe \"Export to YAML\" feature in the UI. Useful for version control and\nCLI-based workflows.","ref":"LightningWeb.API.ProvisioningController.html#show_yaml/2"},{"type":"function","title":"Parameters - LightningWeb.API.ProvisioningController.show_yaml/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Project UUID (required)\n  - `snapshots` - Whether to include workflow snapshots (optional)","ref":"LightningWeb.API.ProvisioningController.html#show_yaml/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.ProvisioningController.show_yaml/2","doc":"- `200 OK` with YAML content on success\n- `404 Not Found` if project doesn't exist\n- `403 Forbidden` if user lacks describe permissions","ref":"LightningWeb.API.ProvisioningController.html#show_yaml/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.ProvisioningController.show_yaml/2","doc":"# Get project state as YAML\n    GET /api/provision/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d.yaml\n\n    # Get project state as YAML with snapshots\n    GET /api/provision/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d.yaml?snapshots=true","ref":"LightningWeb.API.ProvisioningController.html#show_yaml/2-examples"},{"type":"module","title":"LightningWeb.API.RegistrationController","doc":"","ref":"LightningWeb.API.RegistrationController.html"},{"type":"function","title":"LightningWeb.API.RegistrationController.create/2","doc":"","ref":"LightningWeb.API.RegistrationController.html#create/2"},{"type":"module","title":"LightningWeb.API.RunController","doc":"API controller for managing runs.","ref":"LightningWeb.API.RunController.html"},{"type":"module","title":"Query Parameters - LightningWeb.API.RunController","doc":"- `page` - Page number (default: 1)\n- `page_size` - Number of items per page (default: 10)\n- `inserted_after` - Filter runs created after this ISO8601 datetime\n- `inserted_before` - Filter runs created before this ISO8601 datetime\n- `updated_after` - Filter runs updated after this ISO8601 datetime\n- `updated_before` - Filter runs updated before this ISO8601 datetime","ref":"LightningWeb.API.RunController.html#module-query-parameters"},{"type":"module","title":"Examples - LightningWeb.API.RunController","doc":"GET /api/runs?page=1&page_size=20\n    GET /api/runs?inserted_after=2024-01-01T00:00:00Z\n    GET /api/runs?inserted_after=2024-01-01T00:00:00Z&inserted_before=2024-12-31T23:59:59Z\n    GET /api/projects/:project_id/runs?inserted_after=2024-01-01T00:00:00Z","ref":"LightningWeb.API.RunController.html#module-examples"},{"type":"function","title":"LightningWeb.API.RunController.index/2","doc":"Lists runs with optional project filtering.\n\nThis function has two variants:\n- With `project_id`: Returns runs for a specific project\n- Without `project_id`: Returns runs across all accessible projects\n\nReturns a paginated list of runs with optional datetime filtering.","ref":"LightningWeb.API.RunController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.RunController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (optional, filters to specific project)\n  - `page` - Page number (optional, default: 1)\n  - `page_size` - Items per page (optional, default: 10)\n  - `inserted_after` - Filter runs created after ISO8601 datetime (optional)\n  - `inserted_before` - Filter runs created before ISO8601 datetime (optional)\n  - `updated_after` - Filter runs updated after ISO8601 datetime (optional)\n  - `updated_before` - Filter runs updated before ISO8601 datetime (optional)","ref":"LightningWeb.API.RunController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.RunController.index/2","doc":"- Renders JSON with paginated list of runs\n- `404 Not Found` if project doesn't exist (when project_id provided)\n- `403 Forbidden` if user lacks project access (when project_id provided)\n- `422 Unprocessable Entity` if datetime parameters are invalid","ref":"LightningWeb.API.RunController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.RunController.index/2","doc":"# All runs accessible to user\n    GET /api/runs\n    GET /api/runs?page=2&page_size=50\n    GET /api/runs?inserted_after=2024-01-01T00:00:00Z\n\n    # Runs for specific project\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/runs\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/runs?page=2\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/runs?inserted_after=2024-01-01T00:00:00Z","ref":"LightningWeb.API.RunController.html#index/2-examples"},{"type":"function","title":"LightningWeb.API.RunController.show/2","doc":"Retrieves a specific run by ID.\n\nReturns detailed information about a single run including its associated\nwork order and workflow. Access is granted if the user has access to the\nrun's parent project.","ref":"LightningWeb.API.RunController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.RunController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Run UUID (required)","ref":"LightningWeb.API.RunController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.RunController.show/2","doc":"- `200 OK` with run JSON including work order and workflow\n- `404 Not Found` if run doesn't exist\n- `403 Forbidden` if user lacks project access","ref":"LightningWeb.API.RunController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.RunController.show/2","doc":"GET /api/runs/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.RunController.html#show/2-examples"},{"type":"module","title":"LightningWeb.API.WorkOrdersController","doc":"API controller for managing work orders.","ref":"LightningWeb.API.WorkOrdersController.html"},{"type":"module","title":"Query Parameters - LightningWeb.API.WorkOrdersController","doc":"- `page` - Page number (default: 1)\n- `page_size` - Number of items per page (default: 10)\n- `inserted_after` - Filter work orders created after this ISO8601 datetime\n- `inserted_before` - Filter work orders created before this ISO8601 datetime\n- `updated_after` - Filter work orders updated after this ISO8601 datetime\n- `updated_before` - Filter work orders updated before this ISO8601 datetime","ref":"LightningWeb.API.WorkOrdersController.html#module-query-parameters"},{"type":"module","title":"Examples - LightningWeb.API.WorkOrdersController","doc":"GET /api/work_orders?page=1&page_size=20\n    GET /api/work_orders?inserted_after=2024-01-01T00:00:00Z\n    GET /api/work_orders?inserted_after=2024-01-01T00:00:00Z&inserted_before=2024-12-31T23:59:59Z\n    GET /api/projects/:project_id/work_orders?inserted_after=2024-01-01T00:00:00Z","ref":"LightningWeb.API.WorkOrdersController.html#module-examples"},{"type":"function","title":"LightningWeb.API.WorkOrdersController.index/2","doc":"Lists work orders with optional project filtering.\n\nThis function has two variants:\n- With `project_id`: Returns work orders for a specific project\n- Without `project_id`: Returns work orders across all accessible projects\n\nReturns a paginated list of work orders with optional datetime filtering.","ref":"LightningWeb.API.WorkOrdersController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkOrdersController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (optional, filters to specific project)\n  - `page` - Page number (optional, default: 1)\n  - `page_size` - Items per page (optional, default: 10)\n  - `inserted_after` - Filter work orders created after ISO8601 datetime (optional)\n  - `inserted_before` - Filter work orders created before ISO8601 datetime (optional)\n  - `updated_after` - Filter work orders updated after ISO8601 datetime (optional)\n  - `updated_before` - Filter work orders updated before ISO8601 datetime (optional)","ref":"LightningWeb.API.WorkOrdersController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkOrdersController.index/2","doc":"- Renders JSON with paginated list of work orders\n- `404 Not Found` if project doesn't exist (when project_id provided)\n- `403 Forbidden` if user lacks project access (when project_id provided)\n- `422 Unprocessable Entity` if datetime parameters are invalid","ref":"LightningWeb.API.WorkOrdersController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkOrdersController.index/2","doc":"# All work orders accessible to user\n    GET /api/work_orders\n    GET /api/work_orders?page=2&page_size=50\n    GET /api/work_orders?inserted_after=2024-01-01T00:00:00Z\n\n    # Work orders for specific project\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/work_orders\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/work_orders?page=2\n    GET /api/projects/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d/work_orders?inserted_after=2024-01-01T00:00:00Z","ref":"LightningWeb.API.WorkOrdersController.html#index/2-examples"},{"type":"function","title":"LightningWeb.API.WorkOrdersController.show/2","doc":"Retrieves a specific work order by ID.\n\nReturns detailed information about a single work order including its\nassociated workflow and runs. Access is granted if the user has access\nto the work order's parent project.","ref":"LightningWeb.API.WorkOrdersController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkOrdersController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Work order UUID (required)","ref":"LightningWeb.API.WorkOrdersController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkOrdersController.show/2","doc":"- `200 OK` with work order JSON including workflow and runs\n- `404 Not Found` if work order doesn't exist\n- `403 Forbidden` if user lacks project access","ref":"LightningWeb.API.WorkOrdersController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkOrdersController.show/2","doc":"GET /api/work_orders/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.WorkOrdersController.html#show/2-examples"},{"type":"module","title":"LightningWeb.API.WorkflowsController","doc":"API controller for workflow management.\n\nHandles CRUD operations for workflows, including their jobs, triggers, and edges.\nWorkflows are directed acyclic graphs (DAGs) that define data processing pipelines.","ref":"LightningWeb.API.WorkflowsController.html"},{"type":"module","title":"Workflow Structure - LightningWeb.API.WorkflowsController","doc":"A workflow consists of:\n- Jobs: JavaScript execution units with adaptors\n- Triggers: Initiation methods (Webhook, Cron, Kafka)\n- Edges: Connections between triggers/jobs with conditions","ref":"LightningWeb.API.WorkflowsController.html#module-workflow-structure"},{"type":"module","title":"Validation Rules - LightningWeb.API.WorkflowsController","doc":"- Workflows must be valid DAGs (no cycles)\n- Only one trigger can be enabled at a time\n- All jobs and triggers must have valid UUIDs\n- Edges must reference existing jobs/triggers\n- Cannot modify workflows with active presence (being edited in UI)","ref":"LightningWeb.API.WorkflowsController.html#module-validation-rules"},{"type":"module","title":"Examples - LightningWeb.API.WorkflowsController","doc":"GET /api/workflows\n    GET /api/workflows?project_id=a1b2c3d4-...\n    GET /api/workflows/a1b2c3d4-...\n    POST /api/workflows\n    PATCH /api/workflows/a1b2c3d4-...","ref":"LightningWeb.API.WorkflowsController.html#module-examples"},{"type":"function","title":"LightningWeb.API.WorkflowsController.create/2","doc":"Creates a new workflow in a project.\n\nCreates a workflow with jobs, triggers, and edges. Validates the workflow\nstructure and ensures it forms a valid DAG with no cycles.","ref":"LightningWeb.API.WorkflowsController.html#create/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkflowsController.create/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (required)\n  - `name` - Workflow name (required)\n  - `jobs` - List of job definitions with UUIDs (required)\n  - `triggers` - List of trigger definitions with UUIDs (required)\n  - `edges` - List of edge definitions connecting jobs/triggers (required)","ref":"LightningWeb.API.WorkflowsController.html#create/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkflowsController.create/2","doc":"- `201 Created` with workflow JSON on success\n- `422 Unprocessable Entity` with validation errors\n- `403 Forbidden` if user lacks write access","ref":"LightningWeb.API.WorkflowsController.html#create/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkflowsController.create/2","doc":"POST /api/workflows\n    {\n      \"project_id\": \"a1b2c3d4-...\",\n      \"name\": \"Data Processing Pipeline\",\n      \"jobs\": [\n        {\n          \"id\": \"job-uuid-1\",\n          \"name\": \"Extract Data\",\n          \"body\": \"fn(state => state)\"\n        }\n      ],\n      \"triggers\": [\n        {\n          \"id\": \"trigger-uuid-1\",\n          \"type\": \"webhook\",\n          \"enabled\": true\n        }\n      ],\n      \"edges\": [\n        {\n          \"source_trigger_id\": \"trigger-uuid-1\",\n          \"target_job_id\": \"job-uuid-1\",\n          \"condition\": \"always\"\n        }\n      ]\n    }","ref":"LightningWeb.API.WorkflowsController.html#create/2-examples"},{"type":"function","title":"LightningWeb.API.WorkflowsController.index/2","doc":"Lists workflows with optional project filtering.\n\nThis function has two variants:\n- With `project_id`: Returns workflows for a specific project\n- Without `project_id`: Returns workflows across all accessible projects\n\nReturns all workflows including their jobs, triggers, and edges.","ref":"LightningWeb.API.WorkflowsController.html#index/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkflowsController.index/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (optional, filters to specific project)","ref":"LightningWeb.API.WorkflowsController.html#index/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkflowsController.index/2","doc":"- `200 OK` with workflows list and empty errors map\n- `404 Not Found` if project doesn't exist (when project_id provided)\n- `403 Forbidden` if user lacks project access (when project_id provided)","ref":"LightningWeb.API.WorkflowsController.html#index/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkflowsController.index/2","doc":"# All workflows accessible to user\n    GET /api/workflows\n\n    # Workflows for specific project\n    GET /api/workflows?project_id=a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d","ref":"LightningWeb.API.WorkflowsController.html#index/2-examples"},{"type":"function","title":"LightningWeb.API.WorkflowsController.show/2","doc":"Retrieves a workflow by ID.\n\nThis function has two variants:\n- With `project_id`: Validates workflow belongs to specified project\n- Without `project_id`: Determines project access from workflow association\n\nReturns a workflow with all its jobs, triggers, and edges.","ref":"LightningWeb.API.WorkflowsController.html#show/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkflowsController.show/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `id` - Workflow UUID (required)\n  - `project_id` - Project UUID (optional, for validation)","ref":"LightningWeb.API.WorkflowsController.html#show/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkflowsController.show/2","doc":"- `200 OK` with workflow JSON on success\n- `404 Not Found` if workflow doesn't exist\n- `400 Bad Request` if workflow exists but project_id mismatch\n- `403 Forbidden` if user lacks project access","ref":"LightningWeb.API.WorkflowsController.html#show/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkflowsController.show/2","doc":"# Get workflow by ID only\n    GET /api/workflows/a1b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d\n\n    # Get workflow with project validation\n    GET /api/workflows/workflow-uuid-1?project_id=a1b2c3d4-...","ref":"LightningWeb.API.WorkflowsController.html#show/2-examples"},{"type":"function","title":"LightningWeb.API.WorkflowsController.update/2","doc":"Updates an existing workflow.\n\nModifies a workflow's structure, including its jobs, triggers, and edges.\nValidates the updated workflow forms a valid DAG. Prevents updates while\nworkflow is being edited in the UI (active presence).","ref":"LightningWeb.API.WorkflowsController.html#update/2"},{"type":"function","title":"Parameters - LightningWeb.API.WorkflowsController.update/2","doc":"- `conn` - The Plug connection struct with the current resource assigned\n- `params` - Map containing:\n  - `project_id` - Project UUID (required, must match workflow's project)\n  - `id` - Workflow UUID (required)\n  - `name` - Updated workflow name (optional)\n  - `jobs` - Updated jobs list (optional)\n  - `triggers` - Updated triggers list (optional, cannot replace existing)\n  - `edges` - Updated edges list (optional)","ref":"LightningWeb.API.WorkflowsController.html#update/2-parameters"},{"type":"function","title":"Returns - LightningWeb.API.WorkflowsController.update/2","doc":"- `200 OK` with updated workflow JSON on success\n- `422 Unprocessable Entity` with validation errors\n- `409 Conflict` if workflow has active presence\n- `403 Forbidden` if user lacks write access\n- `404 Not Found` if workflow doesn't exist","ref":"LightningWeb.API.WorkflowsController.html#update/2-returns"},{"type":"function","title":"Examples - LightningWeb.API.WorkflowsController.update/2","doc":"PATCH /api/workflows/workflow-uuid-1?project_id=a1b2c3d4-...\n    {\n      \"name\": \"Updated Pipeline Name\",\n      \"jobs\": [...]\n    }","ref":"LightningWeb.API.WorkflowsController.html#update/2-examples"},{"type":"module","title":"Lightning.Accounts","doc":"The Accounts context.","ref":"Lightning.Accounts.html"},{"type":"function","title":"Lightning.Accounts.apply_user_email/3","doc":"Emulates that the email will change without actually changing\nit in the database.","ref":"Lightning.Accounts.html#apply_user_email/3"},{"type":"function","title":"Examples - Lightning.Accounts.apply_user_email/3","doc":"iex> apply_user_email(user, \"valid password\", %{email: ...})\n    {:ok, %User{}}role: :superuser\n    iex> apply_user_email(user, \"invalid password\", %{email: ...})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#apply_user_email/3-examples"},{"type":"function","title":"Lightning.Accounts.cancel_scheduled_deletion/1","doc":"","ref":"Lightning.Accounts.html#cancel_scheduled_deletion/1"},{"type":"function","title":"Lightning.Accounts.change_scheduled_deletion/2","doc":"Returns an `%Ecto.Changeset{}` for changing the user scheduled_deletion.","ref":"Lightning.Accounts.html#change_scheduled_deletion/2"},{"type":"function","title":"Examples - Lightning.Accounts.change_scheduled_deletion/2","doc":"iex> change_scheduled_deletion(user)\n    %Ecto.Changeset{data: %User{}}","ref":"Lightning.Accounts.html#change_scheduled_deletion/2-examples"},{"type":"function","title":"Lightning.Accounts.change_superuser_registration/1","doc":"Returns an `%Ecto.Changeset{}` for tracking superuser changes.","ref":"Lightning.Accounts.html#change_superuser_registration/1"},{"type":"function","title":"Examples - Lightning.Accounts.change_superuser_registration/1","doc":"iex> change_superuser_registration(user)\n    %Ecto.Changeset{data: %User{}}","ref":"Lightning.Accounts.html#change_superuser_registration/1-examples"},{"type":"function","title":"Lightning.Accounts.change_user/2","doc":"","ref":"Lightning.Accounts.html#change_user/2"},{"type":"function","title":"Lightning.Accounts.change_user_email/2","doc":"Returns an `%Ecto.Changeset{}` for changing the user email.","ref":"Lightning.Accounts.html#change_user_email/2"},{"type":"function","title":"Examples - Lightning.Accounts.change_user_email/2","doc":"iex> change_user_email(user)\n    %Ecto.Changeset{data: %User{}}","ref":"Lightning.Accounts.html#change_user_email/2-examples"},{"type":"function","title":"Lightning.Accounts.change_user_info/2","doc":"","ref":"Lightning.Accounts.html#change_user_info/2"},{"type":"function","title":"Lightning.Accounts.change_user_password/2","doc":"Returns an `%Ecto.Changeset{}` for changing the user password.","ref":"Lightning.Accounts.html#change_user_password/2"},{"type":"function","title":"Examples - Lightning.Accounts.change_user_password/2","doc":"iex> change_user_password(user)\n    %Ecto.Changeset{data: %User{}}","ref":"Lightning.Accounts.html#change_user_password/2-examples"},{"type":"function","title":"Lightning.Accounts.change_user_registration/1","doc":"Returns an `%Ecto.Changeset{}` for tracking user changes.","ref":"Lightning.Accounts.html#change_user_registration/1"},{"type":"function","title":"Examples - Lightning.Accounts.change_user_registration/1","doc":"iex> change_user_registration(user)\n    %Ecto.Changeset{data: %User{}}","ref":"Lightning.Accounts.html#change_user_registration/1-examples"},{"type":"function","title":"Lightning.Accounts.confirm_user/1","doc":"Confirms a user by the given token.\n\nIf the token matches, the user account is marked as confirmed\nand the token is deleted.","ref":"Lightning.Accounts.html#confirm_user/1"},{"type":"function","title":"Lightning.Accounts.confirmation_required?/1","doc":"","ref":"Lightning.Accounts.html#confirmation_required?/1"},{"type":"function","title":"Lightning.Accounts.create_user/1","doc":"","ref":"Lightning.Accounts.html#create_user/1"},{"type":"function","title":"Lightning.Accounts.delete_auth_token/1","doc":"Deletes the signed token with the given context.","ref":"Lightning.Accounts.html#delete_auth_token/1"},{"type":"function","title":"Lightning.Accounts.delete_session_token/1","doc":"Deletes the signed token with the given context.","ref":"Lightning.Accounts.html#delete_session_token/1"},{"type":"function","title":"Lightning.Accounts.delete_sudo_session_token/1","doc":"Deletes the signed token with the given context.","ref":"Lightning.Accounts.html#delete_sudo_session_token/1"},{"type":"function","title":"Lightning.Accounts.delete_token/1","doc":"Deletes a token.","ref":"Lightning.Accounts.html#delete_token/1"},{"type":"function","title":"Examples - Lightning.Accounts.delete_token/1","doc":"iex> delete_token(token)\n    {:ok, %UserToken{}}\n\n    iex> delete_token(token)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#delete_token/1-examples"},{"type":"function","title":"Lightning.Accounts.delete_user/1","doc":"Deletes a user.","ref":"Lightning.Accounts.html#delete_user/1"},{"type":"function","title":"Examples - Lightning.Accounts.delete_user/1","doc":"iex> delete_user(user)\n    {:ok, %User{}}\n\n    iex> delete_user(user)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#delete_user/1-examples"},{"type":"function","title":"Lightning.Accounts.delete_user_totp/1","doc":"Deletes the given user's TOTP","ref":"Lightning.Accounts.html#delete_user_totp/1"},{"type":"function","title":"Lightning.Accounts.deliver_user_confirmation_instructions/1","doc":"Delivers the confirmation email instructions to the given user.","ref":"Lightning.Accounts.html#deliver_user_confirmation_instructions/1"},{"type":"function","title":"Examples - Lightning.Accounts.deliver_user_confirmation_instructions/1","doc":"iex> deliver_user_confirmation_instructions(user)\n    {:ok, %{to: ..., body: ...}}\n\n    iex> deliver_user_confirmation_instructions(confirmed_user)\n    {:error, :already_confirmed}","ref":"Lightning.Accounts.html#deliver_user_confirmation_instructions/1-examples"},{"type":"function","title":"Lightning.Accounts.deliver_user_confirmation_instructions/2","doc":"","ref":"Lightning.Accounts.html#deliver_user_confirmation_instructions/2"},{"type":"function","title":"Lightning.Accounts.deliver_user_reset_password_instructions/2","doc":"Delivers the reset password email to the given user.","ref":"Lightning.Accounts.html#deliver_user_reset_password_instructions/2"},{"type":"function","title":"Examples - Lightning.Accounts.deliver_user_reset_password_instructions/2","doc":"iex> deliver_user_reset_password_instructions(user, &Routes.user_reset_password_url(conn, :edit, &1))\n    {:ok, %{to: ..., body: ...}}","ref":"Lightning.Accounts.html#deliver_user_reset_password_instructions/2-examples"},{"type":"function","title":"Lightning.Accounts.exchange_auth_token/1","doc":"Exchanges an auth token for a session token.\n\nThe auth token is removed from the database if successful.","ref":"Lightning.Accounts.html#exchange_auth_token/1"},{"type":"function","title":"Lightning.Accounts.experimental_features_enabled?/1","doc":"Checks if experimental features are enabled for a user.\n\nReturns true if the user has experimental features enabled in their preferences,\nfalse otherwise. Safely handles nil preferences map and defaults to false when\nthe \"experimental_features\" key is not set.","ref":"Lightning.Accounts.html#experimental_features_enabled?/1"},{"type":"function","title":"Examples - Lightning.Accounts.experimental_features_enabled?/1","doc":"iex> experimental_features_enabled?(%User{preferences: %{\"experimental_features\" => true}})\n    true\n\n    iex> experimental_features_enabled?(%User{preferences: %{}})\n    false\n\n    iex> experimental_features_enabled?(%User{preferences: nil})\n    false","ref":"Lightning.Accounts.html#experimental_features_enabled?/1-examples"},{"type":"function","title":"Lightning.Accounts.generate_api_token/1","doc":"Generates an API token for a user.","ref":"Lightning.Accounts.html#generate_api_token/1"},{"type":"function","title":"Lightning.Accounts.generate_auth_token/1","doc":"Generates an auth token.","ref":"Lightning.Accounts.html#generate_auth_token/1"},{"type":"function","title":"Lightning.Accounts.generate_sudo_session_token/1","doc":"Generates a 2FA session token.","ref":"Lightning.Accounts.html#generate_sudo_session_token/1"},{"type":"function","title":"Lightning.Accounts.generate_user_session_token/1","doc":"Generates a session token.","ref":"Lightning.Accounts.html#generate_user_session_token/1"},{"type":"function","title":"Lightning.Accounts.get_preference/2","doc":"Retrieves a specific preference value for a given user.\n\nReturns the value of the specified key from the user's preferences.\nIf the value is the string `\"true\"` or `\"false\"`, it is converted to a boolean.","ref":"Lightning.Accounts.html#get_preference/2"},{"type":"function","title":"Examples - Lightning.Accounts.get_preference/2","doc":"iex> get_preference(user, \"editor.orientation\")\n    \"vertical\"\n\n    iex> get_preference(user, \"notifications.enabled\")\n    true","ref":"Lightning.Accounts.html#get_preference/2-examples"},{"type":"function","title":"Lightning.Accounts.get_token!/1","doc":"Gets a single token.\n\nRaises `Ecto.NoResultsError` if the UserToken does not exist.","ref":"Lightning.Accounts.html#get_token!/1"},{"type":"function","title":"Examples - Lightning.Accounts.get_token!/1","doc":"iex> get_token!(123)\n    %UserToken{}\n\n    iex> get_token!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Accounts.html#get_token!/1-examples"},{"type":"function","title":"Lightning.Accounts.get_user/1","doc":"Gets a single user.","ref":"Lightning.Accounts.html#get_user/1"},{"type":"function","title":"Examples - Lightning.Accounts.get_user/1","doc":"iex> get_user(123)\n    %User{}\n\n    iex> get_user!(456)\n    nil","ref":"Lightning.Accounts.html#get_user/1-examples"},{"type":"function","title":"Lightning.Accounts.get_user!/1","doc":"Gets a single user.\n\nRaises `Ecto.NoResultsError` if the User does not exist.\n\nSee `get_user/1`.","ref":"Lightning.Accounts.html#get_user!/1"},{"type":"function","title":"Lightning.Accounts.get_user_by_api_token/1","doc":"Gets the user with the given signed token.","ref":"Lightning.Accounts.html#get_user_by_api_token/1"},{"type":"function","title":"Lightning.Accounts.get_user_by_auth_token/1","doc":"Gets the user with the given signed token.","ref":"Lightning.Accounts.html#get_user_by_auth_token/1"},{"type":"function","title":"Lightning.Accounts.get_user_by_email/1","doc":"Gets a user by email.","ref":"Lightning.Accounts.html#get_user_by_email/1"},{"type":"function","title":"Examples - Lightning.Accounts.get_user_by_email/1","doc":"iex> get_user_by_email(\"foo@example.com\")\n    %User{}\n\n    iex> get_user_by_email(\"unknown@example.com\")\n    nil","ref":"Lightning.Accounts.html#get_user_by_email/1-examples"},{"type":"function","title":"Lightning.Accounts.get_user_by_email_and_password/2","doc":"Gets a user by email and password.","ref":"Lightning.Accounts.html#get_user_by_email_and_password/2"},{"type":"function","title":"Examples - Lightning.Accounts.get_user_by_email_and_password/2","doc":"iex> get_user_by_email_and_password(\"foo@example.com\", \"correct_password\")\n    %User{}\n\n    iex> get_user_by_email_and_password(\"foo@example.com\", \"invalid_password\")\n    nil","ref":"Lightning.Accounts.html#get_user_by_email_and_password/2-examples"},{"type":"function","title":"Lightning.Accounts.get_user_by_reset_password_token/1","doc":"Gets the user by reset password token.","ref":"Lightning.Accounts.html#get_user_by_reset_password_token/1"},{"type":"function","title":"Examples - Lightning.Accounts.get_user_by_reset_password_token/1","doc":"iex> get_user_by_reset_password_token(\"validtoken\")\n    %User{}\n\n    iex> get_user_by_reset_password_token(\"invalidtoken\")\n    nil","ref":"Lightning.Accounts.html#get_user_by_reset_password_token/1-examples"},{"type":"function","title":"Lightning.Accounts.get_user_by_session_token/1","doc":"Gets the user with the given signed token.","ref":"Lightning.Accounts.html#get_user_by_session_token/1"},{"type":"function","title":"Lightning.Accounts.get_user_totp/1","doc":"Gets a single UserTOTP if any exists.","ref":"Lightning.Accounts.html#get_user_totp/1"},{"type":"function","title":"Lightning.Accounts.get_users_to_alert_for_project/1","doc":"Gets all users to alert of workflow failure for a project","ref":"Lightning.Accounts.html#get_users_to_alert_for_project/1"},{"type":"function","title":"Lightning.Accounts.has_activity_in_projects?/1","doc":"","ref":"Lightning.Accounts.html#has_activity_in_projects?/1"},{"type":"function","title":"Lightning.Accounts.has_one_superuser?/0","doc":"Used to determine if there is at least one Superuser in the system.\nThis triggers the setup page on fresh installs.","ref":"Lightning.Accounts.html#has_one_superuser?/0"},{"type":"function","title":"Lightning.Accounts.list_api_tokens/1","doc":"Lists all user tokens","ref":"Lightning.Accounts.html#list_api_tokens/1"},{"type":"function","title":"Lightning.Accounts.list_user_backup_codes/1","doc":"Lists the user backup codes","ref":"Lightning.Accounts.html#list_user_backup_codes/1"},{"type":"function","title":"Lightning.Accounts.list_users/0","doc":"Returns the list of users.","ref":"Lightning.Accounts.html#list_users/0"},{"type":"function","title":"Examples - Lightning.Accounts.list_users/0","doc":"iex> list_users()\n    [%User{}, ...]","ref":"Lightning.Accounts.html#list_users/0-examples"},{"type":"function","title":"Lightning.Accounts.list_users_by_emails/1","doc":"Returns the list of users with the given emails","ref":"Lightning.Accounts.html#list_users_by_emails/1"},{"type":"function","title":"Lightning.Accounts.perform/1","doc":"Perform, when called with %{\"type\" => \"purge_deleted\"} will find users that are ready for permanent deletion and purge them.","ref":"Lightning.Accounts.html#perform/1"},{"type":"function","title":"Lightning.Accounts.purge_user/1","doc":"","ref":"Lightning.Accounts.html#purge_user/1"},{"type":"function","title":"Lightning.Accounts.regenerate_user_backup_codes/1","doc":"Regenerates the user backup codes","ref":"Lightning.Accounts.html#regenerate_user_backup_codes/1"},{"type":"function","title":"Lightning.Accounts.register_superuser/1","doc":"Registers a superuser.","ref":"Lightning.Accounts.html#register_superuser/1"},{"type":"function","title":"Examples - Lightning.Accounts.register_superuser/1","doc":"iex> register_superuser(%{field: value})\n    {:ok, %User{}}\n\n    iex> register_superuser(%{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#register_superuser/1-examples"},{"type":"function","title":"Lightning.Accounts.register_user/1","doc":"Registers a user.","ref":"Lightning.Accounts.html#register_user/1"},{"type":"function","title":"Examples - Lightning.Accounts.register_user/1","doc":"iex> register_user(%{field: value})\n    {:ok, %User{}}\n\n    iex> register_user(%{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#register_user/1-examples"},{"type":"function","title":"Lightning.Accounts.remind_account_confirmation/1","doc":"","ref":"Lightning.Accounts.html#remind_account_confirmation/1"},{"type":"function","title":"Lightning.Accounts.request_email_update/2","doc":"Delivers the update email instructions to the given user.","ref":"Lightning.Accounts.html#request_email_update/2"},{"type":"function","title":"Examples - Lightning.Accounts.request_email_update/2","doc":"iex> request_email_update(user, new_email)\n    :ok","ref":"Lightning.Accounts.html#request_email_update/2-examples"},{"type":"function","title":"Lightning.Accounts.reset_user_password/2","doc":"Resets the user password.","ref":"Lightning.Accounts.html#reset_user_password/2"},{"type":"function","title":"Examples - Lightning.Accounts.reset_user_password/2","doc":"iex> reset_user_password(user, %{password: \"new long password\", password_confirmation: \"new long password\"})\n    {:ok, %User{}}\n\n    iex> reset_user_password(user, %{password: \"valid\", password_confirmation: \"not the same\"})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#reset_user_password/2-examples"},{"type":"function","title":"Lightning.Accounts.schedule_user_deletion/2","doc":"Given a user and a confirmation email, this function sets a scheduled deletion\ndate based on the PURGE_DELETED_AFTER_DAYS environment variable. If no ENV is\nset, this date defaults to NOW but the automatic user purge cronjob will never\nrun. (Note that subsequent logins will be blocked for users pending deletion.)","ref":"Lightning.Accounts.html#schedule_user_deletion/2"},{"type":"function","title":"Lightning.Accounts.subscribe/0","doc":"See  Lightning.Accounts.Events.subscribe/0 .","ref":"Lightning.Accounts.html#subscribe/0"},{"type":"function","title":"Lightning.Accounts.sudo_session_token_valid?/2","doc":"Checks if the given sudo token for the user is valid","ref":"Lightning.Accounts.html#sudo_session_token_valid?/2"},{"type":"function","title":"Lightning.Accounts.update_user_details/2","doc":"","ref":"Lightning.Accounts.html#update_user_details/2"},{"type":"function","title":"Lightning.Accounts.update_user_email/2","doc":"Updates the user email using the given token.\n\nIf the token matches, the user email is updated and the token is deleted.\nThe confirmed_at date is also updated to the current time.","ref":"Lightning.Accounts.html#update_user_email/2"},{"type":"function","title":"Lightning.Accounts.update_user_info/2","doc":"","ref":"Lightning.Accounts.html#update_user_info/2"},{"type":"function","title":"Lightning.Accounts.update_user_password/3","doc":"Updates the user password.","ref":"Lightning.Accounts.html#update_user_password/3"},{"type":"function","title":"Examples - Lightning.Accounts.update_user_password/3","doc":"iex> update_user_password(user, \"valid password\", %{password: ...})\n    {:ok, %User{}}\n\n    iex> update_user_password(user, \"invalid password\", %{password: ...})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Accounts.html#update_user_password/3-examples"},{"type":"function","title":"Lightning.Accounts.update_user_preference/3","doc":"Updates a specific key in the user's preferences.\n\nMerges the new key-value pair into the user's existing preferences and updates the database.","ref":"Lightning.Accounts.html#update_user_preference/3"},{"type":"function","title":"Examples - Lightning.Accounts.update_user_preference/3","doc":"iex> update_user_preference(user, \"editor.orientation\", \"vertical\")\n    {:ok, %User{}}\n\n    iex> update_user_preference(user, \"notifications.enabled\", true)\n    {:ok, %User{}}","ref":"Lightning.Accounts.html#update_user_preference/3-examples"},{"type":"function","title":"Lightning.Accounts.update_user_preferences/2","doc":"Updates the user preferences.","ref":"Lightning.Accounts.html#update_user_preferences/2"},{"type":"function","title":"Examples - Lightning.Accounts.update_user_preferences/2","doc":"iex> update_user_preferences(%User{}, %{\"editor.orientaion\" => \"vertical\"})","ref":"Lightning.Accounts.html#update_user_preferences/2-examples"},{"type":"function","title":"Lightning.Accounts.upsert_user_totp/2","doc":"Updates or Inserts the user's TOTP","ref":"Lightning.Accounts.html#upsert_user_totp/2"},{"type":"function","title":"Lightning.Accounts.valid_user_backup_code?/2","doc":"Validates if the given Backup code is valid.","ref":"Lightning.Accounts.html#valid_user_backup_code?/2"},{"type":"function","title":"Lightning.Accounts.valid_user_totp?/2","doc":"Validates if the given TOTP code is valid.","ref":"Lightning.Accounts.html#valid_user_totp?/2"},{"type":"function","title":"Lightning.Accounts.validate_change_user_email/2","doc":"Validates the changes for updating a user's email address.\n\nThis function ensures that:\n- The `email` and `current_password` fields are present.\n- The new email is in a valid format.\n- The new email is different from the current one.\n- The provided `current_password` matches the user's password.","ref":"Lightning.Accounts.html#validate_change_user_email/2"},{"type":"function","title":"Parameters - Lightning.Accounts.validate_change_user_email/2","doc":"- `user`: The `%User{}` struct representing the current user.\n- `params`: A map of parameters containing the new email and current password.","ref":"Lightning.Accounts.html#validate_change_user_email/2-parameters"},{"type":"function","title":"Returns - Lightning.Accounts.validate_change_user_email/2","doc":"An `Ecto.Changeset` containing any validation errors.","ref":"Lightning.Accounts.html#validate_change_user_email/2-returns"},{"type":"function","title":"Examples - Lightning.Accounts.validate_change_user_email/2","doc":"iex> validate_change_user_email(user, %{\"email\" => \"new@example.com\", \"current_password\" => \"secret\"})\n    %Ecto.Changeset{...}","ref":"Lightning.Accounts.html#validate_change_user_email/2-examples"},{"type":"module","title":"Lightning.Accounts.Events","doc":"Publishes and subscribe to events related to user accounts.","ref":"Lightning.Accounts.Events.html"},{"type":"function","title":"Lightning.Accounts.Events.subscribe/0","doc":"","ref":"Lightning.Accounts.Events.html#subscribe/0"},{"type":"function","title":"Lightning.Accounts.Events.user_registered/1","doc":"","ref":"Lightning.Accounts.Events.html#user_registered/1"},{"type":"module","title":"Lightning.Accounts.User","doc":"The User model.","ref":"Lightning.Accounts.User.html"},{"type":"type","title":"Lightning.Accounts.User.t/0","doc":"","ref":"Lightning.Accounts.User.html#t:t/0"},{"type":"function","title":"Lightning.Accounts.User.changeset/2","doc":"","ref":"Lightning.Accounts.User.html#changeset/2"},{"type":"function","title":"Lightning.Accounts.User.confirm_changeset/1","doc":"Confirms the account by setting `confirmed_at`.","ref":"Lightning.Accounts.User.html#confirm_changeset/1"},{"type":"function","title":"Lightning.Accounts.User.details_changeset/2","doc":"A user changeset for user details:\n\n- email\n- first_name\n- last_name\n- role","ref":"Lightning.Accounts.User.html#details_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.email_changeset/2","doc":"A user changeset for changing the email.\n\nIt requires the email to change otherwise an error is added.","ref":"Lightning.Accounts.User.html#email_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.github_token_changeset/2","doc":"","ref":"Lightning.Accounts.User.html#github_token_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.info_changeset/2","doc":"A user changeset for basic information:\n\n- first_name\n- last_name\n- contact_preference","ref":"Lightning.Accounts.User.html#info_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.password_changeset/3","doc":"A user changeset for changing the password.","ref":"Lightning.Accounts.User.html#password_changeset/3"},{"type":"function","title":"Options - Lightning.Accounts.User.password_changeset/3","doc":"* `:hash_password` - Hashes the password so it can be stored securely\n    in the database and ensures the password field is cleared to prevent\n    leaks in the logs. If password hashing is not needed and clearing the\n    password field is not desired (like when using this changeset for\n    validations on a LiveView form), this option can be set to `false`.\n    Defaults to `true`.","ref":"Lightning.Accounts.User.html#password_changeset/3-options"},{"type":"function","title":"Lightning.Accounts.User.preferences_changeset/2","doc":"","ref":"Lightning.Accounts.User.html#preferences_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.remove_github_token_changeset/1","doc":"","ref":"Lightning.Accounts.User.html#remove_github_token_changeset/1"},{"type":"function","title":"Lightning.Accounts.User.scheduled_deletion_changeset/2","doc":"A user changeset for changing the scheduled_deletion property.","ref":"Lightning.Accounts.User.html#scheduled_deletion_changeset/2"},{"type":"function","title":"Lightning.Accounts.User.superuser_registration_changeset/2","doc":"A superuser changeset for registration.\n\nIt is important to validate the length of both email and password.\nOtherwise databases may truncate the email without warnings, which\ncould lead to unpredictable or insecure behaviour. Long passwords may\nalso be very expensive to hash for certain algorithms.","ref":"Lightning.Accounts.User.html#superuser_registration_changeset/2"},{"type":"function","title":"Options - Lightning.Accounts.User.superuser_registration_changeset/2","doc":"* `:hash_password` - Hashes the password so it can be stored securely\n    in the database and ensures the password field is cleared to prevent\n    leaks in the logs. If password hashing is not needed and clearing the\n    password field is not desired (like when using this changeset for\n    validations on a LiveView form), this option can be set to `false`.\n    Defaults to `true`.","ref":"Lightning.Accounts.User.html#superuser_registration_changeset/2-options"},{"type":"function","title":"Lightning.Accounts.User.user_registration_changeset/2","doc":"A user changeset for registration.\n\nIt is important to validate the length of both email and password.\nOtherwise databases may truncate the email without warnings, which\ncould lead to unpredictable or insecure behaviour. Long passwords may\nalso be very expensive to hash for certain algorithms.","ref":"Lightning.Accounts.User.html#user_registration_changeset/2"},{"type":"function","title":"Options - Lightning.Accounts.User.user_registration_changeset/2","doc":"* `:hash_password` - Hashes the password so it can be stored securely\n    in the database and ensures the password field is cleared to prevent\n    leaks in the logs. If password hashing is not needed and clearing the\n    password field is not desired (like when using this changeset for\n    validations on a LiveView form), this option can be set to `false`.\n    Defaults to `true`.","ref":"Lightning.Accounts.User.html#user_registration_changeset/2-options"},{"type":"function","title":"Lightning.Accounts.User.valid_password?/2","doc":"Verifies the password.\n\nIf there is no user or the user doesn't have a password, we call\n`Bcrypt.no_user_verify/0` to avoid timing attacks.","ref":"Lightning.Accounts.User.html#valid_password?/2"},{"type":"function","title":"Lightning.Accounts.User.validate_current_password/2","doc":"Validates the current password otherwise adds an error to the changeset.","ref":"Lightning.Accounts.User.html#validate_current_password/2"},{"type":"function","title":"Lightning.Accounts.User.validate_email/1","doc":"","ref":"Lightning.Accounts.User.html#validate_email/1"},{"type":"function","title":"Lightning.Accounts.User.validate_email_exists/1","doc":"","ref":"Lightning.Accounts.User.html#validate_email_exists/1"},{"type":"function","title":"Lightning.Accounts.User.validate_email_format/1","doc":"","ref":"Lightning.Accounts.User.html#validate_email_format/1"},{"type":"module","title":"Lightning.Accounts.User.RolesEnum","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html"},{"type":"type","title":"Lightning.Accounts.User.RolesEnum.t/0","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#t:t/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.cast/1","doc":"Callback implementation for  Ecto.Type.cast/1 .","ref":"Lightning.Accounts.User.RolesEnum.html#cast/1"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.create_type/0","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#create_type/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.drop_type/0","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#drop_type/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.dump/1","doc":"Callback implementation for  Ecto.Type.dump/1 .","ref":"Lightning.Accounts.User.RolesEnum.html#dump/1"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.embed_as/1","doc":"Callback implementation for  Ecto.Type.embed_as/1 .","ref":"Lightning.Accounts.User.RolesEnum.html#embed_as/1"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.equal?/2","doc":"Callback implementation for  Ecto.Type.equal?/2 .","ref":"Lightning.Accounts.User.RolesEnum.html#equal?/2"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.load/1","doc":"Callback implementation for  Ecto.Type.load/1 .","ref":"Lightning.Accounts.User.RolesEnum.html#load/1"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.schema/0","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#schema/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.schemaless_type/0","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#schemaless_type/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.type/0","doc":"Callback implementation for  Ecto.Type.type/0 .","ref":"Lightning.Accounts.User.RolesEnum.html#type/0"},{"type":"function","title":"Lightning.Accounts.User.RolesEnum.valid_value?/1","doc":"","ref":"Lightning.Accounts.User.RolesEnum.html#valid_value?/1"},{"type":"module","title":"Lightning.Accounts.UserBackupCode","doc":"User backup codes schema","ref":"Lightning.Accounts.UserBackupCode.html"},{"type":"type","title":"Lightning.Accounts.UserBackupCode.t/0","doc":"","ref":"Lightning.Accounts.UserBackupCode.html#t:t/0"},{"type":"function","title":"Lightning.Accounts.UserBackupCode.changeset/2","doc":"","ref":"Lightning.Accounts.UserBackupCode.html#changeset/2"},{"type":"function","title":"Lightning.Accounts.UserBackupCode.generate_backup_code/0","doc":"","ref":"Lightning.Accounts.UserBackupCode.html#generate_backup_code/0"},{"type":"module","title":"Lightning.Accounts.UserNotifier","doc":"The UserNotifier module.","ref":"Lightning.Accounts.UserNotifier.html"},{"type":"function","title":"Lightning.Accounts.UserNotifier.build_digest_url/3","doc":"","ref":"Lightning.Accounts.UserNotifier.html#build_digest_url/3"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_confirmation_instructions/2","doc":"Deliver instructions to confirm account.","ref":"Lightning.Accounts.UserNotifier.html#deliver_confirmation_instructions/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_confirmation_instructions/3","doc":"Deliver instructions to confirm account.","ref":"Lightning.Accounts.UserNotifier.html#deliver_confirmation_instructions/3"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_credential_transfer_confirmation_instructions/4","doc":"Deliver instructions to confirm a credential transfer.","ref":"Lightning.Accounts.UserNotifier.html#deliver_credential_transfer_confirmation_instructions/4"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_credential_transfer_notification/3","doc":"","ref":"Lightning.Accounts.UserNotifier.html#deliver_credential_transfer_notification/3"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_project_addition_notification/2","doc":"Deliver email to notify user of his addition of a project.","ref":"Lightning.Accounts.UserNotifier.html#deliver_project_addition_notification/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_project_digest/2","doc":"Deliver a project digest of daily/weekly or monthly activity to a user.","ref":"Lightning.Accounts.UserNotifier.html#deliver_project_digest/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_project_invitation_email/5","doc":"","ref":"Lightning.Accounts.UserNotifier.html#deliver_project_invitation_email/5"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_reset_password_instructions/2","doc":"Deliver instructions to reset a user password.","ref":"Lightning.Accounts.UserNotifier.html#deliver_reset_password_instructions/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_update_email_instructions/2","doc":"Deliver instructions to update a user.","ref":"Lightning.Accounts.UserNotifier.html#deliver_update_email_instructions/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.deliver_update_email_warning/2","doc":"Deliver warning to update a user.","ref":"Lightning.Accounts.UserNotifier.html#deliver_update_email_warning/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.notify_history_export_completion/2","doc":"","ref":"Lightning.Accounts.UserNotifier.html#notify_history_export_completion/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.notify_project_deletion/2","doc":"","ref":"Lightning.Accounts.UserNotifier.html#notify_project_deletion/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.remind_account_confirmation/2","doc":"","ref":"Lightning.Accounts.UserNotifier.html#remind_account_confirmation/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.send_credential_deletion_notification_email/2","doc":"","ref":"Lightning.Accounts.UserNotifier.html#send_credential_deletion_notification_email/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.send_data_retention_change_email/2","doc":"Deliver an email to notify the user about a data retention setting change made in their project","ref":"Lightning.Accounts.UserNotifier.html#send_data_retention_change_email/2"},{"type":"function","title":"Lightning.Accounts.UserNotifier.send_deletion_notification_email/1","doc":"Deliver an email to notify the user about their account being deleted","ref":"Lightning.Accounts.UserNotifier.html#send_deletion_notification_email/1"},{"type":"function","title":"Lightning.Accounts.UserNotifier.send_trigger_failure_mail/3","doc":"","ref":"Lightning.Accounts.UserNotifier.html#send_trigger_failure_mail/3"},{"type":"module","title":"Lightning.Accounts.UserTOTP","doc":"User Time based OTPs schema","ref":"Lightning.Accounts.UserTOTP.html"},{"type":"type","title":"Lightning.Accounts.UserTOTP.t/0","doc":"","ref":"Lightning.Accounts.UserTOTP.html#t:t/0"},{"type":"function","title":"Lightning.Accounts.UserTOTP.changeset/2","doc":"","ref":"Lightning.Accounts.UserTOTP.html#changeset/2"},{"type":"function","title":"Lightning.Accounts.UserTOTP.validate_totp/3","doc":"","ref":"Lightning.Accounts.UserTOTP.html#validate_totp/3"},{"type":"module","title":"Lightning.Accounts.UserToken","doc":"The UserToken model.\n\nThe reason why we store session tokens in the database, even\nthough Phoenix already provides a session cookie, is because\nPhoenix' default session cookies are not persisted, they are\nsimply signed and potentially encrypted. This means they are\nvalid indefinitely, unless you change the signing/encryption\nsalt.\n\nTherefore, storing them allows individual user\nsessions to be expired. The token system can also be extended\nto store additional data, such as the device used for logging in.\nYou could then use this information to display all valid sessions\nand devices in the UI and allow users to explicitly expire any\nsession they deem invalid.","ref":"Lightning.Accounts.UserToken.html"},{"type":"function","title":"Lightning.Accounts.UserToken.build_email_token/3","doc":"Builds a token and its hash to be delivered to the user's email.\n\nThe non-hashed token is sent to the user email while the\nhashed part is stored in the database. The original token cannot be reconstructed,\nwhich means anyone with read-only access to the database cannot directly use\nthe token in the application to gain access. Furthermore, if the user changes\ntheir email in the system, the tokens sent to the previous email are no longer\nvalid.\n\nUsers can easily adapt the existing code to provide other types of delivery methods,\nfor example, by phone numbers.","ref":"Lightning.Accounts.UserToken.html#build_email_token/3"},{"type":"function","title":"Lightning.Accounts.UserToken.build_token/2","doc":"Generates a token that will be stored in a signed place,\nsuch as session or cookie. As they are signed, those\ntokens do not need to be hashed.","ref":"Lightning.Accounts.UserToken.html#build_token/2"},{"type":"function","title":"Lightning.Accounts.UserToken.changeset/2","doc":"","ref":"Lightning.Accounts.UserToken.html#changeset/2"},{"type":"function","title":"Lightning.Accounts.UserToken.last_used_changeset/1","doc":"Update when the api token was last used by setting`last_used_at`.","ref":"Lightning.Accounts.UserToken.html#last_used_changeset/1"},{"type":"function","title":"Lightning.Accounts.UserToken.token_and_context_query/2","doc":"Returns the token struct for the given token value and context.","ref":"Lightning.Accounts.UserToken.html#token_and_context_query/2"},{"type":"function","title":"Lightning.Accounts.UserToken.user_and_contexts_query/2","doc":"Gets all tokens for the given user for the given contexts.","ref":"Lightning.Accounts.UserToken.html#user_and_contexts_query/2"},{"type":"function","title":"Lightning.Accounts.UserToken.verify_change_email_token_query/2","doc":"Checks if the token is valid and returns its underlying lookup query.\n\nThe query returns the user found by the token, if any.\n\nThis is used to validate requests to change the user\nemail. It is different from `verify_email_token_query/2` precisely because\n`verify_email_token_query/2` validates the email has not changed, which is\nthe starting point by this function.\n\nThe given token is valid if it matches its hashed counterpart in the\ndatabase and if it has not expired (after @change_email_validity_in_days).\nThe context must always start with \"change:\".","ref":"Lightning.Accounts.UserToken.html#verify_change_email_token_query/2"},{"type":"function","title":"Lightning.Accounts.UserToken.verify_email_token_query/2","doc":"Checks if the token is valid and returns its underlying lookup query.\n\nThe query returns the user found by the token, if any.\n\nThe given token is valid if it matches its hashed counterpart in the\ndatabase and the user email has not changed. This function also checks\nif the token is being used within a certain period, depending on the\ncontext. The default contexts supported by this function are either\n\"confirm\", for account confirmation emails, and \"reset_password\",\nfor resetting the password. For verifying requests to change the email,\nsee `verify_change_email_token_query/2`.","ref":"Lightning.Accounts.UserToken.html#verify_email_token_query/2"},{"type":"function","title":"Lightning.Accounts.UserToken.verify_token_query/2","doc":"Checks if the token is valid and returns its underlying lookup query.\n\nThe query returns the user found by the token, if any.\n\nThe token is valid if it matches the value in the database and it has\nnot expired (after @auth_validity_in_seconds or @session_validity_in_days).","ref":"Lightning.Accounts.UserToken.html#verify_token_query/2"},{"type":"behaviour","title":"Lightning.Config","doc":"Centralised runtime configuration for Lightning.","ref":"Lightning.Config.html"},{"type":"callback","title":"Lightning.Config.activity_cleanup_chunk_size/0","doc":"","ref":"Lightning.Config.html#c:activity_cleanup_chunk_size/0"},{"type":"callback","title":"Lightning.Config.adaptor_registry/0","doc":"","ref":"Lightning.Config.html#c:adaptor_registry/0"},{"type":"callback","title":"Lightning.Config.ai_assistant_modes/0","doc":"","ref":"Lightning.Config.html#c:ai_assistant_modes/0"},{"type":"callback","title":"Lightning.Config.apollo/1","doc":"","ref":"Lightning.Config.html#c:apollo/1"},{"type":"callback","title":"Lightning.Config.book_demo_banner_enabled?/0","doc":"","ref":"Lightning.Config.html#c:book_demo_banner_enabled?/0"},{"type":"callback","title":"Lightning.Config.book_demo_calendly_url/0","doc":"","ref":"Lightning.Config.html#c:book_demo_calendly_url/0"},{"type":"callback","title":"Lightning.Config.book_demo_openfn_workflow_url/0","doc":"","ref":"Lightning.Config.html#c:book_demo_openfn_workflow_url/0"},{"type":"callback","title":"Lightning.Config.broadcast_work_available?/0","doc":"","ref":"Lightning.Config.html#c:broadcast_work_available?/0"},{"type":"callback","title":"Lightning.Config.check_flag?/1","doc":"","ref":"Lightning.Config.html#c:check_flag?/1"},{"type":"callback","title":"Lightning.Config.cors_origin/0","doc":"","ref":"Lightning.Config.html#c:cors_origin/0"},{"type":"callback","title":"Lightning.Config.credential_transfer_token_validity_in_days/0","doc":"","ref":"Lightning.Config.html#c:credential_transfer_token_validity_in_days/0"},{"type":"callback","title":"Lightning.Config.default_ecto_database_timeout/0","doc":"","ref":"Lightning.Config.html#c:default_ecto_database_timeout/0"},{"type":"callback","title":"Lightning.Config.default_max_run_duration/0","doc":"","ref":"Lightning.Config.html#c:default_max_run_duration/0"},{"type":"callback","title":"Lightning.Config.email_sender_name/0","doc":"","ref":"Lightning.Config.html#c:email_sender_name/0"},{"type":"callback","title":"Lightning.Config.env/0","doc":"","ref":"Lightning.Config.html#c:env/0"},{"type":"callback","title":"Lightning.Config.external_metrics_module/0","doc":"","ref":"Lightning.Config.html#c:external_metrics_module/0"},{"type":"callback","title":"Lightning.Config.gdpr_banner/0","doc":"","ref":"Lightning.Config.html#c:gdpr_banner/0"},{"type":"callback","title":"Lightning.Config.gdpr_preferences/0","doc":"","ref":"Lightning.Config.html#c:gdpr_preferences/0"},{"type":"callback","title":"Lightning.Config.get_extension_mod/1","doc":"","ref":"Lightning.Config.html#c:get_extension_mod/1"},{"type":"callback","title":"Lightning.Config.google/1","doc":"","ref":"Lightning.Config.html#c:google/1"},{"type":"callback","title":"Lightning.Config.grace_period/0","doc":"","ref":"Lightning.Config.html#c:grace_period/0"},{"type":"callback","title":"Lightning.Config.instance_admin_email/0","doc":"","ref":"Lightning.Config.html#c:instance_admin_email/0"},{"type":"callback","title":"Lightning.Config.kafka_alternate_storage_enabled?/0","doc":"","ref":"Lightning.Config.html#c:kafka_alternate_storage_enabled?/0"},{"type":"callback","title":"Lightning.Config.kafka_alternate_storage_file_path/0","doc":"","ref":"Lightning.Config.html#c:kafka_alternate_storage_file_path/0"},{"type":"callback","title":"Lightning.Config.kafka_duplicate_tracking_retention_seconds/0","doc":"","ref":"Lightning.Config.html#c:kafka_duplicate_tracking_retention_seconds/0"},{"type":"callback","title":"Lightning.Config.kafka_notification_embargo_seconds/0","doc":"","ref":"Lightning.Config.html#c:kafka_notification_embargo_seconds/0"},{"type":"callback","title":"Lightning.Config.kafka_number_of_consumers/0","doc":"","ref":"Lightning.Config.html#c:kafka_number_of_consumers/0"},{"type":"callback","title":"Lightning.Config.kafka_number_of_messages_per_second/0","doc":"","ref":"Lightning.Config.html#c:kafka_number_of_messages_per_second/0"},{"type":"callback","title":"Lightning.Config.kafka_number_of_processors/0","doc":"","ref":"Lightning.Config.html#c:kafka_number_of_processors/0"},{"type":"callback","title":"Lightning.Config.kafka_triggers_enabled?/0","doc":"","ref":"Lightning.Config.html#c:kafka_triggers_enabled?/0"},{"type":"callback","title":"Lightning.Config.metrics_run_performance_age_seconds/0","doc":"","ref":"Lightning.Config.html#c:metrics_run_performance_age_seconds/0"},{"type":"callback","title":"Lightning.Config.metrics_run_queue_metrics_period_seconds/0","doc":"","ref":"Lightning.Config.html#c:metrics_run_queue_metrics_period_seconds/0"},{"type":"callback","title":"Lightning.Config.metrics_stalled_run_threshold_seconds/0","doc":"","ref":"Lightning.Config.html#c:metrics_stalled_run_threshold_seconds/0"},{"type":"callback","title":"Lightning.Config.metrics_unclaimed_run_threshold_seconds/0","doc":"","ref":"Lightning.Config.html#c:metrics_unclaimed_run_threshold_seconds/0"},{"type":"callback","title":"Lightning.Config.oauth_provider/1","doc":"","ref":"Lightning.Config.html#c:oauth_provider/1"},{"type":"callback","title":"Lightning.Config.per_workflow_claim_limit/0","doc":"","ref":"Lightning.Config.html#c:per_workflow_claim_limit/0"},{"type":"callback","title":"Lightning.Config.promex_expensive_metrics_enabled?/0","doc":"","ref":"Lightning.Config.html#c:promex_expensive_metrics_enabled?/0"},{"type":"callback","title":"Lightning.Config.promex_metrics_endpoint_authorization_required?/0","doc":"","ref":"Lightning.Config.html#c:promex_metrics_endpoint_authorization_required?/0"},{"type":"callback","title":"Lightning.Config.promex_metrics_endpoint_scheme/0","doc":"","ref":"Lightning.Config.html#c:promex_metrics_endpoint_scheme/0"},{"type":"callback","title":"Lightning.Config.promex_metrics_endpoint_token/0","doc":"","ref":"Lightning.Config.html#c:promex_metrics_endpoint_token/0"},{"type":"callback","title":"Lightning.Config.purge_deleted_after_days/0","doc":"","ref":"Lightning.Config.html#c:purge_deleted_after_days/0"},{"type":"callback","title":"Lightning.Config.repo_connection_token_signer/0","doc":"","ref":"Lightning.Config.html#c:repo_connection_token_signer/0"},{"type":"callback","title":"Lightning.Config.reset_password_token_validity_in_days/0","doc":"","ref":"Lightning.Config.html#c:reset_password_token_validity_in_days/0"},{"type":"callback","title":"Lightning.Config.run_token_signer/0","doc":"","ref":"Lightning.Config.html#c:run_token_signer/0"},{"type":"callback","title":"Lightning.Config.runtime_manager_port/0","doc":"","ref":"Lightning.Config.html#c:runtime_manager_port/0"},{"type":"callback","title":"Lightning.Config.sentry/0","doc":"","ref":"Lightning.Config.html#c:sentry/0"},{"type":"callback","title":"Lightning.Config.storage/0","doc":"","ref":"Lightning.Config.html#c:storage/0"},{"type":"callback","title":"Lightning.Config.storage/1","doc":"","ref":"Lightning.Config.html#c:storage/1"},{"type":"callback","title":"Lightning.Config.token_signer/0","doc":"","ref":"Lightning.Config.html#c:token_signer/0"},{"type":"callback","title":"Lightning.Config.ui_metrics_tracking_enabled?/0","doc":"","ref":"Lightning.Config.html#c:ui_metrics_tracking_enabled?/0"},{"type":"callback","title":"Lightning.Config.usage_tracking/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking/0"},{"type":"callback","title":"Lightning.Config.usage_tracking_cleartext_uuids_enabled?/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking_cleartext_uuids_enabled?/0"},{"type":"callback","title":"Lightning.Config.usage_tracking_cron_opts/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking_cron_opts/0"},{"type":"callback","title":"Lightning.Config.usage_tracking_enabled?/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking_enabled?/0"},{"type":"callback","title":"Lightning.Config.usage_tracking_host/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking_host/0"},{"type":"callback","title":"Lightning.Config.usage_tracking_run_chunk_size/0","doc":"","ref":"Lightning.Config.html#c:usage_tracking_run_chunk_size/0"},{"type":"callback","title":"Lightning.Config.webhook_response_timeout_ms/0","doc":"","ref":"Lightning.Config.html#c:webhook_response_timeout_ms/0"},{"type":"callback","title":"Lightning.Config.webhook_retry/0","doc":"","ref":"Lightning.Config.html#c:webhook_retry/0"},{"type":"callback","title":"Lightning.Config.webhook_retry/1","doc":"","ref":"Lightning.Config.html#c:webhook_retry/1"},{"type":"callback","title":"Lightning.Config.worker_secret/0","doc":"","ref":"Lightning.Config.html#c:worker_secret/0"},{"type":"callback","title":"Lightning.Config.worker_token_signer/0","doc":"","ref":"Lightning.Config.html#c:worker_token_signer/0"},{"type":"function","title":"Lightning.Config.activity_cleanup_chunk_size/0","doc":"","ref":"Lightning.Config.html#activity_cleanup_chunk_size/0"},{"type":"function","title":"Lightning.Config.adaptor_registry/0","doc":"Returns the configuration for the `Lightning.AdaptorRegistry` service","ref":"Lightning.Config.html#adaptor_registry/0"},{"type":"function","title":"Lightning.Config.ai_assistant_modes/0","doc":"","ref":"Lightning.Config.html#ai_assistant_modes/0"},{"type":"function","title":"Lightning.Config.apollo/1","doc":"Returns the Apollo server configuration.","ref":"Lightning.Config.html#apollo/1"},{"type":"function","title":"Lightning.Config.book_demo_banner_enabled?/0","doc":"","ref":"Lightning.Config.html#book_demo_banner_enabled?/0"},{"type":"function","title":"Lightning.Config.book_demo_calendly_url/0","doc":"","ref":"Lightning.Config.html#book_demo_calendly_url/0"},{"type":"function","title":"Lightning.Config.book_demo_openfn_workflow_url/0","doc":"","ref":"Lightning.Config.html#book_demo_openfn_workflow_url/0"},{"type":"function","title":"Lightning.Config.broadcast_work_available?/0","doc":"","ref":"Lightning.Config.html#broadcast_work_available?/0"},{"type":"function","title":"Lightning.Config.check_flag?/1","doc":"","ref":"Lightning.Config.html#check_flag?/1"},{"type":"function","title":"Lightning.Config.cors_origin/0","doc":"","ref":"Lightning.Config.html#cors_origin/0"},{"type":"function","title":"Lightning.Config.credential_transfer_token_validity_in_days/0","doc":"","ref":"Lightning.Config.html#credential_transfer_token_validity_in_days/0"},{"type":"function","title":"Lightning.Config.default_ecto_database_timeout/0","doc":"","ref":"Lightning.Config.html#default_ecto_database_timeout/0"},{"type":"function","title":"Lightning.Config.default_max_run_duration/0","doc":"Returns the default maximum run duration in seconds.","ref":"Lightning.Config.html#default_max_run_duration/0"},{"type":"function","title":"Lightning.Config.email_sender_name/0","doc":"","ref":"Lightning.Config.html#email_sender_name/0"},{"type":"function","title":"Lightning.Config.env/0","doc":"Returns the environment.\n\nEither :dev, :test, or :prod.","ref":"Lightning.Config.html#env/0"},{"type":"function","title":"Lightning.Config.external_metrics_module/0","doc":"","ref":"Lightning.Config.html#external_metrics_module/0"},{"type":"function","title":"Lightning.Config.gdpr_banner/0","doc":"","ref":"Lightning.Config.html#gdpr_banner/0"},{"type":"function","title":"Lightning.Config.gdpr_preferences/0","doc":"","ref":"Lightning.Config.html#gdpr_preferences/0"},{"type":"function","title":"Lightning.Config.get_extension_mod/1","doc":"","ref":"Lightning.Config.html#get_extension_mod/1"},{"type":"function","title":"Lightning.Config.google/1","doc":"","ref":"Lightning.Config.html#google/1"},{"type":"function","title":"Lightning.Config.grace_period/0","doc":"The grace period is configurable and is used to wait for an additional\namount of time after a given run was meant to be finished.\n\nThe returned value is in seconds.","ref":"Lightning.Config.html#grace_period/0"},{"type":"function","title":"Lightning.Config.instance_admin_email/0","doc":"","ref":"Lightning.Config.html#instance_admin_email/0"},{"type":"function","title":"Lightning.Config.kafka_alternate_storage_enabled?/0","doc":"","ref":"Lightning.Config.html#kafka_alternate_storage_enabled?/0"},{"type":"function","title":"Lightning.Config.kafka_alternate_storage_file_path/0","doc":"","ref":"Lightning.Config.html#kafka_alternate_storage_file_path/0"},{"type":"function","title":"Lightning.Config.kafka_duplicate_tracking_retention_seconds/0","doc":"","ref":"Lightning.Config.html#kafka_duplicate_tracking_retention_seconds/0"},{"type":"function","title":"Lightning.Config.kafka_notification_embargo_seconds/0","doc":"","ref":"Lightning.Config.html#kafka_notification_embargo_seconds/0"},{"type":"function","title":"Lightning.Config.kafka_number_of_consumers/0","doc":"","ref":"Lightning.Config.html#kafka_number_of_consumers/0"},{"type":"function","title":"Lightning.Config.kafka_number_of_messages_per_second/0","doc":"","ref":"Lightning.Config.html#kafka_number_of_messages_per_second/0"},{"type":"function","title":"Lightning.Config.kafka_number_of_processors/0","doc":"","ref":"Lightning.Config.html#kafka_number_of_processors/0"},{"type":"function","title":"Lightning.Config.kafka_triggers_enabled?/0","doc":"","ref":"Lightning.Config.html#kafka_triggers_enabled?/0"},{"type":"function","title":"Lightning.Config.metrics_run_performance_age_seconds/0","doc":"","ref":"Lightning.Config.html#metrics_run_performance_age_seconds/0"},{"type":"function","title":"Lightning.Config.metrics_run_queue_metrics_period_seconds/0","doc":"","ref":"Lightning.Config.html#metrics_run_queue_metrics_period_seconds/0"},{"type":"function","title":"Lightning.Config.metrics_stalled_run_threshold_seconds/0","doc":"","ref":"Lightning.Config.html#metrics_stalled_run_threshold_seconds/0"},{"type":"function","title":"Lightning.Config.metrics_unclaimed_run_threshold_seconds/0","doc":"","ref":"Lightning.Config.html#metrics_unclaimed_run_threshold_seconds/0"},{"type":"function","title":"Lightning.Config.oauth_provider/1","doc":"","ref":"Lightning.Config.html#oauth_provider/1"},{"type":"function","title":"Lightning.Config.per_workflow_claim_limit/0","doc":"","ref":"Lightning.Config.html#per_workflow_claim_limit/0"},{"type":"function","title":"Lightning.Config.promex_expensive_metrics_enabled?/0","doc":"","ref":"Lightning.Config.html#promex_expensive_metrics_enabled?/0"},{"type":"function","title":"Lightning.Config.promex_metrics_endpoint_authorization_required?/0","doc":"","ref":"Lightning.Config.html#promex_metrics_endpoint_authorization_required?/0"},{"type":"function","title":"Lightning.Config.promex_metrics_endpoint_scheme/0","doc":"","ref":"Lightning.Config.html#promex_metrics_endpoint_scheme/0"},{"type":"function","title":"Lightning.Config.promex_metrics_endpoint_token/0","doc":"","ref":"Lightning.Config.html#promex_metrics_endpoint_token/0"},{"type":"function","title":"Lightning.Config.purge_deleted_after_days/0","doc":"","ref":"Lightning.Config.html#purge_deleted_after_days/0"},{"type":"function","title":"Lightning.Config.repo_connection_token_signer/0","doc":"","ref":"Lightning.Config.html#repo_connection_token_signer/0"},{"type":"function","title":"Lightning.Config.reset_password_token_validity_in_days/0","doc":"","ref":"Lightning.Config.html#reset_password_token_validity_in_days/0"},{"type":"function","title":"Lightning.Config.run_token_signer/0","doc":"Returns the Token signer used to sign and verify run tokens.","ref":"Lightning.Config.html#run_token_signer/0"},{"type":"function","title":"Lightning.Config.runtime_manager_port/0","doc":"","ref":"Lightning.Config.html#runtime_manager_port/0"},{"type":"function","title":"Lightning.Config.sentry/0","doc":"","ref":"Lightning.Config.html#sentry/0"},{"type":"function","title":"Lightning.Config.storage/0","doc":"","ref":"Lightning.Config.html#storage/0"},{"type":"function","title":"Lightning.Config.storage/1","doc":"","ref":"Lightning.Config.html#storage/1"},{"type":"function","title":"Lightning.Config.token_signer/0","doc":"","ref":"Lightning.Config.html#token_signer/0"},{"type":"function","title":"Lightning.Config.ui_metrics_tracking_enabled?/0","doc":"","ref":"Lightning.Config.html#ui_metrics_tracking_enabled?/0"},{"type":"function","title":"Lightning.Config.usage_tracking/0","doc":"","ref":"Lightning.Config.html#usage_tracking/0"},{"type":"function","title":"Lightning.Config.usage_tracking_cleartext_uuids_enabled?/0","doc":"","ref":"Lightning.Config.html#usage_tracking_cleartext_uuids_enabled?/0"},{"type":"function","title":"Lightning.Config.usage_tracking_cron_opts/0","doc":"","ref":"Lightning.Config.html#usage_tracking_cron_opts/0"},{"type":"function","title":"Lightning.Config.usage_tracking_enabled?/0","doc":"","ref":"Lightning.Config.html#usage_tracking_enabled?/0"},{"type":"function","title":"Lightning.Config.usage_tracking_host/0","doc":"","ref":"Lightning.Config.html#usage_tracking_host/0"},{"type":"function","title":"Lightning.Config.usage_tracking_run_chunk_size/0","doc":"","ref":"Lightning.Config.html#usage_tracking_run_chunk_size/0"},{"type":"function","title":"Lightning.Config.webhook_response_timeout_ms/0","doc":"","ref":"Lightning.Config.html#webhook_response_timeout_ms/0"},{"type":"function","title":"Lightning.Config.webhook_retry/0","doc":"","ref":"Lightning.Config.html#webhook_retry/0"},{"type":"function","title":"Lightning.Config.webhook_retry/1","doc":"","ref":"Lightning.Config.html#webhook_retry/1"},{"type":"function","title":"Lightning.Config.worker_secret/0","doc":"","ref":"Lightning.Config.html#worker_secret/0"},{"type":"function","title":"Lightning.Config.worker_token_signer/0","doc":"Returns the Token signer used to verify worker tokens.","ref":"Lightning.Config.html#worker_token_signer/0"},{"type":"module","title":"Lightning.Config.Bootstrap","doc":"Bootstrap the application environment.\n\nThis module is responsible for setting up the application environment based on\nthe configuration provided by the user.\n\nUsually, config calls are made in the `config/runtime.exs` file. This module\nabstracts the runtime configuration into a module that can be tested and\ncalled from other places (aside from `config/runtime.exs`) file.\n\n> #### Sourcing envs {: .info}\n>\n> Internally this module uses `Dotenvy.source/1` to source environment variables\n> from the `.env`, `.env. `, and `.env. .override` files.\n> It also sources the system environment variables.\n>\n> Calling `configure/0` without calling `source_envs/0` or `Dotenvy.source/2`\n> first will result in no environment variables being loaded.\n\nUsage:\n\n```elixir\nLightning.Config.Bootstrap.source_envs()\nLightning.Config.Bootstrap.configure()\n```","ref":"Lightning.Config.Bootstrap.html"},{"type":"function","title":"Lightning.Config.Bootstrap.configure/0","doc":"","ref":"Lightning.Config.Bootstrap.html#configure/0"},{"type":"function","title":"Lightning.Config.Bootstrap.get_env/2","doc":"Retrieve a value nested in the application environment.\n\nIt first searches the current process's config dictionary, then falls back to\nthe application environment.","ref":"Lightning.Config.Bootstrap.html#get_env/2"},{"type":"function","title":"Lightning.Config.Bootstrap.source_envs/0","doc":"","ref":"Lightning.Config.Bootstrap.html#source_envs/0"},{"type":"module","title":"Lightning.Config.Utils","doc":"Utility functions for working with the application environment.","ref":"Lightning.Config.Utils.html"},{"type":"function","title":"Lightning.Config.Utils.ensure_boolean/1","doc":"","ref":"Lightning.Config.Utils.html#ensure_boolean/1"},{"type":"function","title":"Lightning.Config.Utils.get_env/2","doc":"Retrieve a value nested in the application environment.","ref":"Lightning.Config.Utils.html#get_env/2"},{"type":"function","title":"Lightning.Config.Utils.get_env/4","doc":"","ref":"Lightning.Config.Utils.html#get_env/4"},{"type":"module","title":"Lightning.Runs","doc":"Gathers operations to create, update and delete Runs.","ref":"Lightning.Runs.html"},{"type":"function","title":"Lightning.Runs.append_run_log/3","doc":"","ref":"Lightning.Runs.html#append_run_log/3"},{"type":"function","title":"Lightning.Runs.complete_run/2","doc":"","ref":"Lightning.Runs.html#complete_run/2"},{"type":"function","title":"Lightning.Runs.complete_step/2","doc":"","ref":"Lightning.Runs.html#complete_step/2"},{"type":"function","title":"Lightning.Runs.enqueue/1","doc":"Enqueue a run to be processed.","ref":"Lightning.Runs.html#enqueue/1"},{"type":"function","title":"Lightning.Runs.get/2","doc":"Get a run by id.\n\nOptionally preload associations by passing a list of atoms to `:include`.\n\n    Lightning.Runs.get(id, include: [:workflow])","ref":"Lightning.Runs.html#get/2"},{"type":"function","title":"Lightning.Runs.get_credential/2","doc":"","ref":"Lightning.Runs.html#get_credential/2"},{"type":"function","title":"Lightning.Runs.get_dataclip_body/1","doc":"Returns only the dataclip body as a string","ref":"Lightning.Runs.html#get_dataclip_body/1"},{"type":"function","title":"Lightning.Runs.get_dataclip_request/1","doc":"Returns only the dataclip request as a string","ref":"Lightning.Runs.html#get_dataclip_request/1"},{"type":"function","title":"Lightning.Runs.get_for_worker/1","doc":"Get a run by id, preloading the snapshot and its credential.","ref":"Lightning.Runs.html#get_for_worker/1"},{"type":"function","title":"Lightning.Runs.get_input/1","doc":"Returns a run's dataclip formatted for use as state.\n\nOnly `http_request` and kafka dataclips are changed,\ntheir `body` is nested inside a `\"data\"` key and `request` data\nis added as a `\"request\"` key.\n\nSee LightingWeb.RunChannel.handle_in(\"fetch:dataclip\", _, _)\nfor more details.","ref":"Lightning.Runs.html#get_input/1"},{"type":"function","title":"Lightning.Runs.get_log_lines/2","doc":"","ref":"Lightning.Runs.html#get_log_lines/2"},{"type":"function","title":"Lightning.Runs.get_project_id_for_run/1","doc":"","ref":"Lightning.Runs.html#get_project_id_for_run/1"},{"type":"function","title":"Lightning.Runs.get_run_options/2","doc":"","ref":"Lightning.Runs.html#get_run_options/2"},{"type":"function","title":"Lightning.Runs.mark_run_lost/1","doc":"","ref":"Lightning.Runs.html#mark_run_lost/1"},{"type":"function","title":"Lightning.Runs.mark_steps_lost/1","doc":"","ref":"Lightning.Runs.html#mark_steps_lost/1"},{"type":"function","title":"Lightning.Runs.runs_for_project_query/1","doc":"Returns a query for runs belonging to a specific project","ref":"Lightning.Runs.html#runs_for_project_query/1"},{"type":"function","title":"Lightning.Runs.runs_for_user_query/1","doc":"Returns a query for runs accessible to a user","ref":"Lightning.Runs.html#runs_for_user_query/1"},{"type":"function","title":"Lightning.Runs.start_run/2","doc":"","ref":"Lightning.Runs.html#start_run/2"},{"type":"function","title":"Lightning.Runs.start_step/2","doc":"Creates a Step for a given run and job.\n\nThe Step is created and marked as started at the current time.","ref":"Lightning.Runs.html#start_step/2"},{"type":"function","title":"Lightning.Runs.subscribe/1","doc":"See  Lightning.Runs.Events.subscribe/1 .","ref":"Lightning.Runs.html#subscribe/1"},{"type":"function","title":"Lightning.Runs.update_run/1","doc":"","ref":"Lightning.Runs.html#update_run/1"},{"type":"function","title":"Lightning.Runs.update_runs/2","doc":"","ref":"Lightning.Runs.html#update_runs/2"},{"type":"function","title":"Lightning.Runs.wipe_dataclips/1","doc":"Clears the body and request fields of the dataclip associated with the given run.","ref":"Lightning.Runs.html#wipe_dataclips/1"},{"type":"module","title":"Lightning.Runs.Handlers","doc":"Handler modules for working with runs.","ref":"Lightning.Runs.Handlers.html"},{"type":"module","title":"Lightning.Runs.Handlers.CompleteRun","doc":"Schema to validate the input attributes of a completed run.","ref":"Lightning.Runs.Handlers.CompleteRun.html"},{"type":"function","title":"Lightning.Runs.Handlers.CompleteRun.call/2","doc":"","ref":"Lightning.Runs.Handlers.CompleteRun.html#call/2"},{"type":"function","title":"Lightning.Runs.Handlers.CompleteRun.new/1","doc":"","ref":"Lightning.Runs.Handlers.CompleteRun.html#new/1"},{"type":"module","title":"Lightning.Runs.Handlers.CompleteStep","doc":"Schema to validate the input attributes of a completed step.","ref":"Lightning.Runs.Handlers.CompleteStep.html"},{"type":"function","title":"Lightning.Runs.Handlers.CompleteStep.call/2","doc":"","ref":"Lightning.Runs.Handlers.CompleteStep.html#call/2"},{"type":"function","title":"Lightning.Runs.Handlers.CompleteStep.new/2","doc":"","ref":"Lightning.Runs.Handlers.CompleteStep.html#new/2"},{"type":"module","title":"Lightning.Runs.Handlers.StartRun","doc":"Schema to validate the input attributes of a started run.","ref":"Lightning.Runs.Handlers.StartRun.html"},{"type":"function","title":"Lightning.Runs.Handlers.StartRun.call/2","doc":"","ref":"Lightning.Runs.Handlers.StartRun.html#call/2"},{"type":"function","title":"Lightning.Runs.Handlers.StartRun.new/1","doc":"","ref":"Lightning.Runs.Handlers.StartRun.html#new/1"},{"type":"module","title":"Lightning.Runs.Handlers.StartStep","doc":"Schema to validate the input attributes of a started step.","ref":"Lightning.Runs.Handlers.StartStep.html"},{"type":"function","title":"Lightning.Runs.Handlers.StartStep.call/2","doc":"","ref":"Lightning.Runs.Handlers.StartStep.html#call/2"},{"type":"module","title":"Lightning.Runs.PromExPlugin","doc":"Metrics callbacks implementation for the PromEx plugin.\n\nEvent metrics are used to publish the dispatched events in the system.\nPolling metrics are used to publish metrics that are calculated by polling data periodically.","ref":"Lightning.Runs.PromExPlugin.html"},{"type":"function","title":"Lightning.Runs.PromExPlugin.calculate_average_claim_duration/2","doc":"","ref":"Lightning.Runs.PromExPlugin.html#calculate_average_claim_duration/2"},{"type":"function","title":"Lightning.Runs.PromExPlugin.count_finalised_runs/1","doc":"","ref":"Lightning.Runs.PromExPlugin.html#count_finalised_runs/1"},{"type":"function","title":"Lightning.Runs.PromExPlugin.fire_lost_run_event/0","doc":"","ref":"Lightning.Runs.PromExPlugin.html#fire_lost_run_event/0"},{"type":"function","title":"Lightning.Runs.PromExPlugin.project_metrics/1","doc":"","ref":"Lightning.Runs.PromExPlugin.html#project_metrics/1"},{"type":"function","title":"Lightning.Runs.PromExPlugin.run_queue_metrics/2","doc":"","ref":"Lightning.Runs.PromExPlugin.html#run_queue_metrics/2"},{"type":"function","title":"Lightning.Runs.PromExPlugin.seed_event_metrics/0","doc":"","ref":"Lightning.Runs.PromExPlugin.html#seed_event_metrics/0"},{"type":"function","title":"Lightning.Runs.PromExPlugin.stalled_run_count/1","doc":"","ref":"Lightning.Runs.PromExPlugin.html#stalled_run_count/1"},{"type":"module","title":"Lightning.Runs.PromExPlugin.ImpededProjectHelper","doc":"Code to support the generation of the impeded project metric.\n\nThe methods in this module will find workflows that have available runs that\nare older than a given threshold. These workflows can then be checked\nto see if they could benefit from increased worker capacity based on comparing\nin-progress runs against the concurrency limits of the project and workflow.","ref":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.html"},{"type":"function","title":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.find_projects_with_unused_concurrency/1","doc":"","ref":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.html#find_projects_with_unused_concurrency/1"},{"type":"function","title":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.project_has_unused_concurrency?/1","doc":"","ref":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.html#project_has_unused_concurrency?/1"},{"type":"function","title":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.workflow_has_unused_concurrency?/1","doc":"","ref":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.html#workflow_has_unused_concurrency?/1"},{"type":"function","title":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.workflows_with_available_runs_older_than/1","doc":"","ref":"Lightning.Runs.PromExPlugin.ImpededProjectHelper.html#workflows_with_available_runs_older_than/1"},{"type":"module","title":"Lightning.Runs.Query","doc":"Query functions for working with Runs","ref":"Lightning.Runs.Query.html"},{"type":"function","title":"Lightning.Runs.Query.available_within_concurrency_limits/1","doc":"Query to return available runs that respect concurrency limits.\n\nThis function combines run state filtering with concurrency enforcement by:\n1. Joining runs with their windowed concurrency data from `in_progress_window/0`\n2. Filtering for runs in `:available` state only\n3. Ensuring runs don't exceed their concurrency limits (workflow or project level)\n4. Ordering by priority and insertion time for fair processing","ref":"Lightning.Runs.Query.html#available_within_concurrency_limits/1"},{"type":"function","title":"Concurrency Logic - Lightning.Runs.Query.available_within_concurrency_limits/1","doc":"A run is included if:\n- It's in `:available` state (not claimed, started, or finished)\n- Either no concurrency limit is set (`concurrency` is nil) OR\n- The run's position within its concurrency group (`row_number`) is within the limit\n\nReturns run IDs that can be safely claimed without violating concurrency constraints.","ref":"Lightning.Runs.Query.html#available_within_concurrency_limits/1-concurrency-logic"},{"type":"function","title":"Lightning.Runs.Query.eligible_for_claim/0","doc":"Query to return runs that are eligible for claiming.\n\nThis is the main function used by other parts of the system to get runs ready\nfor execution. It implements a performance-optimized approach to run claiming\nthat ensures fairness across workflows while respecting concurrency limits.","ref":"Lightning.Runs.Query.html#eligible_for_claim/0"},{"type":"function","title":"Algorithm - Lightning.Runs.Query.eligible_for_claim/0","doc":"1. **Workflow Limiting**: Limits the number of runs per workflow to prevent any\n   single workflow from dominating the processing queue\n2. **Window Processing**: Applies row numbering within concurrency partitions\n   (workflow or project level) on the workflow-limited dataset\n3. **Concurrency Enforcement**: Uses the row numbers to enforce concurrency\n   limits during run claiming\n4. **Availability Filtering**: Filters for available runs within concurrency limits\n5. **Priority Ordering**: Orders results by priority and insertion time","ref":"Lightning.Runs.Query.html#eligible_for_claim/0-algorithm"},{"type":"function","title":"Implementation - Lightning.Runs.Query.eligible_for_claim/0","doc":"The function uses a multi-step approach for performance optimization:\n\n1. **Pre-filtering**: Uses `workflow_limited_runs/1` to limit runs per workflow\n   (configurable via `:per_workflow_claim_limit`) preventing any single workflow\n   from dominating the claim queue while ensuring fairness\n2. **Window Functions**: Applies `in_progress_window/0` to calculate row numbers\n   within concurrency partitions on the smaller, pre-filtered dataset\n3. **Final Filtering**: Selects only available runs that fall within their\n   concurrency limits (where `row_number <= concurrency`)","ref":"Lightning.Runs.Query.html#eligible_for_claim/0-implementation"},{"type":"function","title":"Concurrency Logic - Lightning.Runs.Query.eligible_for_claim/0","doc":"Workflow concurrency takes precedence over project concurrency when both are set.\nThis ensures that workflow-level limits are respected first, with project-level\nlimits serving as a fallback.","ref":"Lightning.Runs.Query.html#eligible_for_claim/0-concurrency-logic"},{"type":"function","title":"Performance Notes - Lightning.Runs.Query.eligible_for_claim/0","doc":"The dataset is first limited per workflow (default: 50 runs) to manage the size\nof data processed by expensive window functions, significantly improving query\nperformance on large datasets.\n\n>","ref":"Lightning.Runs.Query.html#eligible_for_claim/0-performance-notes"},{"type":"function","title":"Note - Lightning.Runs.Query.eligible_for_claim/0","doc":"> The default `:per_workflow_claim_limit` is 50.\n> This can be configured via the `PER_WORKFLOW_CLAIM_LIMIT` environment variable.\n> The value must be larger than the max concurrency of any individual workflow.\n\nReturns runs ordered by priority and insertion time that can be safely claimed\nwithout violating concurrency limits.","ref":"Lightning.Runs.Query.html#eligible_for_claim/0-note"},{"type":"function","title":"Lightning.Runs.Query.in_progress_window/0","doc":"Applies concurrency window functions to workflow-limited run data.\n\nThis function takes the output from `workflow_limited_runs/1` and applies\nSQL window functions to calculate row numbers within concurrency partitions.","ref":"Lightning.Runs.Query.html#in_progress_window/0"},{"type":"function","title":"Partitioning Logic - Lightning.Runs.Query.in_progress_window/0","doc":"Runs are partitioned (grouped) by workflow or project for row numbering.\nWorkflow concurrency takes precedence over project concurrency when both are set.\nWithin each partition, runs are ordered by priority and insertion time.","ref":"Lightning.Runs.Query.html#in_progress_window/0-partitioning-logic"},{"type":"function","title":"Return Fields - Lightning.Runs.Query.in_progress_window/0","doc":"Returns a query that selects:\n- `id` - the run ID\n- `state` - the current state of the run\n- `row_number` - sequential number within the concurrency partition\n- `project_id` - the project ID\n- `concurrency` - the maximum concurrent runs allowed (workflow or project level)\n- `inserted_at` - when the run was created\n- `priority` - the run's priority level\n\nThe `row_number` field is used downstream to enforce concurrency limits by\ncomparing it against the `concurrency` value.","ref":"Lightning.Runs.Query.html#in_progress_window/0-return-fields"},{"type":"function","title":"Lightning.Runs.Query.lost/0","doc":"Return all runs that have been claimed by a worker before the earliest\nacceptable start time (determined by the run options and grace period) but are\nstill incomplete.\n\nThis indicates that we may have lost contact with the worker\nthat was responsible for executing the run.","ref":"Lightning.Runs.Query.html#lost/0"},{"type":"function","title":"Lightning.Runs.Query.lost_steps/0","doc":"","ref":"Lightning.Runs.Query.html#lost_steps/0"},{"type":"function","title":"Lightning.Runs.Query.workflow_limited_runs/1","doc":"Query to return workflow-limited runs with priority-based ranking.\n\nThis function creates a dataset where each workflow contributes at most\n`per_workflow_limit` runs, ranked by priority and insertion time. This prevents\nany single workflow from dominating the claim queue while ensuring fairness.\n\nReturns runs with workflow ranking information needed for further processing.","ref":"Lightning.Runs.Query.html#workflow_limited_runs/1"},{"type":"module","title":"Lightning.Runs.Queue","doc":"Allows adding, removing or claiming work to be executed by the Runtime.","ref":"Lightning.Runs.Queue.html"},{"type":"function","title":"Lightning.Runs.Queue.claim/3","doc":"","ref":"Lightning.Runs.Queue.html#claim/3"},{"type":"module","title":"Lightning.Runs.RunOptions","doc":"Options that are passed to the worker to control configurable limits and\nbehaviors during run execution and reporting.","ref":"Lightning.Runs.RunOptions.html"},{"type":"type","title":"Lightning.Runs.RunOptions.keyword_list/0","doc":"","ref":"Lightning.Runs.RunOptions.html#t:keyword_list/0"},{"type":"type","title":"Lightning.Runs.RunOptions.t/0","doc":"","ref":"Lightning.Runs.RunOptions.html#t:t/0"},{"type":"function","title":"Lightning.Runs.RunOptions.new/1","doc":"","ref":"Lightning.Runs.RunOptions.html#new/1"},{"type":"module","title":"Lightning.WorkOrders","doc":"Context for creating WorkOrders.","ref":"Lightning.WorkOrders.html"},{"type":"module","title":"Work Orders - Lightning.WorkOrders","doc":"Work Orders represent the entrypoint for a unit of work in Lightning.\nThey allow you to track the status of a webhook or cron trigger.\n\nFor example if a user makes a request to a webhook endpoint, a Work Order\nis created with it's associated Workflow and Dataclip.\n\nEvery Work Order has at least one Run, which represents a single\ninvocation of the Workflow. If the workflow fails, and the run is retried,\na new Run is created on the Work Order.\n\nThis allows you group all the runs for a single webhook, and track\nthe success or failure of a given dataclip.","ref":"Lightning.WorkOrders.html#module-work-orders"},{"type":"module","title":"Creating Work Orders - Lightning.WorkOrders","doc":"Work Orders can be created in three ways:\n\n1. Via a webhook trigger\n2. Via a cron trigger\n3. Manually by a user (via the UI or API)\n\nRetries do not create new Work Orders, but rather new Runs on the existing\nWork Order.","ref":"Lightning.WorkOrders.html#module-creating-work-orders"},{"type":"type","title":"Lightning.WorkOrders.dataclip_input/0","doc":"","ref":"Lightning.WorkOrders.html#t:dataclip_input/0"},{"type":"type","title":"Lightning.WorkOrders.work_order_option/0","doc":"","ref":"Lightning.WorkOrders.html#t:work_order_option/0"},{"type":"function","title":"Lightning.WorkOrders.build_for/2","doc":"","ref":"Lightning.WorkOrders.html#build_for/2"},{"type":"function","title":"Lightning.WorkOrders.create_for/1","doc":"","ref":"Lightning.WorkOrders.html#create_for/1"},{"type":"function","title":"Lightning.WorkOrders.create_for/3","doc":"Create a new Work Order.\n\n**For a webhook**\n    create_for(trigger, workflow: workflow, dataclip: dataclip)","ref":"Lightning.WorkOrders.html#create_for/3"},{"type":"function","title":"Lightning.WorkOrders.enqueue_many_for_retry/2","doc":"Enqueue multiple runs for retry in the same transaction.","ref":"Lightning.WorkOrders.html#enqueue_many_for_retry/2"},{"type":"function","title":"Lightning.WorkOrders.get/2","doc":"Get a Work Order by id.\n\nOptionally preload associations by passing a list to `:include`.\nSupports nested preloads.\n\n    Lightning.WorkOrders.get(id, include: [:runs])\n    Lightning.WorkOrders.get(id, include: [workflow: :project, runs: []])","ref":"Lightning.WorkOrders.html#get/2"},{"type":"function","title":"Lightning.WorkOrders.get_last_runs_steps_with_dataclips/2","doc":"","ref":"Lightning.WorkOrders.html#get_last_runs_steps_with_dataclips/2"},{"type":"function","title":"Lightning.WorkOrders.get_workorders_with_runs/2","doc":"","ref":"Lightning.WorkOrders.html#get_workorders_with_runs/2"},{"type":"function","title":"Lightning.WorkOrders.limit_run_creation/2","doc":"","ref":"Lightning.WorkOrders.html#limit_run_creation/2"},{"type":"function","title":"Lightning.WorkOrders.retry/3","doc":"Retry a run from a given step.\n\nThis will create a new Run on the Work Order, and enqueue it for\nprocessing.\n\nWhen creating a new Run, a graph of the workflow is created steps that are\nindependent from the selected step and its downstream flow are associated with\nthis new run, but not executed again.","ref":"Lightning.WorkOrders.html#retry/3"},{"type":"function","title":"Lightning.WorkOrders.retry_many/2","doc":"","ref":"Lightning.WorkOrders.html#retry_many/2"},{"type":"function","title":"Lightning.WorkOrders.retry_many/3","doc":"","ref":"Lightning.WorkOrders.html#retry_many/3"},{"type":"function","title":"Lightning.WorkOrders.subscribe/0","doc":"See  Lightning.WorkOrders.Events.subscribe/0 .","ref":"Lightning.WorkOrders.html#subscribe/0"},{"type":"function","title":"Lightning.WorkOrders.subscribe/1","doc":"See  Lightning.WorkOrders.Events.subscribe/1 .","ref":"Lightning.WorkOrders.html#subscribe/1"},{"type":"function","title":"Lightning.WorkOrders.update_state/1","doc":"Updates the state of a WorkOrder based on the state of a run.\n\nThis considers the state of all runs on the WorkOrder, with the\nRun passed in as the latest run.\n\nSee `Lightning.WorkOrders.Query.state_for/1` for more details.","ref":"Lightning.WorkOrders.html#update_state/1"},{"type":"function","title":"Lightning.WorkOrders.work_orders_for_project_query/1","doc":"Returns a query for work orders belonging to a specific project","ref":"Lightning.WorkOrders.html#work_orders_for_project_query/1"},{"type":"module","title":"Lightning.WorkOrders.ExportAudit","doc":"Module to log history export actions as audit events.","ref":"Lightning.WorkOrders.ExportAudit.html"},{"type":"function","title":"Lightning.WorkOrders.ExportAudit.base_query/0","doc":"","ref":"Lightning.WorkOrders.ExportAudit.html#base_query/0"},{"type":"function","title":"Lightning.WorkOrders.ExportAudit.event/5","doc":"","ref":"Lightning.WorkOrders.ExportAudit.html#event/5"},{"type":"function","title":"Lightning.WorkOrders.ExportAudit.save/1","doc":"","ref":"Lightning.WorkOrders.ExportAudit.html#save/1"},{"type":"function","title":"Lightning.WorkOrders.ExportAudit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.WorkOrders.ExportAudit.html#update_changes/1"},{"type":"module","title":"Lightning.WorkOrders.ExportWorker","doc":"This module handles the export of work orders for a given project. The export process is performed asynchronously using the Oban background job system.","ref":"Lightning.WorkOrders.ExportWorker.html"},{"type":"module","title":"Responsibilities - Lightning.WorkOrders.ExportWorker","doc":"- **Enqueueing Export Jobs**: The `enqueue_export/2` function creates and enqueues an Oban job for exporting work orders based on the given project and search parameters.\n  - **Processing Exports**: The `perform/1` function is the main entry point for executing the export job. It retrieves the project, processes work orders, and handles the export process.\n  - **Export Logic**: The export logic involves querying work orders, extracting relevant entities, processing logs and dataclips asynchronously, and writing the final export data to files.\n  - **Error Handling**: The module includes comprehensive error handling and logging to ensure that issues during the export process are recorded and can be diagnosed.\n  - **Zip File Creation**: After processing, the exported files are compressed into a zip file for easy download or further use.","ref":"Lightning.WorkOrders.ExportWorker.html#module-responsibilities"},{"type":"module","title":"Usage - Lightning.WorkOrders.ExportWorker","doc":"- To enqueue an export job, call `enqueue_export/2` with the project and search parameters.\n  - The export process is triggered by Oban and runs in the `history_exports` queue, limited to a single attempt per job.","ref":"Lightning.WorkOrders.ExportWorker.html#module-usage"},{"type":"module","title":"Example - Lightning.WorkOrders.ExportWorker","doc":"```elixir\n  # Enqueue an export job\n  Lightning.WorkOrders.ExportWorker.enqueue_export(project, search_params)\n\n  # The job will run in the background and log the status of the export process.\n  ```\n\n  This module is designed to handle potentially large datasets efficiently by using streaming, async processing, and error recovery mechanisms.","ref":"Lightning.WorkOrders.ExportWorker.html#module-example"},{"type":"function","title":"Lightning.WorkOrders.ExportWorker.enqueue_export/3","doc":"","ref":"Lightning.WorkOrders.ExportWorker.html#enqueue_export/3"},{"type":"function","title":"Lightning.WorkOrders.ExportWorker.extract_entities/1","doc":"","ref":"Lightning.WorkOrders.ExportWorker.html#extract_entities/1"},{"type":"function","title":"Lightning.WorkOrders.ExportWorker.fetch_dataclips/1","doc":"","ref":"Lightning.WorkOrders.ExportWorker.html#fetch_dataclips/1"},{"type":"module","title":"Lightning.WorkOrders.Manual","doc":"A model is used to build WorkOrders with custom input data.","ref":"Lightning.WorkOrders.Manual.html"},{"type":"type","title":"Lightning.WorkOrders.Manual.t/0","doc":"","ref":"Lightning.WorkOrders.Manual.html#t:t/0"},{"type":"function","title":"Lightning.WorkOrders.Manual.new/2","doc":"","ref":"Lightning.WorkOrders.Manual.html#new/2"},{"type":"module","title":"Lightning.WorkOrders.Query","doc":"Query functions for the Lightning.WorkOrders module.","ref":"Lightning.WorkOrders.Query.html"},{"type":"function","title":"Lightning.WorkOrders.Query.state_for/1","doc":"Query to calculate the current state of a workorder.\n\nIt takes a run, as the state is updated after each run is changed.\n\nThe logic is as follows:\n\n- All _other_ Runs that are not in a finished state are considered first.\n- The current Run is unioned onto the unfinished runs with a null\n  ordinality.\n- The runs are ordered by state in the following order\n  `started > available > claimed > null`\n- The run states are then mapped to the workorder state enum, so `available`\n  and `claimed` are both mapped to `pending` and `started` is mapped to `running`\n\n> The `null` ordinality ensures that the current run is always last in the\n> ordering.","ref":"Lightning.WorkOrders.Query.html#state_for/1"},{"type":"module","title":"Lightning.WorkOrders.RetryManyWorkOrdersJob","doc":"Enqueue multiple work orders for retry.","ref":"Lightning.WorkOrders.RetryManyWorkOrdersJob.html"},{"type":"module","title":"Lightning.WorkOrders.SearchParams","doc":"This module is used to parse search parameters for work orders and provide\na query to the database.","ref":"Lightning.WorkOrders.SearchParams.html"},{"type":"type","title":"Lightning.WorkOrders.SearchParams.t/0","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#t:t/0"},{"type":"function","title":"Lightning.WorkOrders.SearchParams.all_statuses_set?/1","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#all_statuses_set?/1"},{"type":"function","title":"Lightning.WorkOrders.SearchParams.from_map/1","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#from_map/1"},{"type":"function","title":"Lightning.WorkOrders.SearchParams.new/1","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#new/1"},{"type":"macro","title":"Lightning.WorkOrders.SearchParams.status_list/0","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#status_list/0"},{"type":"function","title":"Lightning.WorkOrders.SearchParams.to_uri_params/1","doc":"","ref":"Lightning.WorkOrders.SearchParams.html#to_uri_params/1"},{"type":"module","title":"Lightning.Credentials","doc":"The Credentials context.","ref":"Lightning.Credentials.html"},{"type":"type","title":"Lightning.Credentials.oauth_refresh_error/0","doc":"","ref":"Lightning.Credentials.html#t:oauth_refresh_error/0"},{"type":"type","title":"Lightning.Credentials.transfer_error/0","doc":"","ref":"Lightning.Credentials.html#t:transfer_error/0"},{"type":"function","title":"Lightning.Credentials.basic_auth_for/2","doc":"Retrieves basic auth strings for a credential in a specific environment.\n\nUsed primarily for scrubbing historical dataclips where we need to look up\nthe credential body by environment.","ref":"Lightning.Credentials.html#basic_auth_for/2"},{"type":"function","title":"Parameters - Lightning.Credentials.basic_auth_for/2","doc":"- `credential`: Credential struct or nil\n  - `environment`: Environment name (defaults to \"main\")","ref":"Lightning.Credentials.html#basic_auth_for/2-parameters"},{"type":"function","title":"Examples - Lightning.Credentials.basic_auth_for/2","doc":"iex> basic_auth_for(credential, \"staging\")\n    [\"dXNlcjpwYXNz\"]","ref":"Lightning.Credentials.html#basic_auth_for/2-examples"},{"type":"function","title":"Lightning.Credentials.basic_auth_from_body/1","doc":"Extracts basic auth strings from a credential body map.","ref":"Lightning.Credentials.html#basic_auth_from_body/1"},{"type":"function","title":"Examples - Lightning.Credentials.basic_auth_from_body/1","doc":"iex> basic_auth_from_body(%{\"username\" => \"user\", \"password\" => \"pass\"})\n    [\"dXNlcjpwYXNz\"]","ref":"Lightning.Credentials.html#basic_auth_from_body/1-examples"},{"type":"function","title":"Lightning.Credentials.cancel_scheduled_deletion/1","doc":"","ref":"Lightning.Credentials.html#cancel_scheduled_deletion/1"},{"type":"function","title":"Lightning.Credentials.change_credential/2","doc":"Returns an `%Ecto.Changeset{}` for tracking credential changes.","ref":"Lightning.Credentials.html#change_credential/2"},{"type":"function","title":"Examples - Lightning.Credentials.change_credential/2","doc":"iex> change_credential(credential)\n    %Ecto.Changeset{data: %Credential{}}","ref":"Lightning.Credentials.html#change_credential/2-examples"},{"type":"function","title":"Lightning.Credentials.change_keychain_credential/2","doc":"Returns an `%Ecto.Changeset{}` for tracking keychain credential changes.","ref":"Lightning.Credentials.html#change_keychain_credential/2"},{"type":"function","title":"Examples - Lightning.Credentials.change_keychain_credential/2","doc":"iex> change_keychain_credential(keychain_credential)\n    %Ecto.Changeset{data: %KeychainCredential{}}","ref":"Lightning.Credentials.html#change_keychain_credential/2-examples"},{"type":"function","title":"Lightning.Credentials.confirm_transfer/4","doc":"Confirms and executes a credential transfer.\n\nThis function:\n  - Verifies the transfer token to ensure the request is valid.\n  - Transfers the credential from the `owner` to the `receiver`.\n  - Records the transfer in the audit log.\n  - Deletes all related credential transfer tokens.\n  - Notifies both parties about the transfer.","ref":"Lightning.Credentials.html#confirm_transfer/4"},{"type":"function","title":"Parameters - Lightning.Credentials.confirm_transfer/4","doc":"- `credential_id`: The ID of the `Credential` being transferred.\n  - `receiver_id`: The ID of the `User` receiving the credential.\n  - `owner_id`: The ID of the `User` currently owning the credential.\n  - `token`: The transfer token for verification.","ref":"Lightning.Credentials.html#confirm_transfer/4-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.confirm_transfer/4","doc":"- `{:ok, credential}` on successful transfer.\n  - `{:error, reason}` if the transfer fails.","ref":"Lightning.Credentials.html#confirm_transfer/4-returns"},{"type":"function","title":"Errors - Lightning.Credentials.confirm_transfer/4","doc":"- `{:error, :not_found}` if the credential or receiver does not exist.\n  - `{:error, :token_error}` if the token is invalid.\n  - `{:error, :not_owner}` if the token does not match the credential owner.\n  - `{:error, changeset}` if there is a validation or update issue.","ref":"Lightning.Credentials.html#confirm_transfer/4-errors"},{"type":"function","title":"Example - Lightning.Credentials.confirm_transfer/4","doc":"```elixir\ncase confirm_transfer(credential_id, receiver_id, owner_id, token) do\n  {:ok, credential} -> IO.puts(\"Transfer successful\")\n  {:error, :not_found} -> IO.puts(\"Error: Credential or receiver not found\")\n  {:error, :token_error} -> IO.puts(\"Error: Invalid transfer token\")\n  {:error, reason} -> IO.inspect(reason, label: \"Transfer failed\")\nend\n```","ref":"Lightning.Credentials.html#confirm_transfer/4-example"},{"type":"function","title":"Lightning.Credentials.create_credential/1","doc":"Creates a new credential with its credential bodies.","ref":"Lightning.Credentials.html#create_credential/1"},{"type":"function","title":"Parameters - Lightning.Credentials.create_credential/1","doc":"* `attrs` - Map of attributes for the credential including:\n    * `user_id` - User ID (required)\n    * `name` - Credential name (required)\n    * `schema` - Schema type (e.g., \"oauth\", \"raw\", etc.)\n    * `oauth_client_id` - OAuth client ID (for OAuth credentials)\n    * `credential_bodies` - List of credential body maps, each containing:\n      * `name` - Environment name (e.g., \"production\", \"staging\")\n      * `body` - Credential configuration data\n    * `expected_scopes` - List of expected scopes (for OAuth credentials)","ref":"Lightning.Credentials.html#create_credential/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.create_credential/1","doc":"* `{:ok, credential}` - Successfully created credential\n  * `{:error, error}` - Error with creation process","ref":"Lightning.Credentials.html#create_credential/1-returns"},{"type":"function","title":"Lightning.Credentials.create_keychain_credential/2","doc":"Creates a keychain credential.","ref":"Lightning.Credentials.html#create_keychain_credential/2"},{"type":"function","title":"Examples - Lightning.Credentials.create_keychain_credential/2","doc":"iex> create_keychain_credential(%{name: \"My Keychain\", path: \"$.user_id\"})\n    {:ok, %KeychainCredential{}}\n\n    iex> create_keychain_credential(%{name: nil})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Credentials.html#create_keychain_credential/2-examples"},{"type":"function","title":"Lightning.Credentials.credential_transfer_changeset/0","doc":"Returns an empty changeset structure for credential transfers with an email field.","ref":"Lightning.Credentials.html#credential_transfer_changeset/0"},{"type":"function","title":"Returns - Lightning.Credentials.credential_transfer_changeset/0","doc":"An `Ecto.Changeset` struct with an empty data map and an email field.","ref":"Lightning.Credentials.html#credential_transfer_changeset/0-returns"},{"type":"function","title":"Example - Lightning.Credentials.credential_transfer_changeset/0","doc":"iex> credential_transfer_changeset()\n    #Ecto.Changeset<...>","ref":"Lightning.Credentials.html#credential_transfer_changeset/0-example"},{"type":"function","title":"Lightning.Credentials.credential_transfer_changeset/1","doc":"Creates a changeset for transferring credentials, validating the provided email.","ref":"Lightning.Credentials.html#credential_transfer_changeset/1"},{"type":"function","title":"Parameters - Lightning.Credentials.credential_transfer_changeset/1","doc":"- `email`: The email address to be included in the changeset.","ref":"Lightning.Credentials.html#credential_transfer_changeset/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.credential_transfer_changeset/1","doc":"An `Ecto.Changeset` containing the email field.","ref":"Lightning.Credentials.html#credential_transfer_changeset/1-returns"},{"type":"function","title":"Example - Lightning.Credentials.credential_transfer_changeset/1","doc":"iex> credential_transfer_changeset(\"user@example.com\")\n    #Ecto.Changeset<...>","ref":"Lightning.Credentials.html#credential_transfer_changeset/1-example"},{"type":"function","title":"Lightning.Credentials.delete_credential/1","doc":"Deletes a credential.","ref":"Lightning.Credentials.html#delete_credential/1"},{"type":"function","title":"Examples - Lightning.Credentials.delete_credential/1","doc":"iex> delete_credential(credential)\n    {:ok, %Credential{}}\n\n    iex> delete_credential(credential)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Credentials.html#delete_credential/1-examples"},{"type":"function","title":"Lightning.Credentials.delete_keychain_credential/1","doc":"Deletes a keychain credential.","ref":"Lightning.Credentials.html#delete_keychain_credential/1"},{"type":"function","title":"Examples - Lightning.Credentials.delete_keychain_credential/1","doc":"iex> delete_keychain_credential(keychain_credential)\n    {:ok, %KeychainCredential{}}\n\n    iex> delete_keychain_credential(keychain_credential)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Credentials.html#delete_keychain_credential/1-examples"},{"type":"function","title":"Lightning.Credentials.get_credential/1","doc":"","ref":"Lightning.Credentials.html#get_credential/1"},{"type":"function","title":"Lightning.Credentials.get_credential!/1","doc":"Gets a single credential.\n\nRaises `Ecto.NoResultsError` if the Credential does not exist.","ref":"Lightning.Credentials.html#get_credential!/1"},{"type":"function","title":"Examples - Lightning.Credentials.get_credential!/1","doc":"iex> get_credential!(123)\n    %Credential{}\n\n    iex> get_credential!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Credentials.html#get_credential!/1-examples"},{"type":"function","title":"Lightning.Credentials.get_credential_body/2","doc":"Gets a credential body for a specific environment.\n\nReturns nil if no body exists for the given credential and environment combination.","ref":"Lightning.Credentials.html#get_credential_body/2"},{"type":"function","title":"Examples - Lightning.Credentials.get_credential_body/2","doc":"iex> get_credential_body(credential_id, \"production\")\n    %CredentialBody{name: \"production\", body: %{...}}\n\n    iex> get_credential_body(credential_id, \"nonexistent\")\n    nil","ref":"Lightning.Credentials.html#get_credential_body/2-examples"},{"type":"function","title":"Lightning.Credentials.get_credential_by_project_credential/1","doc":"","ref":"Lightning.Credentials.html#get_credential_by_project_credential/1"},{"type":"function","title":"Lightning.Credentials.get_keychain_credential/1","doc":"Gets a single keychain credential.\n\nRaises `Ecto.NoResultsError` if the KeychainCredential does not exist.","ref":"Lightning.Credentials.html#get_keychain_credential/1"},{"type":"function","title":"Examples - Lightning.Credentials.get_keychain_credential/1","doc":"iex> get_keychain_credential(123)\n    %KeychainCredential{}\n\n    iex> get_keychain_credential(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Credentials.html#get_keychain_credential/1-examples"},{"type":"function","title":"Lightning.Credentials.get_schema/1","doc":"Creates a credential schema from credential json schema.","ref":"Lightning.Credentials.html#get_schema/1"},{"type":"function","title":"Lightning.Credentials.has_activity_in_projects?/1","doc":"Checks if a given `Credential` has any associated `Step` activity.","ref":"Lightning.Credentials.html#has_activity_in_projects?/1"},{"type":"function","title":"Parameters - Lightning.Credentials.has_activity_in_projects?/1","doc":"- `_credential`: A `Credential` struct. Only the `id` field is used by the function.","ref":"Lightning.Credentials.html#has_activity_in_projects?/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.has_activity_in_projects?/1","doc":"- `true` if there's at least one `Step` associated with the given `Credential`.\n  - `false` otherwise.","ref":"Lightning.Credentials.html#has_activity_in_projects?/1-returns"},{"type":"function","title":"Examples - Lightning.Credentials.has_activity_in_projects?/1","doc":"iex> has_activity_in_projects?(%Credential{id: some_id})\n    true\n\n    iex> has_activity_in_projects?(%Credential{id: another_id})\n    false","ref":"Lightning.Credentials.html#has_activity_in_projects?/1-examples"},{"type":"function","title":"Notes - Lightning.Credentials.has_activity_in_projects?/1","doc":"This function leverages the association between `Step` and `Credential` to\ndetermine if any steps exist for a given credential. It's a fast check that\ndoes not load any records into memory, but simply checks for their existence.","ref":"Lightning.Credentials.html#has_activity_in_projects?/1-notes"},{"type":"function","title":"Lightning.Credentials.initiate_credential_transfer/3","doc":"Initiates a credential transfer from the `owner` to the `receiver`.\n\nThis function:\n  - Marks the credential as `pending` for transfer.\n  - Generates an email token for the credential transfer.\n  - Sends a transfer confirmation email to the receiver.","ref":"Lightning.Credentials.html#initiate_credential_transfer/3"},{"type":"function","title":"Parameters - Lightning.Credentials.initiate_credential_transfer/3","doc":"- `owner`: The `User` who currently owns the credential.\n  - `receiver`: The `User` who will receive the credential.\n  - `credential`: The `Credential` to be transferred.","ref":"Lightning.Credentials.html#initiate_credential_transfer/3-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.initiate_credential_transfer/3","doc":"- `:ok` if the transfer process is successfully initiated.\n  - `{:error, reason}` if any validation or transaction step fails.","ref":"Lightning.Credentials.html#initiate_credential_transfer/3-returns"},{"type":"function","title":"Example - Lightning.Credentials.initiate_credential_transfer/3","doc":"```elixir\ncase initiate_credential_transfer(owner, receiver, credential) do\n  :ok -> IO.puts(\"Transfer initiated successfully\")\n  {:error, error} -> IO.inspect(error, label: \"Transfer failed\")\nend\n```","ref":"Lightning.Credentials.html#initiate_credential_transfer/3-example"},{"type":"function","title":"Lightning.Credentials.list_credentials/1","doc":"Retrieves all credentials based on the given context, either a Project or a User.","ref":"Lightning.Credentials.html#list_credentials/1"},{"type":"function","title":"Parameters - Lightning.Credentials.list_credentials/1","doc":"- context: The Project or User struct to retrieve credentials for.","ref":"Lightning.Credentials.html#list_credentials/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.list_credentials/1","doc":"- A list of credentials associated with the given Project or created by the given User.","ref":"Lightning.Credentials.html#list_credentials/1-returns"},{"type":"function","title":"Examples - Lightning.Credentials.list_credentials/1","doc":"When given a Project:\n\n    iex> list_credentials(%Project{id: 1})\n    [%Credential{project_id: 1}, %Credential{project_id: 1}]\n\n  When given a User:\n\n    iex> list_credentials(%User{id: 123})\n    [%Credential{user_id: 123}, %Credential{user_id: 123}]","ref":"Lightning.Credentials.html#list_credentials/1-examples"},{"type":"function","title":"Lightning.Credentials.list_keychain_credentials_for_project/1","doc":"Returns the list of keychain credentials for a project.","ref":"Lightning.Credentials.html#list_keychain_credentials_for_project/1"},{"type":"function","title":"Examples - Lightning.Credentials.list_keychain_credentials_for_project/1","doc":"iex> list_keychain_credentials_for_project(%Project{id: 123})\n    [%KeychainCredential{}, ...]","ref":"Lightning.Credentials.html#list_keychain_credentials_for_project/1-examples"},{"type":"function","title":"Lightning.Credentials.list_user_credentials_in_project/2","doc":"Returns all credentials owned by a specific user that are also being used in a specific project.","ref":"Lightning.Credentials.html#list_user_credentials_in_project/2"},{"type":"function","title":"Parameters - Lightning.Credentials.list_user_credentials_in_project/2","doc":"- `user`: The `User` struct whose credentials we want to find.\n  - `project`: The `Project` struct to check for credential usage.","ref":"Lightning.Credentials.html#list_user_credentials_in_project/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.list_user_credentials_in_project/2","doc":"- A list of `Credential` structs that are owned by the user and used in the project.","ref":"Lightning.Credentials.html#list_user_credentials_in_project/2-returns"},{"type":"function","title":"Examples - Lightning.Credentials.list_user_credentials_in_project/2","doc":"iex> list_user_credentials_in_project(%User{id: 123}, %Project{id: 456})\n    [%Credential{user_id: 123, ...}, %Credential{user_id: 123, ...}]","ref":"Lightning.Credentials.html#list_user_credentials_in_project/2-examples"},{"type":"function","title":"Lightning.Credentials.new_keychain_credential/2","doc":"Creates a new keychain credential struct with proper associations.\n\nThis function ensures that the created_by and project associations are\nproperly set and cannot be tampered with via browser params.","ref":"Lightning.Credentials.html#new_keychain_credential/2"},{"type":"function","title":"Examples - Lightning.Credentials.new_keychain_credential/2","doc":"iex> new_keychain_credential(user, project)\n    %KeychainCredential{created_by: user, project: project}","ref":"Lightning.Credentials.html#new_keychain_credential/2-examples"},{"type":"function","title":"Lightning.Credentials.normalize_token_expiry/1","doc":"Normalizes OAuth token expiry time to always use expires_at.\n\nConverts relative expires_in to absolute expires_at timestamp based on current time.\nIf the token already has expires_at, returns it unchanged.","ref":"Lightning.Credentials.html#normalize_token_expiry/1"},{"type":"function","title":"Examples - Lightning.Credentials.normalize_token_expiry/1","doc":"iex> normalize_token_expiry(%{\"expires_in\" => 3600})\n    %{\"expires_in\" => 3600, \"expires_at\" => 1234567890}\n\n    iex> normalize_token_expiry(%{\"expires_at\" => 1234567890})\n    %{\"expires_at\" => 1234567890}","ref":"Lightning.Credentials.html#normalize_token_expiry/1-examples"},{"type":"function","title":"Lightning.Credentials.oauth_token_expired?/1","doc":"Checks if an OAuth token body is expired or expires soon.\n\nReturns true if the token expires within the next 5 minutes (300 seconds buffer).\nIf expiry cannot be determined, conservatively returns true to trigger refresh.","ref":"Lightning.Credentials.html#oauth_token_expired?/1"},{"type":"function","title":"Examples - Lightning.Credentials.oauth_token_expired?/1","doc":"iex> oauth_token_expired?(%{\"expires_at\" => future_timestamp})\n    false\n\n    iex> oauth_token_expired?(%{\"expires_at\" => soon_timestamp})\n    true","ref":"Lightning.Credentials.html#oauth_token_expired?/1-examples"},{"type":"function","title":"Lightning.Credentials.perform/1","doc":"Perform, when called with %{\"type\" => \"purge_deleted\"}\nwill find credentials that are ready for permanent deletion, set their bodies\nto null, and try to purge them.","ref":"Lightning.Credentials.html#perform/1"},{"type":"function","title":"Lightning.Credentials.resolve_credential_body/2","doc":"Gets a credential body for an environment and refreshes OAuth tokens if expired.\n\nThis is the primary function for credential resolution during workflow execution.\nIt handles the full flow: fetch body  check expiration  refresh if needed  return final body.","ref":"Lightning.Credentials.html#resolve_credential_body/2"},{"type":"function","title":"Parameters - Lightning.Credentials.resolve_credential_body/2","doc":"- `credential`: The credential struct\n  - `environment`: Environment name (e.g., \"production\", \"staging\")","ref":"Lightning.Credentials.html#resolve_credential_body/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.resolve_credential_body/2","doc":"- `{:ok, body}` - The credential body (with fresh tokens if OAuth was refreshed)\n  - `{:error, :environment_not_found}` - No body exists for this environment\n  - `{:error, oauth_refresh_error()}` - OAuth refresh failed","ref":"Lightning.Credentials.html#resolve_credential_body/2-returns"},{"type":"function","title":"Lightning.Credentials.revoke_transfer/2","doc":"Revokes a pending credential transfer.\n\nThis function:\n  - Ensures the credential exists.\n  - Checks that the `owner` is the one who initiated the transfer.\n  - Confirms that the credential is still in a `pending` state.\n  - Resets the transfer status and deletes related credential transfer tokens.","ref":"Lightning.Credentials.html#revoke_transfer/2"},{"type":"function","title":"Parameters - Lightning.Credentials.revoke_transfer/2","doc":"- `credential_id`: The ID of the `Credential` being revoked.\n  - `owner`: The `User` who owns the credential and is revoking the transfer.","ref":"Lightning.Credentials.html#revoke_transfer/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.revoke_transfer/2","doc":"- `{:ok, credential}` if the transfer is successfully revoked.\n  - `{:error, :not_found}` if the credential does not exist.\n  - `{:error, :not_owner}` if the user does not own the credential.\n  - `{:error, :not_pending}` if the transfer is not in a pending state.\n  - `{:error, changeset}` if there is a validation or update issue.","ref":"Lightning.Credentials.html#revoke_transfer/2-returns"},{"type":"function","title":"Example - Lightning.Credentials.revoke_transfer/2","doc":"```elixir\ncase revoke_transfer(credential_id, owner) do\n  {:ok, credential} -> IO.puts(\"Transfer revoked for credential\")\n  {:error, :not_found} -> IO.puts(\"Error: Credential not found\")\n  {:error, :not_owner} -> IO.puts(\"Error: You do not own this credential\")\n  {:error, :not_pending} -> IO.puts(\"Error: Transfer is not pending\")\n  {:error, reason} -> IO.inspect(reason, label: \"Revoke failed\")\nend\n```","ref":"Lightning.Credentials.html#revoke_transfer/2-example"},{"type":"function","title":"Lightning.Credentials.schedule_credential_deletion/1","doc":"Schedules a given credential for deletion.\n\nThe deletion date is determined based on the `:purge_deleted_after_days` configuration\nin the application environment. If this configuration is absent, the credential is scheduled\nfor immediate deletion.\n\nThe function will also perform necessary side effects such as:\n  - Removing associations of the credential.\n  - Revoking OAuth tokens if the credential is an OAuth credential.\n  - Notifying the owner of the credential about the scheduled deletion.","ref":"Lightning.Credentials.html#schedule_credential_deletion/1"},{"type":"function","title":"Parameters - Lightning.Credentials.schedule_credential_deletion/1","doc":"- `credential`: A `Credential` struct that is to be scheduled for deletion.","ref":"Lightning.Credentials.html#schedule_credential_deletion/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.schedule_credential_deletion/1","doc":"- `{:ok, credential}`: Returns an `:ok` tuple with the updated credential struct if the\n    update was successful.\n  - `{:error, changeset}`: Returns an `:error` tuple with the changeset if the update failed.","ref":"Lightning.Credentials.html#schedule_credential_deletion/1-returns"},{"type":"function","title":"Examples - Lightning.Credentials.schedule_credential_deletion/1","doc":"iex> schedule_credential_deletion(%Credential{id: some_id})\n    {:ok, %Credential{}}\n\n    iex> schedule_credential_deletion(%Credential{})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Credentials.html#schedule_credential_deletion/1-examples"},{"type":"function","title":"Lightning.Credentials.sensitive_values_for/2","doc":"Retrieves sensitive values for a credential in a specific environment.\n\nUsed primarily for scrubbing historical dataclips where we need to look up\nthe credential body by environment.","ref":"Lightning.Credentials.html#sensitive_values_for/2"},{"type":"function","title":"Parameters - Lightning.Credentials.sensitive_values_for/2","doc":"- `id_or_credential`: Credential ID, Credential struct, or nil\n  - `environment`: Environment name (defaults to \"main\")","ref":"Lightning.Credentials.html#sensitive_values_for/2-parameters"},{"type":"function","title":"Examples - Lightning.Credentials.sensitive_values_for/2","doc":"iex> sensitive_values_for(credential, \"production\")\n    [\"secret123\", \"api_key_xyz\"]","ref":"Lightning.Credentials.html#sensitive_values_for/2-examples"},{"type":"function","title":"Lightning.Credentials.sensitive_values_from_body/1","doc":"Extracts sensitive values from a credential body map.","ref":"Lightning.Credentials.html#sensitive_values_from_body/1"},{"type":"function","title":"Examples - Lightning.Credentials.sensitive_values_from_body/1","doc":"iex> sensitive_values_from_body(%{\"password\" => \"secret123\"})\n    [\"secret123\"]","ref":"Lightning.Credentials.html#sensitive_values_from_body/1-examples"},{"type":"function","title":"Lightning.Credentials.update_credential/2","doc":"Updates an existing credential and its credential bodies.","ref":"Lightning.Credentials.html#update_credential/2"},{"type":"function","title":"Parameters - Lightning.Credentials.update_credential/2","doc":"* `credential` - The credential to update\n  * `attrs` - Map of attributes to update, including:\n    * `credential_bodies` - List of credential body maps to create/update","ref":"Lightning.Credentials.html#update_credential/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.update_credential/2","doc":"* `{:ok, credential}` - Successfully updated credential\n  * `{:error, error}` - Error with update process","ref":"Lightning.Credentials.html#update_credential/2-returns"},{"type":"function","title":"Lightning.Credentials.update_keychain_credential/2","doc":"Updates a keychain credential.","ref":"Lightning.Credentials.html#update_keychain_credential/2"},{"type":"function","title":"Examples - Lightning.Credentials.update_keychain_credential/2","doc":"iex> update_keychain_credential(keychain_credential, %{name: \"Updated\"})\n    {:ok, %KeychainCredential{}}\n\n    iex> update_keychain_credential(keychain_credential, %{name: nil})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Credentials.html#update_keychain_credential/2-examples"},{"type":"function","title":"Lightning.Credentials.validate_credential_transfer/3","doc":"Validates a credential transfer request.\n\nThis function ensures:\n  - The email format is correct.\n  - The email does not already exist in the system.\n  - The credential is not transferred to the same user.\n  - The recipient has access to the necessary projects.\n\nIf the changeset is valid, additional validation checks are applied.","ref":"Lightning.Credentials.html#validate_credential_transfer/3"},{"type":"function","title":"Parameters - Lightning.Credentials.validate_credential_transfer/3","doc":"- `changeset`: The `Ecto.Changeset` containing the credential transfer details.\n  - `current_user`: The user attempting the credential transfer.\n  - `credential`: The credential being transferred.","ref":"Lightning.Credentials.html#validate_credential_transfer/3-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.validate_credential_transfer/3","doc":"- An updated `Ecto.Changeset` with validation errors if any issues are found.","ref":"Lightning.Credentials.html#validate_credential_transfer/3-returns"},{"type":"module","title":"Lightning.Credentials.Audit","doc":"Model for storing changes to Credentials","ref":"Lightning.Credentials.Audit.html"},{"type":"function","title":"Lightning.Credentials.Audit.base_query/0","doc":"","ref":"Lightning.Credentials.Audit.html#base_query/0"},{"type":"function","title":"Lightning.Credentials.Audit.event/5","doc":"","ref":"Lightning.Credentials.Audit.html#event/5"},{"type":"function","title":"Lightning.Credentials.Audit.oauth_token_refresh_failed_event/2","doc":"Creates an audit event for OAuth token refresh failure.\nRecords the failure with error details for debugging.","ref":"Lightning.Credentials.Audit.html#oauth_token_refresh_failed_event/2"},{"type":"function","title":"Lightning.Credentials.Audit.oauth_token_refreshed_event/2","doc":"Creates an audit event for OAuth token refresh success.\nRecords the refresh operation with metadata about the OAuth client and scopes.","ref":"Lightning.Credentials.Audit.html#oauth_token_refreshed_event/2"},{"type":"function","title":"Lightning.Credentials.Audit.oauth_token_revoked_event/2","doc":"Creates an audit event for OAuth token revocation.\nRecords when tokens are revoked during credential deletion.","ref":"Lightning.Credentials.Audit.html#oauth_token_revoked_event/2"},{"type":"function","title":"Lightning.Credentials.Audit.save/1","doc":"","ref":"Lightning.Credentials.Audit.html#save/1"},{"type":"function","title":"Lightning.Credentials.Audit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.Credentials.Audit.html#update_changes/1"},{"type":"function","title":"Lightning.Credentials.Audit.user_initiated_event/4","doc":"Creates a user-initiated audit event for credential operations.\n\nFor multi-environment credentials, environment body data is stored\nin metadata rather than in the changes map.","ref":"Lightning.Credentials.Audit.html#user_initiated_event/4"},{"type":"module","title":"Lightning.Credentials.Credential","doc":"The Credential model.\nStores metadata about credentials. Actual credential data lives in credential_bodies.","ref":"Lightning.Credentials.Credential.html"},{"type":"type","title":"Lightning.Credentials.Credential.t/0","doc":"","ref":"Lightning.Credentials.Credential.html#t:t/0"},{"type":"module","title":"Lightning.Credentials.CredentialBody","doc":"Per-environment credential body storage.\n\nEach credential can have multiple environment variants (e.g., \"main\", \"staging\", \"prod\")\nwith different configuration values.","ref":"Lightning.Credentials.CredentialBody.html"},{"type":"type","title":"Lightning.Credentials.CredentialBody.t/0","doc":"","ref":"Lightning.Credentials.CredentialBody.html#t:t/0"},{"type":"function","title":"Lightning.Credentials.CredentialBody.changeset/2","doc":"","ref":"Lightning.Credentials.CredentialBody.html#changeset/2"},{"type":"module","title":"Lightning.Credentials.DropOauthTokensValidator","doc":"Validates the DropOauthTokensTable migration.\n\nThis module validates that the migration which drops the oauth_tokens table\nand consolidates all credential data into credential_bodies has completed successfully.","ref":"Lightning.Credentials.DropOauthTokensValidator.html"},{"type":"module","title":"What it validates - Lightning.Credentials.DropOauthTokensValidator","doc":"","ref":"Lightning.Credentials.DropOauthTokensValidator.html#module-what-it-validates"},{"type":"module","title":"Schema Changes - Lightning.Credentials.DropOauthTokensValidator","doc":"- oauth_tokens table is dropped\n- credentials.body column is removed\n- credentials.oauth_token_id column is removed\n- credentials.production column is removed","ref":"Lightning.Credentials.DropOauthTokensValidator.html#module-schema-changes"},{"type":"module","title":"Data Integrity - Lightning.Credentials.DropOauthTokensValidator","doc":"- All credentials have credential_bodies\n- All OAuth credentials have oauth_client_id set\n- OAuth credential_bodies contain valid token data:\n  - access_token\n  - refresh_token\n  - token_type\n  - scope or scopes\n  - expires_in or expires_at\n- All root projects have env set to 'main'","ref":"Lightning.Credentials.DropOauthTokensValidator.html#module-data-integrity"},{"type":"module","title":"Usage - Lightning.Credentials.DropOauthTokensValidator","doc":"# Before migration\n    Lightning.Credentials.DropOauthTokensValidator.validate_before()\n\n    # After migration\n    Lightning.Credentials.DropOauthTokensValidator.validate_after()\n\nOr use the validation script:\n\n    mix run priv/repo/validate_drop_oauth_tokens_migration.exs before\n    mix run priv/repo/validate_drop_oauth_tokens_migration.exs after","ref":"Lightning.Credentials.DropOauthTokensValidator.html#module-usage"},{"type":"function","title":"Lightning.Credentials.DropOauthTokensValidator.validate_after/0","doc":"","ref":"Lightning.Credentials.DropOauthTokensValidator.html#validate_after/0"},{"type":"function","title":"Lightning.Credentials.DropOauthTokensValidator.validate_before/0","doc":"","ref":"Lightning.Credentials.DropOauthTokensValidator.html#validate_before/0"},{"type":"module","title":"Lightning.Credentials.KeychainCredential","doc":"Keychain credentials allow jobs to automatically select different credentials\nbased on data from the run's input dataclip using JSONPath expressions.","ref":"Lightning.Credentials.KeychainCredential.html"},{"type":"type","title":"Lightning.Credentials.KeychainCredential.t/0","doc":"","ref":"Lightning.Credentials.KeychainCredential.html#t:t/0"},{"type":"module","title":"Lightning.Credentials.OauthClient","doc":"Defines the Ecto schema for an OAuth client. This schema is responsible for representing\nOAuth client data in the database, including details such as client ID, client secret,\nand endpoints necessary for OAuth operations. It also links to associated users and\nprojects through relational fields.","ref":"Lightning.Credentials.OauthClient.html"},{"type":"type","title":"Lightning.Credentials.OauthClient.t/0","doc":"","ref":"Lightning.Credentials.OauthClient.html#t:t/0"},{"type":"function","title":"Lightning.Credentials.OauthClient.changeset/2","doc":"Builds a changeset for an OAuth client based on the provided attributes.","ref":"Lightning.Credentials.OauthClient.html#changeset/2"},{"type":"function","title":"Parameters - Lightning.Credentials.OauthClient.changeset/2","doc":"- oauth_client: The existing `%OauthClient{}` struct (or a new struct for creation).\n- attrs: A map of attributes to set on the OAuth client.","ref":"Lightning.Credentials.OauthClient.html#changeset/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.OauthClient.changeset/2","doc":"- An `%Ecto.Changeset{}` that can be used to create or update an OAuth client.\n\nThis function validates the presence of essential fields, ensures that URLs are valid,\nand handles associations with projects through nested changesets.","ref":"Lightning.Credentials.OauthClient.html#changeset/2-returns"},{"type":"module","title":"Lightning.Credentials.OauthClientAudit","doc":"Model for storing changes to Oauth clients","ref":"Lightning.Credentials.OauthClientAudit.html"},{"type":"function","title":"Lightning.Credentials.OauthClientAudit.base_query/0","doc":"","ref":"Lightning.Credentials.OauthClientAudit.html#base_query/0"},{"type":"function","title":"Lightning.Credentials.OauthClientAudit.event/5","doc":"","ref":"Lightning.Credentials.OauthClientAudit.html#event/5"},{"type":"function","title":"Lightning.Credentials.OauthClientAudit.save/1","doc":"","ref":"Lightning.Credentials.OauthClientAudit.html#save/1"},{"type":"function","title":"Lightning.Credentials.OauthClientAudit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.Credentials.OauthClientAudit.html#update_changes/1"},{"type":"function","title":"Lightning.Credentials.OauthClientAudit.user_initiated_event/3","doc":"","ref":"Lightning.Credentials.OauthClientAudit.html#user_initiated_event/3"},{"type":"module","title":"Lightning.Credentials.OauthValidation","doc":"Centralized OAuth token validation with structured error handling.\n\nThis module provides comprehensive OAuth token validation used across\ncredential modules to ensure consistent validation logic.\n\nValidates OAuth 2.0 tokens according to RFC 6749 specifications with\nadditional robustness for real-world OAuth provider variations.","ref":"Lightning.Credentials.OauthValidation.html"},{"type":"function","title":"Lightning.Credentials.OauthValidation.extract_scopes/1","doc":"Extracts scopes from OAuth token data in various formats.\n\nHandles both string and atom keys, and both \"scope\" and \"scopes\" fields.","ref":"Lightning.Credentials.OauthValidation.html#extract_scopes/1"},{"type":"function","title":"Parameters - Lightning.Credentials.OauthValidation.extract_scopes/1","doc":"* `token_data` - Map containing OAuth token data","ref":"Lightning.Credentials.OauthValidation.html#extract_scopes/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.OauthValidation.extract_scopes/1","doc":"* `{:ok, [String.t()]}` - List of extracted scopes\n  * `:error` - No valid scope data found","ref":"Lightning.Credentials.OauthValidation.html#extract_scopes/1-returns"},{"type":"function","title":"Examples - Lightning.Credentials.OauthValidation.extract_scopes/1","doc":"iex> extract_scopes(%{\"scope\" => \"read write\"})\n    {:ok, [\"read\", \"write\"]}\n\n    iex> extract_scopes(%{scopes: [\"read\", \"write\"]})\n    {:ok, [\"read\", \"write\"]}\n\n    iex> extract_scopes(%{\"invalid\" => \"data\"})\n    :error","ref":"Lightning.Credentials.OauthValidation.html#extract_scopes/1-examples"},{"type":"function","title":"Lightning.Credentials.OauthValidation.normalize_scopes/2","doc":"Normalizes OAuth scopes from various input formats into a consistent list.\n\nHandles multiple input formats:\n- nil -> []\n- Map with \"scope\" or \"scopes\" field (credential body)\n- String with delimited scopes\n- List of scopes (strings or atoms)\n- Single atom scope\n- Any other input -> []\n\nReturns lowercase, trimmed, non-empty scope strings with duplicates removed.","ref":"Lightning.Credentials.OauthValidation.html#normalize_scopes/2"},{"type":"function","title":"Parameters - Lightning.Credentials.OauthValidation.normalize_scopes/2","doc":"* `input` - The input to normalize (various formats supported)\n  * `delimiter` - String delimiter for parsing scope strings (default: \" \")","ref":"Lightning.Credentials.OauthValidation.html#normalize_scopes/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.OauthValidation.normalize_scopes/2","doc":"* `[String.t()]` - List of normalized scope strings","ref":"Lightning.Credentials.OauthValidation.html#normalize_scopes/2-returns"},{"type":"function","title":"Examples - Lightning.Credentials.OauthValidation.normalize_scopes/2","doc":"iex> normalize_scopes(\"READ Write ADMIN\")\n    [\"read\", \"write\", \"admin\"]\n\n    iex> normalize_scopes([:read, \"WRITE\", \" admin \"])\n    [\"read\", \"write\", \"admin\"]\n\n    iex> normalize_scopes(%{\"scope\" => \"read write\"})\n    [\"read\", \"write\"]","ref":"Lightning.Credentials.OauthValidation.html#normalize_scopes/2-examples"},{"type":"function","title":"Lightning.Credentials.OauthValidation.validate_scope_grant/2","doc":"Validates that granted scopes match exactly what the user selected.\n\nPerforms case-insensitive scope matching to handle OAuth provider variations.","ref":"Lightning.Credentials.OauthValidation.html#validate_scope_grant/2"},{"type":"function","title":"Parameters - Lightning.Credentials.OauthValidation.validate_scope_grant/2","doc":"* `token_data` - The OAuth token response from the provider\n  * `expected_scopes` - List of scopes the user selected","ref":"Lightning.Credentials.OauthValidation.html#validate_scope_grant/2-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.OauthValidation.validate_scope_grant/2","doc":"* `:ok` - All expected scopes were granted\n  * `{:error, %Error{}}` - Some expected scopes missing or no scope data","ref":"Lightning.Credentials.OauthValidation.html#validate_scope_grant/2-returns"},{"type":"function","title":"Examples - Lightning.Credentials.OauthValidation.validate_scope_grant/2","doc":"iex> validate_scope_grant(%{\"scope\" => \"read write admin\"}, [\"read\", \"write\"])\n    :ok\n\n    iex> validate_scope_grant(%{\"scope\" => \"read\"}, [\"read\", \"write\"])\n    {:error, %Error{type: :missing_scopes, details: %{missing_scopes: [\"write\"]}}}","ref":"Lightning.Credentials.OauthValidation.html#validate_scope_grant/2-examples"},{"type":"function","title":"Lightning.Credentials.OauthValidation.validate_token_data/1","doc":"Validates OAuth token data according to OAuth 2.0 standards (RFC 6749).\n\nThis function validates that all required OAuth fields are present and valid in the token data.\nRequired fields: access_token, refresh_token, scope (or scopes), expires_in (or expires_at), token_type.","ref":"Lightning.Credentials.OauthValidation.html#validate_token_data/1"},{"type":"function","title":"Expiration Fields - Lightning.Credentials.OauthValidation.validate_token_data/1","doc":"- `expires_in`: Duration in seconds until token expires (relative, preferred by OAuth 2.0)\n- `expires_at`: Absolute timestamp when token expires (Unix timestamp or ISO 8601)\n\nOnly one expiration field is required. `expires_in` is preferred as it's less susceptible to\nclock skew issues between client and server.","ref":"Lightning.Credentials.OauthValidation.html#validate_token_data/1-expiration-fields"},{"type":"function","title":"Parameters - Lightning.Credentials.OauthValidation.validate_token_data/1","doc":"* `token_data` - The OAuth token data to validate","ref":"Lightning.Credentials.OauthValidation.html#validate_token_data/1-parameters"},{"type":"function","title":"Returns - Lightning.Credentials.OauthValidation.validate_token_data/1","doc":"* `{:ok, token_data}` - Token data is valid\n  * `{:error, %Error{}}` - Token data is invalid with structured error","ref":"Lightning.Credentials.OauthValidation.html#validate_token_data/1-returns"},{"type":"function","title":"Examples - Lightning.Credentials.OauthValidation.validate_token_data/1","doc":"iex> validate_token_data(%{\n    ...>   \"access_token\" => \"abc123\",\n    ...>   \"refresh_token\" => \"def456\",\n    ...>   \"token_type\" => \"Bearer\",\n    ...>   \"expires_in\" => 3600,  # 1 hour\n    ...>   \"scope\" => \"read write\"\n    ...> })\n    {:ok, %{\"access_token\" => \"abc123\", ...}}\n\n    iex> validate_token_data(%{\n    ...>   \"access_token\" => \"abc123\",\n    ...>   \"refresh_token\" => \"def456\",\n    ...>   \"token_type\" => \"Bearer\",\n    ...>   \"expires_at\" => 1672531200,  # Unix timestamp\n    ...>   \"scope\" => \"read write\"\n    ...> })\n    {:ok, %{\"access_token\" => \"abc123\", ...}}\n\n    iex> validate_token_data(%{\"invalid\" => \"data\"})\n    {:error, %Error{type: :missing_access_token, message: \"...\"}}","ref":"Lightning.Credentials.OauthValidation.html#validate_token_data/1-examples"},{"type":"module","title":"Lightning.Credentials.OauthValidation.Error","doc":"Represents OAuth-related errors with structured error information.\n\nThis module provides a standardized way to handle and categorize OAuth errors\nthat can occur during authentication flows, token validation, and scope verification.\nEach error includes a type for programmatic handling, a human-readable message,\nand optional details for additional context.","ref":"Lightning.Credentials.OauthValidation.Error.html"},{"type":"module","title":"Examples - Lightning.Credentials.OauthValidation.Error","doc":"iex> Error.new(:missing_scopes, \"Required scopes not granted\")\n    %Error{type: :missing_scopes, message: \"Required scopes not granted\", details: nil}\n\n    iex> Error.new(:missing_refresh_token, \"No refresh token\", %{existing_token_available: true})\n    %Error{type: :missing_refresh_token, message: \"No refresh token\", details: %{existing_token_available: true}}","ref":"Lightning.Credentials.OauthValidation.Error.html#module-examples"},{"type":"type","title":"Lightning.Credentials.OauthValidation.Error.error_type/0","doc":"","ref":"Lightning.Credentials.OauthValidation.Error.html#t:error_type/0"},{"type":"type","title":"Lightning.Credentials.OauthValidation.Error.t/0","doc":"","ref":"Lightning.Credentials.OauthValidation.Error.html#t:t/0"},{"type":"function","title":"Lightning.Credentials.OauthValidation.Error.new/3","doc":"","ref":"Lightning.Credentials.OauthValidation.Error.html#new/3"},{"type":"module","title":"Lightning.Credentials.ResolvedCredential","doc":"Represents a credential that has been resolved and is ready for worker consumption.\n\nContains the final body for the specific environment and maintains reference\nto the original credential for scrubbing setup.","ref":"Lightning.Credentials.ResolvedCredential.html"},{"type":"type","title":"Lightning.Credentials.ResolvedCredential.t/0","doc":"","ref":"Lightning.Credentials.ResolvedCredential.html#t:t/0"},{"type":"function","title":"Lightning.Credentials.ResolvedCredential.from/2","doc":"Creates a ResolvedCredential from a Credential with a specific body.","ref":"Lightning.Credentials.ResolvedCredential.html#from/2"},{"type":"module","title":"Lightning.Credentials.Resolver","doc":"Provides credential resolution abstraction for workflow execution.\n\nResolves credentials by matching the project's environment to the credential's\nenvironment body. For OAuth credentials, passes the environment body during\ntoken refresh.","ref":"Lightning.Credentials.Resolver.html"},{"type":"type","title":"Lightning.Credentials.Resolver.error_reason/0","doc":"","ref":"Lightning.Credentials.Resolver.html#t:error_reason/0"},{"type":"type","title":"Lightning.Credentials.Resolver.resolve_error/0","doc":"","ref":"Lightning.Credentials.Resolver.html#t:resolve_error/0"},{"type":"function","title":"Lightning.Credentials.Resolver.resolve_credential/2","doc":"Resolves a credential for a run by matching the project's environment,\nor resolves a credential directly for a specific environment.","ref":"Lightning.Credentials.Resolver.html#resolve_credential/2"},{"type":"module","title":"Lightning.Credentials.Schema","doc":"Structure that can parse JsonSchemas (using `ExJsonSchema`) and validate\nchangesets for a given schema.","ref":"Lightning.Credentials.Schema.html"},{"type":"type","title":"Lightning.Credentials.Schema.t/0","doc":"","ref":"Lightning.Credentials.Schema.html#t:t/0"},{"type":"function","title":"Lightning.Credentials.Schema.new/2","doc":"","ref":"Lightning.Credentials.Schema.html#new/2"},{"type":"function","title":"Lightning.Credentials.Schema.properties/2","doc":"","ref":"Lightning.Credentials.Schema.html#properties/2"},{"type":"function","title":"Lightning.Credentials.Schema.required?/2","doc":"","ref":"Lightning.Credentials.Schema.html#required?/2"},{"type":"function","title":"Lightning.Credentials.Schema.validate/2","doc":"","ref":"Lightning.Credentials.Schema.html#validate/2"},{"type":"module","title":"Lightning.Credentials.SchemaDocument","doc":"Provides facilities to dynamically create and validate a changeset for a given\n[Schema](`Lightning.Credentials.Schema`)","ref":"Lightning.Credentials.SchemaDocument.html"},{"type":"function","title":"Lightning.Credentials.SchemaDocument.changeset/3","doc":"","ref":"Lightning.Credentials.SchemaDocument.html#changeset/3"},{"type":"module","title":"Lightning.Credentials.SensitiveValues","doc":"Functions to pull out sensitive values inside a credential.\n\nThese values are used to scrub logs for leaked secrets.","ref":"Lightning.Credentials.SensitiveValues.html"},{"type":"type","title":"Lightning.Credentials.SensitiveValues.pairs/0","doc":"","ref":"Lightning.Credentials.SensitiveValues.html#t:pairs/0"},{"type":"type","title":"Lightning.Credentials.SensitiveValues.raw_pairs/0","doc":"","ref":"Lightning.Credentials.SensitiveValues.html#t:raw_pairs/0"},{"type":"function","title":"Lightning.Credentials.SensitiveValues.flatten_map/1","doc":"Keys that are _not_ considered sensitive","ref":"Lightning.Credentials.SensitiveValues.html#flatten_map/1"},{"type":"function","title":"Lightning.Credentials.SensitiveValues.secret_values/1","doc":"Given a map, find all values allowed (via `@safe_keys`) and return them as\na list.","ref":"Lightning.Credentials.SensitiveValues.html#secret_values/1"},{"type":"module","title":"Lightning.Invocation","doc":"The Invocation context.","ref":"Lightning.Invocation.html"},{"type":"function","title":"Lightning.Invocation.assemble_logs_for_job_and_run/2","doc":"","ref":"Lightning.Invocation.html#assemble_logs_for_job_and_run/2"},{"type":"function","title":"Lightning.Invocation.assemble_logs_for_step/1","doc":"Return all logs for a step as a string of text, separated by new line \n breaks","ref":"Lightning.Invocation.html#assemble_logs_for_step/1"},{"type":"function","title":"Lightning.Invocation.change_dataclip/2","doc":"Returns an `%Ecto.Changeset{}` for tracking dataclip changes.","ref":"Lightning.Invocation.html#change_dataclip/2"},{"type":"function","title":"Examples - Lightning.Invocation.change_dataclip/2","doc":"iex> change_dataclip(dataclip)\n    %Ecto.Changeset{data: %Dataclip{}}","ref":"Lightning.Invocation.html#change_dataclip/2-examples"},{"type":"function","title":"Lightning.Invocation.change_step/2","doc":"Returns an `%Ecto.Changeset{}` for tracking step changes.","ref":"Lightning.Invocation.html#change_step/2"},{"type":"function","title":"Examples - Lightning.Invocation.change_step/2","doc":"iex> change_step(step)\n    %Ecto.Changeset{data: %Step{}}","ref":"Lightning.Invocation.html#change_step/2-examples"},{"type":"function","title":"Lightning.Invocation.count_workorders/2","doc":"","ref":"Lightning.Invocation.html#count_workorders/2"},{"type":"function","title":"Lightning.Invocation.create_dataclip/1","doc":"Creates a dataclip.","ref":"Lightning.Invocation.html#create_dataclip/1"},{"type":"function","title":"Examples - Lightning.Invocation.create_dataclip/1","doc":"iex> create_dataclip(%{field: value})\n    {:ok, %Dataclip{}}\n\n    iex> create_dataclip(%{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Invocation.html#create_dataclip/1-examples"},{"type":"function","title":"Lightning.Invocation.cron_triggered_job?/1","doc":"Checks if a job is triggered by a cron trigger.","ref":"Lightning.Invocation.html#cron_triggered_job?/1"},{"type":"function","title":"Lightning.Invocation.delete_dataclip/1","doc":"Deletes a dataclip.","ref":"Lightning.Invocation.html#delete_dataclip/1"},{"type":"function","title":"Examples - Lightning.Invocation.delete_dataclip/1","doc":"iex> delete_dataclip(dataclip)\n    {:ok, %Dataclip{}}\n\n    iex> delete_dataclip(dataclip)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Invocation.html#delete_dataclip/1-examples"},{"type":"function","title":"Lightning.Invocation.export_workorders/3","doc":"Exports work orders by performing a series of database operations wrapped in a transaction.\n\nThis function creates an audit log, a project file record, and enqueues an export job using a transaction.\nEach step is executed as part of an `Ecto.Multi` operation, ensuring atomicity.","ref":"Lightning.Invocation.html#export_workorders/3"},{"type":"function","title":"Parameters - Lightning.Invocation.export_workorders/3","doc":"- `project` - The project for which work orders are being exported. Expected to be a map or struct with an `id` field.\n  - `user` - The user initiating the export operation. Expected to be a map or struct with an `id` field.\n  - `search_params` - A map of search parameters used to filter work orders to export.","ref":"Lightning.Invocation.html#export_workorders/3-parameters"},{"type":"function","title":"Returns - Lightning.Invocation.export_workorders/3","doc":"- `{:ok, %{audit: audit, project_file: project_file, export_job: job}}` on success:\n    - `audit`: The audit log entry created for the export operation.\n    - `project_file`: The project file record created for the export operation.\n    - `export_job`: The result of the export job enqueuing step.\n\n  - `{:error, step, reason, changes}` if any step in the transaction fails:\n    - `step`: The step where the error occurred, e.g., `:audit`, `:project_file`, or `:export_job`.\n    - `reason`: The reason for the failure, typically an error atom.\n    - `changes`: A map of changes up to the point of failure.","ref":"Lightning.Invocation.html#export_workorders/3-returns"},{"type":"function","title":"Lightning.Invocation.get_dataclip/1","doc":"Gets a single dataclip given one of:\n\n- a Dataclip uuid\n- a Step model\n\nReturns `nil` if the Dataclip does not exist.","ref":"Lightning.Invocation.html#get_dataclip/1"},{"type":"function","title":"Examples - Lightning.Invocation.get_dataclip/1","doc":"iex> get_dataclip(\"27b73932-16c7-4a72-86a3-85d805ccff98\")\n    %Dataclip{}\n\n    iex> get_dataclip(\"27b73932-16c7-4a72-86a3-85d805ccff98\")\n    nil\n\n    iex> get_dataclip(%Step{id: \"a uuid\"})\n    %Dataclip{}","ref":"Lightning.Invocation.html#get_dataclip/1-examples"},{"type":"function","title":"Lightning.Invocation.get_dataclip!/1","doc":"Gets a single dataclip.\n\nRaises `Ecto.NoResultsError` if the Dataclip does not exist.","ref":"Lightning.Invocation.html#get_dataclip!/1"},{"type":"function","title":"Examples - Lightning.Invocation.get_dataclip!/1","doc":"iex> get_dataclip!(123)\n    %Dataclip{}\n\n    iex> get_dataclip!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Invocation.html#get_dataclip!/1-examples"},{"type":"function","title":"Lightning.Invocation.get_dataclip_for_run/1","doc":"","ref":"Lightning.Invocation.html#get_dataclip_for_run/1"},{"type":"function","title":"Lightning.Invocation.get_dataclip_query/1","doc":"Query for retrieving the dataclip that was step's starting dataclip.","ref":"Lightning.Invocation.html#get_dataclip_query/1"},{"type":"function","title":"Lightning.Invocation.get_dataclip_with_body!/1","doc":"","ref":"Lightning.Invocation.html#get_dataclip_with_body!/1"},{"type":"function","title":"Lightning.Invocation.get_first_dataclip_for_run_and_job/2","doc":"","ref":"Lightning.Invocation.html#get_first_dataclip_for_run_and_job/2"},{"type":"function","title":"Lightning.Invocation.get_first_step_for_run_and_job/2","doc":"","ref":"Lightning.Invocation.html#get_first_step_for_run_and_job/2"},{"type":"function","title":"Lightning.Invocation.get_next_cron_run_dataclip/2","doc":"Gets the next cron run dataclip for a job.\n\nReturns the most recent output dataclip from a successful step for the given job,\nfiltered by the provided database filters.","ref":"Lightning.Invocation.html#get_next_cron_run_dataclip/2"},{"type":"function","title":"Lightning.Invocation.get_output_dataclip_query/1","doc":"Query for retrieving the dataclip that was the result of a successful step.","ref":"Lightning.Invocation.html#get_output_dataclip_query/1"},{"type":"function","title":"Lightning.Invocation.get_run_with_steps/1","doc":"Get a run with all its steps preloaded, including work_order and workflow\nfor authorization checks.","ref":"Lightning.Invocation.html#get_run_with_steps/1"},{"type":"function","title":"Lightning.Invocation.get_step!/1","doc":"Gets a single step.\n\nRaises `Ecto.NoResultsError` if the Step does not exist.","ref":"Lightning.Invocation.html#get_step!/1"},{"type":"function","title":"Examples - Lightning.Invocation.get_step!/1","doc":"iex> get_step!(123)\n    %Step{}\n\n    iex> get_step!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Invocation.html#get_step!/1-examples"},{"type":"function","title":"Lightning.Invocation.get_step_count_for_run/1","doc":"","ref":"Lightning.Invocation.html#get_step_count_for_run/1"},{"type":"function","title":"Lightning.Invocation.get_step_with_dataclips/1","doc":"Gets a step by ID with its input and output dataclips preloaded.\nReturns nil if step not found.\n\nNote: Dataclip body fields have `load_in_query: false` for performance,\nso we use a custom preload query to explicitly select the body field.","ref":"Lightning.Invocation.html#get_step_with_dataclips/1"},{"type":"function","title":"Lightning.Invocation.get_step_with_job!/1","doc":"Fetches a step and preloads the job via the step's event.","ref":"Lightning.Invocation.html#get_step_with_job!/1"},{"type":"function","title":"Lightning.Invocation.get_workorders_by_ids/1","doc":"","ref":"Lightning.Invocation.html#get_workorders_by_ids/1"},{"type":"function","title":"Lightning.Invocation.get_workorders_count_limit/0","doc":"","ref":"Lightning.Invocation.html#get_workorders_count_limit/0"},{"type":"function","title":"Lightning.Invocation.list_dataclips/0","doc":"Returns the list of dataclips.","ref":"Lightning.Invocation.html#list_dataclips/0"},{"type":"function","title":"Examples - Lightning.Invocation.list_dataclips/0","doc":"iex> list_dataclips()\n    [%Dataclip{}, ...]","ref":"Lightning.Invocation.html#list_dataclips/0-examples"},{"type":"function","title":"Lightning.Invocation.list_dataclips/1","doc":"","ref":"Lightning.Invocation.html#list_dataclips/1"},{"type":"function","title":"Lightning.Invocation.list_dataclips_for_job/2","doc":"","ref":"Lightning.Invocation.html#list_dataclips_for_job/2"},{"type":"function","title":"Lightning.Invocation.list_dataclips_for_job/3","doc":"","ref":"Lightning.Invocation.html#list_dataclips_for_job/3"},{"type":"function","title":"Lightning.Invocation.list_dataclips_for_job_with_cron_state/3","doc":"Lists dataclips for a job, including next cron run state if cron-triggered.\n\nFor cron-triggered jobs, this function will include the next run state dataclip\nand return its ID even if it doesn't match the filters.\n\nReturns a tuple of {dataclips, next_cron_run_dataclip_id}.","ref":"Lightning.Invocation.html#list_dataclips_for_job_with_cron_state/3"},{"type":"function","title":"Lightning.Invocation.list_dataclips_query/1","doc":"","ref":"Lightning.Invocation.html#list_dataclips_query/1"},{"type":"function","title":"Lightning.Invocation.list_steps/0","doc":"Returns the list of steps.","ref":"Lightning.Invocation.html#list_steps/0"},{"type":"function","title":"Examples - Lightning.Invocation.list_steps/0","doc":"iex> list_steps()\n    [%Step{}, ...]","ref":"Lightning.Invocation.html#list_steps/0-examples"},{"type":"function","title":"Lightning.Invocation.list_steps_for_project/2","doc":"","ref":"Lightning.Invocation.html#list_steps_for_project/2"},{"type":"function","title":"Lightning.Invocation.list_steps_for_project_query/1","doc":"","ref":"Lightning.Invocation.html#list_steps_for_project_query/1"},{"type":"function","title":"Lightning.Invocation.logs_for_step/1","doc":"Return all logs for a step as a list","ref":"Lightning.Invocation.html#logs_for_step/1"},{"type":"function","title":"Lightning.Invocation.search_workorders/1","doc":"Searches for work orders based on project and search parameters.","ref":"Lightning.Invocation.html#search_workorders/1"},{"type":"function","title":"Parameters: - Lightning.Invocation.search_workorders/1","doc":"- `project`: The project to filter the work orders by.\n- `search_params`: The parameters to guide the search.","ref":"Lightning.Invocation.html#search_workorders/1-parameters"},{"type":"function","title":"Returns: - Lightning.Invocation.search_workorders/1","doc":"A paginated list of work orders that match the criteria.","ref":"Lightning.Invocation.html#search_workorders/1-returns"},{"type":"function","title":"Example: - Lightning.Invocation.search_workorders/1","doc":"search_workorders(%Project{id: 1}, %SearchParams{status: [\"completed\"]})","ref":"Lightning.Invocation.html#search_workorders/1-example"},{"type":"function","title":"Lightning.Invocation.search_workorders/3","doc":"","ref":"Lightning.Invocation.html#search_workorders/3"},{"type":"function","title":"Lightning.Invocation.search_workorders_for_export_query/2","doc":"","ref":"Lightning.Invocation.html#search_workorders_for_export_query/2"},{"type":"function","title":"Lightning.Invocation.search_workorders_for_retry/2","doc":"","ref":"Lightning.Invocation.html#search_workorders_for_retry/2"},{"type":"function","title":"Lightning.Invocation.update_dataclip/2","doc":"Updates a dataclip.","ref":"Lightning.Invocation.html#update_dataclip/2"},{"type":"function","title":"Examples - Lightning.Invocation.update_dataclip/2","doc":"iex> update_dataclip(dataclip, %{field: new_value})\n    {:ok, %Dataclip{}}\n\n    iex> update_dataclip(dataclip, %{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Invocation.html#update_dataclip/2-examples"},{"type":"function","title":"Lightning.Invocation.update_dataclip_name/3","doc":"","ref":"Lightning.Invocation.html#update_dataclip_name/3"},{"type":"function","title":"Lightning.Invocation.with_runs/1","doc":"","ref":"Lightning.Invocation.html#with_runs/1"},{"type":"module","title":"Lightning.Invocation.Dataclip","doc":"Ecto model for Dataclips.\n\nDataclips represent some data that arrived in the system, and records both\nthe data and the source of the data.","ref":"Lightning.Invocation.Dataclip.html"},{"type":"module","title":"Types - Lightning.Invocation.Dataclip","doc":"* `:http_request`\n  The data arrived via a webhook.\n* `:global`\n  Was created manually, and is intended to be used multiple times.\n  When repetitive static data is needed to be maintained, instead of hard-coding\n  into a Job - a more convenient solution is to create a `:global` Dataclip\n  and access it inside the Job.\n* `:step_result`\n  The final state of a step.\n* `:saved_input`\n  An arbitrary input, created by a user. (Only configuration will be overwritten.)","ref":"Lightning.Invocation.Dataclip.html#module-types"},{"type":"type","title":"Lightning.Invocation.Dataclip.source_type/0","doc":"","ref":"Lightning.Invocation.Dataclip.html#t:source_type/0"},{"type":"type","title":"Lightning.Invocation.Dataclip.t/0","doc":"","ref":"Lightning.Invocation.Dataclip.html#t:t/0"},{"type":"function","title":"Lightning.Invocation.Dataclip.new/1","doc":"","ref":"Lightning.Invocation.Dataclip.html#new/1"},{"type":"function","title":"Lightning.Invocation.Dataclip.source_types/0","doc":"","ref":"Lightning.Invocation.Dataclip.html#source_types/0"},{"type":"function","title":"Lightning.Invocation.Dataclip.validate_by_type/1","doc":"Append validations based on the type of the Dataclip.\n\n- `:step_result` must have an associated Step model.","ref":"Lightning.Invocation.Dataclip.html#validate_by_type/1"},{"type":"module","title":"Lightning.Invocation.DataclipAudit","doc":"Log dataclip events.","ref":"Lightning.Invocation.DataclipAudit.html"},{"type":"function","title":"Lightning.Invocation.DataclipAudit.base_query/0","doc":"","ref":"Lightning.Invocation.DataclipAudit.html#base_query/0"},{"type":"function","title":"Lightning.Invocation.DataclipAudit.event/5","doc":"","ref":"Lightning.Invocation.DataclipAudit.html#event/5"},{"type":"function","title":"Lightning.Invocation.DataclipAudit.save/1","doc":"","ref":"Lightning.Invocation.DataclipAudit.html#save/1"},{"type":"function","title":"Lightning.Invocation.DataclipAudit.save_name_updated/3","doc":"","ref":"Lightning.Invocation.DataclipAudit.html#save_name_updated/3"},{"type":"function","title":"Lightning.Invocation.DataclipAudit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.Invocation.DataclipAudit.html#update_changes/1"},{"type":"module","title":"Lightning.Invocation.LogLine","doc":"Ecto model for run logs.\n\nEvery log line from a worker is stored using this model.\n\nCurrently the `:message` field is a text field, however the worker sends\nmessages in a JSON format. We will at some point consider changing this to\na JSON field; but for now we coerce it into a string.\n\nSee [`LogMessage`](`Lightning.LogMessage`) for more information.","ref":"Lightning.Invocation.LogLine.html"},{"type":"type","title":"Lightning.Invocation.LogLine.t/0","doc":"","ref":"Lightning.Invocation.LogLine.html#t:t/0"},{"type":"function","title":"Lightning.Invocation.LogLine.new/3","doc":"","ref":"Lightning.Invocation.LogLine.html#new/3"},{"type":"function","title":"Lightning.Invocation.LogLine.validate/2","doc":"","ref":"Lightning.Invocation.LogLine.html#validate/2"},{"type":"module","title":"Lightning.Invocation.Query","doc":"Query functions for working with Steps and Dataclips","ref":"Lightning.Invocation.Query.html"},{"type":"function","title":"Lightning.Invocation.Query.any_step/0","doc":"To be used in preloads for `workflow > job > step` when the presence of any\nstep is all the information we need. As in, \"Does this job have any steps?\"","ref":"Lightning.Invocation.Query.html#any_step/0"},{"type":"function","title":"Lightning.Invocation.Query.dataclip_with_body/0","doc":"By default, the dataclip body is not returned via a query. This query selects\nthe body specifically.","ref":"Lightning.Invocation.Query.html#dataclip_with_body/0"},{"type":"function","title":"Lightning.Invocation.Query.filter_log_lines/2","doc":"Filter log lines by various criteria","ref":"Lightning.Invocation.Query.html#filter_log_lines/2"},{"type":"function","title":"Lightning.Invocation.Query.filter_runs/2","doc":"Filter runs by various criteria","ref":"Lightning.Invocation.Query.html#filter_runs/2"},{"type":"function","title":"Lightning.Invocation.Query.filter_runs_by_date/2","doc":"Filter runs by inserted_at date range","ref":"Lightning.Invocation.Query.html#filter_runs_by_date/2"},{"type":"function","title":"Lightning.Invocation.Query.filter_work_orders/2","doc":"Filter work orders by various criteria","ref":"Lightning.Invocation.Query.html#filter_work_orders/2"},{"type":"function","title":"Lightning.Invocation.Query.filter_work_orders_by_date/2","doc":"Filter work orders by date range","ref":"Lightning.Invocation.Query.html#filter_work_orders_by_date/2"},{"type":"function","title":"Lightning.Invocation.Query.last_n_for_job/2","doc":"","ref":"Lightning.Invocation.Query.html#last_n_for_job/2"},{"type":"function","title":"Lightning.Invocation.Query.last_step_for_job/1","doc":"The last step for a job","ref":"Lightning.Invocation.Query.html#last_step_for_job/1"},{"type":"function","title":"Lightning.Invocation.Query.last_successful_step_for_job/1","doc":"The last successful step for a job, used in scheduler to enable downstream runs\nto access a previous run's state","ref":"Lightning.Invocation.Query.html#last_successful_step_for_job/1"},{"type":"function","title":"Lightning.Invocation.Query.log_lines_for/1","doc":"Log lines for a specific user, filtered by their accessible projects","ref":"Lightning.Invocation.Query.html#log_lines_for/1"},{"type":"function","title":"Lightning.Invocation.Query.runs_for/1","doc":"Runs for a specific project, or all runs available to the requesting user","ref":"Lightning.Invocation.Query.html#runs_for/1"},{"type":"function","title":"Lightning.Invocation.Query.select_as_input_text/1","doc":"Returns a dataclip formatted for use as an input state.\n\nOnly `http_request` dataclips are changed, their `body` is nested inside a\n`\"data\"` key and `request` data is added as a `\"request\"` key.\n\nLike `select_as_input/1`, but returns body as JSON text string to avoid\nexpensive deserialization to Elixir map (saves ~38x memory amplification).","ref":"Lightning.Invocation.Query.html#select_as_input_text/1"},{"type":"function","title":"Lightning.Invocation.Query.steps_for/1","doc":"Steps for a specific user","ref":"Lightning.Invocation.Query.html#steps_for/1"},{"type":"function","title":"Lightning.Invocation.Query.steps_with_reason/2","doc":"The last step for a job for a particular exit reason, used in scheduler","ref":"Lightning.Invocation.Query.html#steps_with_reason/2"},{"type":"function","title":"Lightning.Invocation.Query.validate_datetime_params/2","doc":"Validate datetime parameters for filtering","ref":"Lightning.Invocation.Query.html#validate_datetime_params/2"},{"type":"function","title":"Lightning.Invocation.Query.wipe_dataclips/1","doc":"","ref":"Lightning.Invocation.Query.html#wipe_dataclips/1"},{"type":"function","title":"Lightning.Invocation.Query.work_orders_for/1","doc":"Work orders for a specific project, or all runs available to the requesting user","ref":"Lightning.Invocation.Query.html#work_orders_for/1"},{"type":"module","title":"Lightning.Invocation.Step","doc":"Ecto model for Steps.\n\nA step is part of a run and represents the work initiated for a single\nJob with a single `input_dataclip`.\n\nOnce completed (successfully) it will have an `output_dataclip` associated\nwith it as well.\n\nWhen a step finishes, it's `:exit_reason` is set to one of following strings:\n\n-  `\"success\"`\n-  `\"fail\"`\n-  `\"crash\"`\n-  `\"cancel\"`\n-  `\"kill\"`\n-  `\"exception\"`\n-  `\"lost\"`","ref":"Lightning.Invocation.Step.html"},{"type":"type","title":"Lightning.Invocation.Step.t/0","doc":"","ref":"Lightning.Invocation.Step.html#t:t/0"},{"type":"function","title":"Lightning.Invocation.Step.finished/2","doc":"","ref":"Lightning.Invocation.Step.html#finished/2"},{"type":"function","title":"Lightning.Invocation.Step.new/1","doc":"","ref":"Lightning.Invocation.Step.html#new/1"},{"type":"function","title":"Lightning.Invocation.Step.validate/1","doc":"","ref":"Lightning.Invocation.Step.html#validate/1"},{"type":"module","title":"Lightning.Jobs","doc":"The Jobs context.","ref":"Lightning.Jobs.html"},{"type":"function","title":"Lightning.Jobs.change_job/2","doc":"Returns an `%Ecto.Changeset{}` for tracking job changes.","ref":"Lightning.Jobs.html#change_job/2"},{"type":"function","title":"Examples - Lightning.Jobs.change_job/2","doc":"iex> change_job(job)\n    %Ecto.Changeset{data: %Job{}}","ref":"Lightning.Jobs.html#change_job/2-examples"},{"type":"function","title":"Lightning.Jobs.create_job/2","doc":"Creates a job.","ref":"Lightning.Jobs.html#create_job/2"},{"type":"function","title":"Examples - Lightning.Jobs.create_job/2","doc":"iex> create_job(%{field: value})\n    {:ok, %Job{}}\n\n    iex> create_job(%{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Jobs.html#create_job/2-examples"},{"type":"function","title":"Lightning.Jobs.get_downstream_jobs_for/2","doc":"Returns the list of downstream jobs for a given job, optionally matching a\nspecific trigger type.\nWhen downstream_jobs_for is called without a trigger that means its between jobs\nwhen it called with a trigger that means we are starting from outside the pipeline","ref":"Lightning.Jobs.html#get_downstream_jobs_for/2"},{"type":"function","title":"Lightning.Jobs.get_job/1","doc":"Gets a single job.\n\nReturns `{:ok, job}` if found, `{:error, :not_found}` otherwise.","ref":"Lightning.Jobs.html#get_job/1"},{"type":"function","title":"Lightning.Jobs.get_job!/1","doc":"Gets a single job.\n\nRaises `Ecto.NoResultsError` if the Job does not exist.","ref":"Lightning.Jobs.html#get_job!/1"},{"type":"function","title":"Examples - Lightning.Jobs.get_job!/1","doc":"iex> get_job!(123)\n    %Job{}\n\n    iex> get_job!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Jobs.html#get_job!/1-examples"},{"type":"function","title":"Lightning.Jobs.get_job_with_credential/1","doc":"","ref":"Lightning.Jobs.html#get_job_with_credential/1"},{"type":"function","title":"Lightning.Jobs.get_upstream_jobs_for/1","doc":"Returns the list of jobs excluding the one given.","ref":"Lightning.Jobs.html#get_upstream_jobs_for/1"},{"type":"function","title":"Lightning.Jobs.jobs_for_project/1","doc":"","ref":"Lightning.Jobs.html#jobs_for_project/1"},{"type":"function","title":"Lightning.Jobs.jobs_for_project_query/1","doc":"","ref":"Lightning.Jobs.html#jobs_for_project_query/1"},{"type":"function","title":"Lightning.Jobs.list_active_cron_jobs/0","doc":"","ref":"Lightning.Jobs.html#list_active_cron_jobs/0"},{"type":"function","title":"Lightning.Jobs.list_jobs/0","doc":"Returns the list of jobs.","ref":"Lightning.Jobs.html#list_jobs/0"},{"type":"function","title":"Lightning.Jobs.list_jobs_for_workflow/1","doc":"","ref":"Lightning.Jobs.html#list_jobs_for_workflow/1"},{"type":"function","title":"Lightning.Jobs.update_job/2","doc":"Updates a job.","ref":"Lightning.Jobs.html#update_job/2"},{"type":"function","title":"Examples - Lightning.Jobs.update_job/2","doc":"iex> update_job(job, %{field: new_value})\n    {:ok, %Job{}}\n\n    iex> update_job(job, %{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Jobs.html#update_job/2-examples"},{"type":"module","title":"Lightning.Projects","doc":"The Projects context.","ref":"Lightning.Projects.html"},{"type":"function","title":"Lightning.Projects.add_project_users/3","doc":"","ref":"Lightning.Projects.html#add_project_users/3"},{"type":"function","title":"Lightning.Projects.append_project_head/2","doc":"Appends a new 12-hex head hash to `project.version_history` (append-only).\n\nThis is a lenient wrapper that validates using\n`Lightning.Validators.Hex.valid?(hash)` and returns tagged tuples.\nFor atomic locking and errors by exception, use `append_project_head!/2`.","ref":"Lightning.Projects.html#append_project_head/2"},{"type":"function","title":"Validation - Lightning.Projects.append_project_head/2","doc":"* `hash` must be **12 lowercase hex characters** (`0-9`, `a-f`).\n* No duplicates: if the hash already exists in the array, this is a no-op.","ref":"Lightning.Projects.html#append_project_head/2-validation"},{"type":"function","title":"Concurrency - Lightning.Projects.append_project_head/2","doc":"The underlying `!/2` variant locks the row (`FOR UPDATE`) to avoid lost updates.","ref":"Lightning.Projects.html#append_project_head/2-concurrency"},{"type":"function","title":"Lightning.Projects.append_project_head!/2","doc":"Like `append_project_head/2`, but raises on invalid input and performs the\nappend within a transaction that locks the project row.","ref":"Lightning.Projects.html#append_project_head!/2"},{"type":"function","title":"Behavior - Lightning.Projects.append_project_head!/2","doc":"* Raises `ArgumentError` if `hash` is not **12 lowercase hex**.\n* Uses `SELECT  FOR UPDATE` to read the current array, appends if missing,\n  and writes back in the same transaction.\n* Idempotent: if the hash is already present, returns the unchanged project.","ref":"Lightning.Projects.html#append_project_head!/2-behavior"},{"type":"function","title":"Lightning.Projects.cancel_scheduled_deletion/1","doc":"","ref":"Lightning.Projects.html#cancel_scheduled_deletion/1"},{"type":"function","title":"Lightning.Projects.change_project/2","doc":"Returns an `%Ecto.Changeset{}` for tracking project changes.","ref":"Lightning.Projects.html#change_project/2"},{"type":"function","title":"Examples - Lightning.Projects.change_project/2","doc":"iex> change_project(project)\n    %Ecto.Changeset{data: %Project{}}","ref":"Lightning.Projects.html#change_project/2-examples"},{"type":"function","title":"Lightning.Projects.compute_project_head_hash/1","doc":"Computes a deterministic 12-hex project head hash from the *latest* version\nhash per workflow.\n\nThe algorithm:\n1. For each workflow in the project, select the most recent row in `workflow_versions`\n   by `(inserted_at DESC, id DESC)`.\n2. Build pairs `[[workflow_id_as_string, hash], ...]`.\n3. JSON-encode the pairs and take `sha256` of the bytes.\n4. Return the first 12 lowercase hex chars.","ref":"Lightning.Projects.html#compute_project_head_hash/1"},{"type":"function","title":"Guarantees - Lightning.Projects.compute_project_head_hash/1","doc":"* **Deterministic** for a given set of latest heads.\n* If a project has no workflow versions, returns the digest of `[]`, i.e. a stable\n  12-hex string representing empty.","ref":"Lightning.Projects.html#compute_project_head_hash/1-guarantees"},{"type":"function","title":"Use cases - Lightning.Projects.compute_project_head_hash/1","doc":"* Change detection across environments.\n* Cache keys and optimistic comparisons (e.g. is this workspace up-to-date?).","ref":"Lightning.Projects.html#compute_project_head_hash/1-use-cases"},{"type":"function","title":"Lightning.Projects.create_project/2","doc":"Creates a project.","ref":"Lightning.Projects.html#create_project/2"},{"type":"function","title":"Examples - Lightning.Projects.create_project/2","doc":"iex> create_project(%{field: value})\n    {:ok, %Project{}}\n\n    iex> create_project(%{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Projects.html#create_project/2-examples"},{"type":"function","title":"Lightning.Projects.create_sandbox/3","doc":"Creates a sandbox under the given `parent` by delegating to `create_project/2`.\n\nThis is a convenience wrapper that sets `:parent_id` and preserves the\nexisting behavior around collaborator emails (off by default unless `schedule_email?` is `true`).","ref":"Lightning.Projects.html#create_sandbox/3"},{"type":"function","title":"Notes - Lightning.Projects.create_sandbox/3","doc":"* Child names are scoped-unique by `(parent_id, name)`. Root names may repeat,\n  but two siblings cannot share a name (enforced by the `projects_unique_child_name` index).\n* This function does **not** clone workflows, credentials, or dataclips. It only creates\n  a new project row with `parent_id` set. See sandbox provisioning flow for full cloning.","ref":"Lightning.Projects.html#create_sandbox/3-notes"},{"type":"function","title":"Returns - Lightning.Projects.create_sandbox/3","doc":"* `{:ok, %Project{}}` on success\n* `{:error, %Ecto.Changeset{}}` on validation/unique errors","ref":"Lightning.Projects.html#create_sandbox/3-returns"},{"type":"function","title":"Lightning.Projects.delete_project/1","doc":"Deletes a project and its related data, including workflows, work orders,\nsteps, jobs, runs, triggers, project users, project credentials, and dataclips","ref":"Lightning.Projects.html#delete_project/1"},{"type":"function","title":"Examples - Lightning.Projects.delete_project/1","doc":"iex> delete_project(project)\n    {:ok, %Project{}}\n\n    iex> delete_project(project)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Projects.html#delete_project/1-examples"},{"type":"function","title":"Lightning.Projects.delete_project_async/1","doc":"","ref":"Lightning.Projects.html#delete_project_async/1"},{"type":"function","title":"Lightning.Projects.delete_project_dataclips/2","doc":"Deletes project dataclips in batches","ref":"Lightning.Projects.html#delete_project_dataclips/2"},{"type":"function","title":"Lightning.Projects.delete_project_user!/1","doc":"Deletes a project user and removes their credentials from the project.\n\nThis function:\n1. Deletes the association between the user and the project\n2. Removes any credentials owned by the user from the project\n\nAll operations are performed within a transaction for data consistency.","ref":"Lightning.Projects.html#delete_project_user!/1"},{"type":"function","title":"Parameters - Lightning.Projects.delete_project_user!/1","doc":"- `project_user`: The `ProjectUser` struct to be deleted","ref":"Lightning.Projects.html#delete_project_user!/1-parameters"},{"type":"function","title":"Returns - Lightning.Projects.delete_project_user!/1","doc":"- The deleted `ProjectUser` struct","ref":"Lightning.Projects.html#delete_project_user!/1-returns"},{"type":"function","title":"Lightning.Projects.delete_project_workorders/2","doc":"Deletes project work orders in batches","ref":"Lightning.Projects.html#delete_project_workorders/2"},{"type":"function","title":"Lightning.Projects.delete_sandbox/2","doc":"Deletes a sandbox and all its descendant projects.\n\n**Warning**: Permanently removes the sandbox and any nested sandboxes.","ref":"Lightning.Projects.html#delete_sandbox/2"},{"type":"function","title":"Parameters - Lightning.Projects.delete_sandbox/2","doc":"* `sandbox` - Sandbox to delete (project struct or ID string)\n* `actor` - User performing deletion (needs `:owner` or `:admin` role on sandbox)","ref":"Lightning.Projects.html#delete_sandbox/2-parameters"},{"type":"function","title":"Returns - Lightning.Projects.delete_sandbox/2","doc":"* `{:ok, deleted_sandbox}` - Successfully deleted\n* `{:error, :unauthorized}` - Actor lacks permission\n* `{:error, :not_found}` - Sandbox not found","ref":"Lightning.Projects.html#delete_sandbox/2-returns"},{"type":"function","title":"Lightning.Projects.descendant_of?/3","doc":"Returns true if `child_project` is a descendant of `parent_project`.\n\nWalks up the parent chain using preloaded `:parent` associations to determine\nif `child_project` has `parent_project` anywhere in its ancestry.","ref":"Lightning.Projects.html#descendant_of?/3"},{"type":"function","title":"Parameters - Lightning.Projects.descendant_of?/3","doc":"- `child_project`: The project to check (must have `:parent` preloaded)\n- `parent_project`: The potential parent/ancestor project\n- `root_project`: Optional root project to use as stopping condition","ref":"Lightning.Projects.html#descendant_of?/3-parameters"},{"type":"function","title":"Examples - Lightning.Projects.descendant_of?/3","doc":"iex> Projects.descendant_of?(sandbox, parent_project)\n    true\n\n    iex> Projects.descendant_of?(sibling, parent_project)\n    false","ref":"Lightning.Projects.html#descendant_of?/3-examples"},{"type":"function","title":"Lightning.Projects.export_project/3","doc":"Exports a project as yaml.","ref":"Lightning.Projects.html#export_project/3"},{"type":"function","title":"Examples - Lightning.Projects.export_project/3","doc":"iex> export_project(:yaml, project_id)\n    {:ok, string}","ref":"Lightning.Projects.html#export_project/3-examples"},{"type":"function","title":"Lightning.Projects.find_users_to_notify_of_trigger_failure/1","doc":"","ref":"Lightning.Projects.html#find_users_to_notify_of_trigger_failure/1"},{"type":"function","title":"Lightning.Projects.get_project/1","doc":"Fetches a project by id (root **or** sandbox) and preloads its direct `:parent`.\n\nReturns `nil` if no project with the given id exists.","ref":"Lightning.Projects.html#get_project/1"},{"type":"function","title":"Lightning.Projects.get_project!/1","doc":"Fetches a project by id (root **or** sandbox) and preloads its direct `:parent`.\n\nRaises `Ecto.NoResultsError` if no project with the given id exists.","ref":"Lightning.Projects.html#get_project!/1"},{"type":"function","title":"Lightning.Projects.get_project_credential/2","doc":"","ref":"Lightning.Projects.html#get_project_credential/2"},{"type":"function","title":"Lightning.Projects.get_project_for_run/1","doc":"Gets the project associated with a run.\nTraverses Run  WorkOrder  Workflow  Project.\n\nReturns nil if the run is not associated with a project.","ref":"Lightning.Projects.html#get_project_for_run/1"},{"type":"function","title":"Examples - Lightning.Projects.get_project_for_run/1","doc":"iex> get_project_for_run(run)\n    %Project{id: \"...\", env: \"production\", ...}\n\n    iex> get_project_for_run(orphaned_run)\n    nil","ref":"Lightning.Projects.html#get_project_for_run/1-examples"},{"type":"function","title":"Lightning.Projects.get_project_user/1","doc":"","ref":"Lightning.Projects.html#get_project_user/1"},{"type":"function","title":"Lightning.Projects.get_project_user/2","doc":"","ref":"Lightning.Projects.html#get_project_user/2"},{"type":"function","title":"Lightning.Projects.get_project_user!/1","doc":"Gets a single project_user.\n\nRaises `Ecto.NoResultsError` if the ProjectUser does not exist.","ref":"Lightning.Projects.html#get_project_user!/1"},{"type":"function","title":"Examples - Lightning.Projects.get_project_user!/1","doc":"iex> get_project_user!(123)\n    %ProjectUser{}\n\n    iex> get_project_user!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Projects.html#get_project_user!/1-examples"},{"type":"function","title":"Lightning.Projects.get_project_user_role/2","doc":"Returns the role of a user in a project.\nPossible roles are :admin, :viewer, :editor, and :owner","ref":"Lightning.Projects.html#get_project_user_role/2"},{"type":"function","title":"Examples - Lightning.Projects.get_project_user_role/2","doc":"iex> get_project_user_role(user, project)\n    :admin\n\n    iex> get_project_user_role(user, project)\n    :viewer\n\n    iex> get_project_user_role(user, project)\n    :editor\n\n    iex> get_project_user_role(user, project)\n    :owner","ref":"Lightning.Projects.html#get_project_user_role/2-examples"},{"type":"function","title":"Lightning.Projects.get_project_users!/1","doc":"Get all project users for a given project","ref":"Lightning.Projects.html#get_project_users!/1"},{"type":"function","title":"Lightning.Projects.get_project_with_users!/1","doc":"Gets a single project with it's members via `project_users`.\n\nRaises `Ecto.NoResultsError` if the Project does not exist.","ref":"Lightning.Projects.html#get_project_with_users!/1"},{"type":"function","title":"Examples - Lightning.Projects.get_project_with_users!/1","doc":"iex> get_project!(123)\n    %Project{}\n\n    iex> get_project!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.Projects.html#get_project_with_users!/1-examples"},{"type":"function","title":"Lightning.Projects.get_projects_for_user/1","doc":"Fetches projects for a given user from the database.","ref":"Lightning.Projects.html#get_projects_for_user/1"},{"type":"function","title":"Parameters - Lightning.Projects.get_projects_for_user/1","doc":"- user: The user struct for which projects are being queried.\n- opts: Keyword list of options including :include for associations to preload and :order_by for sorting.","ref":"Lightning.Projects.html#get_projects_for_user/1-parameters"},{"type":"function","title":"Returns - Lightning.Projects.get_projects_for_user/1","doc":"- A list of projects associated with the user.","ref":"Lightning.Projects.html#get_projects_for_user/1-returns"},{"type":"function","title":"Lightning.Projects.get_projects_overview/2","doc":"","ref":"Lightning.Projects.html#get_projects_overview/2"},{"type":"function","title":"Lightning.Projects.invite_collaborators/3","doc":"","ref":"Lightning.Projects.html#invite_collaborators/3"},{"type":"function","title":"Lightning.Projects.list_project_admin_emails/1","doc":"Lists emails of users with `:owner` or `:admin` roles in the project","ref":"Lightning.Projects.html#list_project_admin_emails/1"},{"type":"function","title":"Lightning.Projects.list_project_credentials/1","doc":"","ref":"Lightning.Projects.html#list_project_credentials/1"},{"type":"function","title":"Lightning.Projects.list_project_files/2","doc":"","ref":"Lightning.Projects.html#list_project_files/2"},{"type":"function","title":"Lightning.Projects.list_projects/0","doc":"Returns the list of projects.","ref":"Lightning.Projects.html#list_projects/0"},{"type":"function","title":"Examples - Lightning.Projects.list_projects/0","doc":"iex> list_projects()\n    [%Project{}, ...]","ref":"Lightning.Projects.html#list_projects/0-examples"},{"type":"function","title":"Lightning.Projects.list_projects_having_history_retention/0","doc":"Lists all projects that have history retention","ref":"Lightning.Projects.html#list_projects_having_history_retention/0"},{"type":"function","title":"Lightning.Projects.list_sandboxes/1","doc":"Returns the *direct* sandboxes (children) of a parent project, ordered by `name` (ASC).\n\nThis is a flat view: only rows where `parent.id == child.parent_id` are returned.\nIf we later support arbitrarily deep nesting, switch this to a recursive CTE.","ref":"Lightning.Projects.html#list_sandboxes/1"},{"type":"function","title":"Lightning.Projects.list_workflows/1","doc":"","ref":"Lightning.Projects.html#list_workflows/1"},{"type":"function","title":"Lightning.Projects.list_workspace_projects/2","doc":"Returns all projects in a workspace hierarchy.\n\nReturns a map with the root project and all its descendant sandboxes at any depth level.\nUses a recursive CTE to traverse the entire project tree from root to leaves.\nDescendants are sorted as a flat list according to the specified options.","ref":"Lightning.Projects.html#list_workspace_projects/2"},{"type":"function","title":"Options - Lightning.Projects.list_workspace_projects/2","doc":"- `sort_by`: Field to sort by (`:name`, `:inserted_at`, `:updated_at`). Defaults to `:name`.\n- `sort_order`: Sort direction (`:asc` or `:desc`). Defaults to `:asc`.","ref":"Lightning.Projects.html#list_workspace_projects/2-options"},{"type":"function","title":"Examples - Lightning.Projects.list_workspace_projects/2","doc":"# Default sorting (name ascending)\n    Projects.list_workspace_projects(project_id)\n\n    # Sort by name descending\n    Projects.list_workspace_projects(project_id, sort_by: :name, sort_order: :desc)\n\n    # Sort by creation date\n    Projects.list_workspace_projects(project_id, sort_by: :inserted_at, sort_order: :desc)","ref":"Lightning.Projects.html#list_workspace_projects/2-examples"},{"type":"function","title":"Lightning.Projects.member_of?/2","doc":"","ref":"Lightning.Projects.html#member_of?/2"},{"type":"function","title":"Lightning.Projects.perform/1","doc":"Perform, when called with %{\"type\" => \"purge_deleted\"}\nwill find projects that are ready for permanent deletion and purge them.","ref":"Lightning.Projects.html#perform/1"},{"type":"function","title":"Lightning.Projects.project_credentials_query/1","doc":"","ref":"Lightning.Projects.html#project_credentials_query/1"},{"type":"function","title":"Lightning.Projects.project_dataclips_query/1","doc":"","ref":"Lightning.Projects.html#project_dataclips_query/1"},{"type":"function","title":"Lightning.Projects.project_jobs_query/1","doc":"","ref":"Lightning.Projects.html#project_jobs_query/1"},{"type":"function","title":"Lightning.Projects.project_run_step_query/1","doc":"","ref":"Lightning.Projects.html#project_run_step_query/1"},{"type":"function","title":"Lightning.Projects.project_runs_query/1","doc":"","ref":"Lightning.Projects.html#project_runs_query/1"},{"type":"function","title":"Lightning.Projects.project_steps_query/1","doc":"","ref":"Lightning.Projects.html#project_steps_query/1"},{"type":"function","title":"Lightning.Projects.project_triggers_query/1","doc":"","ref":"Lightning.Projects.html#project_triggers_query/1"},{"type":"function","title":"Lightning.Projects.project_users_query/1","doc":"","ref":"Lightning.Projects.html#project_users_query/1"},{"type":"function","title":"Lightning.Projects.project_workflows_query/1","doc":"","ref":"Lightning.Projects.html#project_workflows_query/1"},{"type":"function","title":"Lightning.Projects.project_workorders_query/1","doc":"","ref":"Lightning.Projects.html#project_workorders_query/1"},{"type":"function","title":"Lightning.Projects.projects_for_user_query/1","doc":"Builds a query to retrieve projects associated with a user.","ref":"Lightning.Projects.html#projects_for_user_query/1"},{"type":"function","title":"Parameters - Lightning.Projects.projects_for_user_query/1","doc":"- user: The user struct for which projects are being queried.\n  - opts: Keyword list of options including :include for associations to preload and :order_by for sorting.","ref":"Lightning.Projects.html#projects_for_user_query/1-parameters"},{"type":"function","title":"Returns - Lightning.Projects.projects_for_user_query/1","doc":"- An Ecto queryable struct to fetch projects.","ref":"Lightning.Projects.html#projects_for_user_query/1-returns"},{"type":"function","title":"Lightning.Projects.provision_sandbox/3","doc":"Creates a new sandbox project by cloning from a parent project.","ref":"Lightning.Projects.html#provision_sandbox/3"},{"type":"function","title":"Parameters - Lightning.Projects.provision_sandbox/3","doc":"* `parent` - Project to clone from\n* `actor` - User creating the sandbox (needs `:owner` or `:admin` role on parent)\n* `attrs` - Creation attributes (name, color, env, collaborators, dataclip_ids)","ref":"Lightning.Projects.html#provision_sandbox/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.provision_sandbox/3","doc":"* `{:ok, sandbox_project}` - Successfully created sandbox\n* `{:error, :unauthorized}` - Actor lacks permission on parent\n* `{:error, changeset}` - Validation or database error\n\nSee `Lightning.Projects.Sandboxes.provision/3` for detailed behavior.","ref":"Lightning.Projects.html#provision_sandbox/3-returns"},{"type":"function","title":"Lightning.Projects.root_of/1","doc":"Returns the **root ancestor** of a project by walking up `parent_id` links.\n\nSupports arbitrarily deep nesting. (Assumes the parent chain is well-formed.)","ref":"Lightning.Projects.html#root_of/1"},{"type":"function","title":"Lightning.Projects.sandbox_name_exists?/3","doc":"Checks if a sandbox with the given name exists under the parent project.\n\nReturns `true` if a sandbox exists, `false` otherwise.\nOptionally excludes a specific sandbox by ID (useful for edit operations).","ref":"Lightning.Projects.html#sandbox_name_exists?/3"},{"type":"function","title":"Lightning.Projects.save_dataclips?/1","doc":"Should input or output dataclips be saved for runs in this project?","ref":"Lightning.Projects.html#save_dataclips?/1"},{"type":"function","title":"Lightning.Projects.schedule_project_deletion/1","doc":"Given a project, this function sets a scheduled deletion\ndate based on the PURGE_DELETED_AFTER_DAYS environment variable. If no ENV is\nset, this date defaults to NOW but the automatic project purge cronjob will\nnever run. (Note that subsequent logins will be blocked for projects pending\ndeletion.)","ref":"Lightning.Projects.html#schedule_project_deletion/1"},{"type":"function","title":"Lightning.Projects.scheduled_project_deletion_changes/2","doc":"","ref":"Lightning.Projects.html#scheduled_project_deletion_changes/2"},{"type":"function","title":"Lightning.Projects.select_first_project_for_user/1","doc":"","ref":"Lightning.Projects.html#select_first_project_for_user/1"},{"type":"function","title":"Lightning.Projects.subscribe/0","doc":"See  Lightning.Projects.Events.subscribe/0 .","ref":"Lightning.Projects.html#subscribe/0"},{"type":"function","title":"Lightning.Projects.update_project/3","doc":"Updates a project.","ref":"Lightning.Projects.html#update_project/3"},{"type":"function","title":"Examples - Lightning.Projects.update_project/3","doc":"iex> update_project(project, %{field: new_value})\n    {:ok, %Project{}}\n\n    iex> update_project(project, %{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Projects.html#update_project/3-examples"},{"type":"function","title":"Lightning.Projects.update_project_user/2","doc":"Updates a project user.","ref":"Lightning.Projects.html#update_project_user/2"},{"type":"function","title":"Examples - Lightning.Projects.update_project_user/2","doc":"iex> update_project_user(project_user, %{field: new_value})\n    {:ok, %ProjectUser{}}\n\n    iex> update_project_user(projectUser, %{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Projects.html#update_project_user/2-examples"},{"type":"function","title":"Lightning.Projects.update_project_with_users/3","doc":"","ref":"Lightning.Projects.html#update_project_with_users/3"},{"type":"function","title":"Lightning.Projects.update_sandbox/3","doc":"Updates a sandbox project's basic attributes (name, color, env).","ref":"Lightning.Projects.html#update_sandbox/3"},{"type":"function","title":"Parameters - Lightning.Projects.update_sandbox/3","doc":"* `sandbox` - Sandbox to update (project struct or ID string)\n* `actor` - User performing update (needs `:owner` or `:admin` role on sandbox)\n* `attrs` - Map with name, color, and/or env keys","ref":"Lightning.Projects.html#update_sandbox/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.update_sandbox/3","doc":"* `{:ok, updated_sandbox}` - Successfully updated\n* `{:error, :unauthorized}` - Actor lacks permission\n* `{:error, :not_found}` - Sandbox not found\n* `{:error, changeset}` - Validation error","ref":"Lightning.Projects.html#update_sandbox/3-returns"},{"type":"function","title":"Lightning.Projects.validate_for_deletion/2","doc":"Returns an `%Ecto.Changeset{}` for changing the project scheduled_deletion.","ref":"Lightning.Projects.html#validate_for_deletion/2"},{"type":"function","title":"Examples - Lightning.Projects.validate_for_deletion/2","doc":"iex> validate_for_deletion(project)\n    %Ecto.Changeset{data: %Project{}}","ref":"Lightning.Projects.html#validate_for_deletion/2-examples"},{"type":"module","title":"Lightning.Projects.Audit","doc":"Generate Audit changesets for selected changes to project settings.","ref":"Lightning.Projects.Audit.html"},{"type":"function","title":"Lightning.Projects.Audit.base_query/0","doc":"","ref":"Lightning.Projects.Audit.html#base_query/0"},{"type":"function","title":"Lightning.Projects.Audit.derive_events/3","doc":"","ref":"Lightning.Projects.Audit.html#derive_events/3"},{"type":"function","title":"Lightning.Projects.Audit.event/5","doc":"","ref":"Lightning.Projects.Audit.html#event/5"},{"type":"function","title":"Lightning.Projects.Audit.save/1","doc":"","ref":"Lightning.Projects.Audit.html#save/1"},{"type":"function","title":"Lightning.Projects.Audit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.Projects.Audit.html#update_changes/1"},{"type":"module","title":"Lightning.Projects.Events","doc":"Events for Projects changes.","ref":"Lightning.Projects.Events.html"},{"type":"function","title":"Lightning.Projects.Events.project_created/1","doc":"","ref":"Lightning.Projects.Events.html#project_created/1"},{"type":"function","title":"Lightning.Projects.Events.project_deleted/1","doc":"","ref":"Lightning.Projects.Events.html#project_deleted/1"},{"type":"function","title":"Lightning.Projects.Events.subscribe/0","doc":"","ref":"Lightning.Projects.Events.html#subscribe/0"},{"type":"module","title":"Lightning.Projects.File","doc":"The project files module","ref":"Lightning.Projects.File.html"},{"type":"type","title":"Lightning.Projects.File.t/0","doc":"","ref":"Lightning.Projects.File.html#t:t/0"},{"type":"function","title":"Lightning.Projects.File.mark_failed/1","doc":"","ref":"Lightning.Projects.File.html#mark_failed/1"},{"type":"function","title":"Lightning.Projects.File.new/1","doc":"Creates a new file changeset.\n\nUnlike regular changeset functions, this expects atom keys and the project\nand user to be passed in as models.","ref":"Lightning.Projects.File.html#new/1"},{"type":"module","title":"Lightning.Projects.MergeProjects","doc":"Responsible for merging 2 different projects. Used by sandboxes to merge\nsandbox workflows back onto their parent workflows.","ref":"Lightning.Projects.MergeProjects.html"},{"type":"function","title":"Lightning.Projects.MergeProjects.has_diverged?/2","doc":"Checks if the target project has diverged from the source sandbox.\n\nDivergence occurs when any workflow in the target project has a different\nversion hash compared to when the source sandbox was created. This indicates\nthat changes have been made to the target that the sandbox doesn't know about,\nwhich could lead to data loss during merge.","ref":"Lightning.Projects.MergeProjects.html#has_diverged?/2"},{"type":"function","title":"Parameters - Lightning.Projects.MergeProjects.has_diverged?/2","doc":"* `source_project` - The sandbox project with workflows\n  * `target_project` - The target project to check with workflows","ref":"Lightning.Projects.MergeProjects.html#has_diverged?/2-parameters"},{"type":"function","title":"Returns - Lightning.Projects.MergeProjects.has_diverged?/2","doc":"* `true` if the target has diverged (workflow versions differ)\n  * `false` if no divergence detected","ref":"Lightning.Projects.MergeProjects.html#has_diverged?/2-returns"},{"type":"function","title":"Lightning.Projects.MergeProjects.merge_project/3","doc":"Merges a source project onto a target project using workflow name matching.\n\nMaps workflows from source to target project based on exact name matching.\nUses the existing merge_workflow/2 logic for individual workflow merging.\nWorkflows that don't match are marked for deletion (target) or creation (source).","ref":"Lightning.Projects.MergeProjects.html#merge_project/3"},{"type":"function","title":"Parameters - Lightning.Projects.MergeProjects.merge_project/3","doc":"* `source_project` - The project with modifications to merge\n  * `target_project` - The target project to merge changes onto","ref":"Lightning.Projects.MergeProjects.html#merge_project/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.MergeProjects.merge_project/3","doc":"A map with the merged project structure ready for import, containing\n  workflow mappings and project data.","ref":"Lightning.Projects.MergeProjects.html#merge_project/3-returns"},{"type":"function","title":"Lightning.Projects.MergeProjects.merge_workflow/3","doc":"Merges a sandbox workflow back onto its parent workflow using UUID mapping.\n\nMaps nodes and edges from source to target workflow, preserving UUIDs where\npossible when merging two workflows (likely one is a fork of the other).\n\nThe algorithm follows these phases:\n1. Direct ID Matching - matches nodes with identical IDs\n2. Root Node Mapping - always maps root nodes\n3. Structural and Expression Matching - iterative matching using parents, children, and expression\n4. Edge Mapping - maps edges based on node mappings","ref":"Lightning.Projects.MergeProjects.html#merge_workflow/3"},{"type":"function","title":"Parameters - Lightning.Projects.MergeProjects.merge_workflow/3","doc":"* `source_workflow` - The sandbox workflow with modifications (i.e staging)\n  * `target_workflow` - The parent workflow to merge changes onto (i.e main)","ref":"Lightning.Projects.MergeProjects.html#merge_workflow/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.MergeProjects.merge_workflow/3","doc":"A map with the merged workflow structure ready for import, containing\n  UUID mappings and workflow data.","ref":"Lightning.Projects.MergeProjects.html#merge_workflow/3-returns"},{"type":"module","title":"Lightning.Projects.Project","doc":"Project model","ref":"Lightning.Projects.Project.html"},{"type":"type","title":"Lightning.Projects.Project.retention_policy_type/0","doc":"","ref":"Lightning.Projects.Project.html#t:retention_policy_type/0"},{"type":"type","title":"Lightning.Projects.Project.t/0","doc":"","ref":"Lightning.Projects.Project.html#t:t/0"},{"type":"function","title":"Lightning.Projects.Project.data_retention_options/0","doc":"","ref":"Lightning.Projects.Project.html#data_retention_options/0"},{"type":"function","title":"Lightning.Projects.Project.deletion_changeset/2","doc":"Changeset to validate a project deletion request, the user must enter the\nprojects name to confirm.","ref":"Lightning.Projects.Project.html#deletion_changeset/2"},{"type":"function","title":"Lightning.Projects.Project.project_with_users_changeset/2","doc":"","ref":"Lightning.Projects.Project.html#project_with_users_changeset/2"},{"type":"function","title":"Lightning.Projects.Project.sandbox?/1","doc":"Returns `true` if the project is a sandbox (i.e. `parent_id` is a UUID),\n`false` otherwise.","ref":"Lightning.Projects.Project.html#sandbox?/1"},{"type":"function","title":"Lightning.Projects.Project.validate/1","doc":"","ref":"Lightning.Projects.Project.html#validate/1"},{"type":"module","title":"Lightning.Projects.ProjectCredential","doc":"Join table to assign credentials to a project","ref":"Lightning.Projects.ProjectCredential.html"},{"type":"type","title":"Lightning.Projects.ProjectCredential.t/0","doc":"","ref":"Lightning.Projects.ProjectCredential.html#t:t/0"},{"type":"module","title":"Lightning.Projects.ProjectOauthClient","doc":"Manages the relationship between OAuth clients and projects, acting as a join table.\nThis module defines the schema and validations needed for creating and managing\nassociations between `OauthClient` and `Project`. It ensures that an OAuth client\ncan be associated with a project, facilitating the management of access permissions\nand settings specific to a project.","ref":"Lightning.Projects.ProjectOauthClient.html"},{"type":"module","title":"Schema Information - Lightning.Projects.ProjectOauthClient","doc":"The schema represents the bridge between projects and OAuth clients with the following fields:\n\n- `:id`: The unique identifier for the association, automatically generated.\n- `:oauth_client_id`: Foreign key to link with the OAuth client.\n- `:project_id`: Foreign key to link with the project.\n\nThis module also includes a virtual field `:delete` to mark an association for deletion,\naiding in operations that require soft deletion patterns or special handling before\nactually removing an association.","ref":"Lightning.Projects.ProjectOauthClient.html#module-schema-information"},{"type":"module","title":"Usage - Lightning.Projects.ProjectOauthClient","doc":"The primary function of this module is to create and manage changesets for adding or\nremoving OAuth clients from projects, ensuring data integrity and enforcing business\nrules such as uniqueness of the association.","ref":"Lightning.Projects.ProjectOauthClient.html#module-usage"},{"type":"type","title":"Lightning.Projects.ProjectOauthClient.t/0","doc":"","ref":"Lightning.Projects.ProjectOauthClient.html#t:t/0"},{"type":"function","title":"Lightning.Projects.ProjectOauthClient.changeset/2","doc":"Creates or updates changesets for a `ProjectOauthClient` entity based on the given attributes.\nValidates required fields and applies a unique constraint to ensure an OAuth client\ncan be associated with a project only once.\n\nThis changeset is used for adding new or updating existing associations between an OAuth client and a project.","ref":"Lightning.Projects.ProjectOauthClient.html#changeset/2"},{"type":"module","title":"Lightning.Projects.ProjectOverviewRow","doc":"Represents a summarized view of a project for a user, used in the project overview table.","ref":"Lightning.Projects.ProjectOverviewRow.html"},{"type":"module","title":"Lightning.Projects.ProjectUser","doc":"Join table to assign users to a project","ref":"Lightning.Projects.ProjectUser.html"},{"type":"type","title":"Lightning.Projects.ProjectUser.t/0","doc":"","ref":"Lightning.Projects.ProjectUser.html#t:t/0"},{"type":"module","title":"Lightning.Projects.ProjectUser.DigestEnum","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html"},{"type":"type","title":"Lightning.Projects.ProjectUser.DigestEnum.t/0","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#t:t/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.cast/1","doc":"Callback implementation for  Ecto.Type.cast/1 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#cast/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.create_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#create_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.drop_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#drop_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.dump/1","doc":"Callback implementation for  Ecto.Type.dump/1 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#dump/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.embed_as/1","doc":"Callback implementation for  Ecto.Type.embed_as/1 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#embed_as/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.equal?/2","doc":"Callback implementation for  Ecto.Type.equal?/2 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#equal?/2"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.load/1","doc":"Callback implementation for  Ecto.Type.load/1 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#load/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.schema/0","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#schema/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.schemaless_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#schemaless_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.type/0","doc":"Callback implementation for  Ecto.Type.type/0 .","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.DigestEnum.valid_value?/1","doc":"","ref":"Lightning.Projects.ProjectUser.DigestEnum.html#valid_value?/1"},{"type":"module","title":"Lightning.Projects.ProjectUser.RolesEnum","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html"},{"type":"type","title":"Lightning.Projects.ProjectUser.RolesEnum.t/0","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#t:t/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.cast/1","doc":"Callback implementation for  Ecto.Type.cast/1 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#cast/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.create_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#create_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.drop_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#drop_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.dump/1","doc":"Callback implementation for  Ecto.Type.dump/1 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#dump/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.embed_as/1","doc":"Callback implementation for  Ecto.Type.embed_as/1 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#embed_as/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.equal?/2","doc":"Callback implementation for  Ecto.Type.equal?/2 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#equal?/2"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.load/1","doc":"Callback implementation for  Ecto.Type.load/1 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#load/1"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.schema/0","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#schema/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.schemaless_type/0","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#schemaless_type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.type/0","doc":"Callback implementation for  Ecto.Type.type/0 .","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#type/0"},{"type":"function","title":"Lightning.Projects.ProjectUser.RolesEnum.valid_value?/1","doc":"","ref":"Lightning.Projects.ProjectUser.RolesEnum.html#valid_value?/1"},{"type":"module","title":"Lightning.Projects.Provisioner","doc":"Provides functions for importing projects. This module is used by the\nprovisioning HTTP API.\n\nWhen providing a project to import, all records must have an `id` field.\nIt's up to the caller to ensure that the `id` is unique and generated\nahead of time in the case of new records.","ref":"Lightning.Projects.Provisioner.html"},{"type":"function","title":"Lightning.Projects.Provisioner.import_document/4","doc":"Import a project.","ref":"Lightning.Projects.Provisioner.html#import_document/4"},{"type":"function","title":"Options - Lightning.Projects.Provisioner.import_document/4","doc":"* `:allow_stale` - If true, allows stale operations during import (useful for\n    merge operations where concurrent modifications are expected). Defaults to false.","ref":"Lightning.Projects.Provisioner.html#import_document/4-options"},{"type":"function","title":"Lightning.Projects.Provisioner.parse_document/2","doc":"","ref":"Lightning.Projects.Provisioner.html#parse_document/2"},{"type":"function","title":"Lightning.Projects.Provisioner.preload_dependencies/2","doc":"Preload all dependencies for a project.\n\nExclude deleted workflows.","ref":"Lightning.Projects.Provisioner.html#preload_dependencies/2"},{"type":"function","title":"Lightning.Projects.Provisioner.validate_extraneous_params/1","doc":"Validate that there are no extraneous parameters in the changeset.\n\nFor all params in the changeset, ensure that the param is in the list of\nknown fields in the schema.","ref":"Lightning.Projects.Provisioner.html#validate_extraneous_params/1"},{"type":"module","title":"Lightning.Projects.Sandboxes","doc":"Manage **sandbox projects** - isolated copies of existing projects for safe experimentation.\n\nSandboxes allow developers to test changes, experiment with workflows, and collaborate\nwithout affecting production projects. They share credentials with their parent but\nmaintain separate workflow execution environments.","ref":"Lightning.Projects.Sandboxes.html"},{"type":"module","title":"What gets copied to a sandbox - Lightning.Projects.Sandboxes","doc":"* **Project settings**: retention policies, concurrency limits, MFA requirements\n* **Workflow structure**: jobs, triggers (disabled), edges, and node positions\n* **Credentials**: references to parent credentials (no secrets duplicated)\n* **Keychain metadata**: cloned for jobs that use them\n* **Version history**: latest workflow version per workflow\n* **Optional dataclips**: named clips of specific types can be selectively copied","ref":"Lightning.Projects.Sandboxes.html#module-what-gets-copied-to-a-sandbox"},{"type":"module","title":"Operations - Lightning.Projects.Sandboxes","doc":"* `provision/3` - Create a new sandbox from a parent project\n* `update_sandbox/3` - Update sandbox name, color, or environment\n* `delete_sandbox/2` - Delete a sandbox and all its descendants","ref":"Lightning.Projects.Sandboxes.html#module-operations"},{"type":"module","title":"Authorization - Lightning.Projects.Sandboxes","doc":"* **Provisioning**: Requires `:owner` or `:admin` role on the parent project or superuser\n* **Updates/Deletion**: Requires `:owner` or `:admin` role on the sandbox itself,\n                        or `:owner` or `:admin` on the root project, or superuser","ref":"Lightning.Projects.Sandboxes.html#module-authorization"},{"type":"module","title":"Transaction safety - Lightning.Projects.Sandboxes","doc":"All operations are performed within database transactions to ensure consistency.\nFailed operations leave no partial state behind.","ref":"Lightning.Projects.Sandboxes.html#module-transaction-safety"},{"type":"type","title":"Lightning.Projects.Sandboxes.provision_attrs/0","doc":"Attributes for creating a new sandbox via `provision/3`.","ref":"Lightning.Projects.Sandboxes.html#t:provision_attrs/0"},{"type":"type","title":"Required - Lightning.Projects.Sandboxes.provision_attrs/0","doc":"* `:name` - Sandbox name (must be unique within the parent project)","ref":"Lightning.Projects.Sandboxes.html#t:provision_attrs/0-required"},{"type":"type","title":"Optional - Lightning.Projects.Sandboxes.provision_attrs/0","doc":"* `:color` - UI color hex string (e.g. `\"#336699\"`)\n* `:env` - Environment identifier (e.g. `\"staging\"`, `\"dev\"`)\n* `:collaborators` - List of `%{user_id: UUID, role: :admin | :editor | :viewer}`\n  Note: `:owner` roles and duplicate users are automatically filtered out\n* `:dataclip_ids` - UUIDs of dataclips to copy (only copies named dataclips\n  of types `:global`, `:saved_input`, or `:http_request`)","ref":"Lightning.Projects.Sandboxes.html#t:provision_attrs/0-optional"},{"type":"function","title":"Lightning.Projects.Sandboxes.delete_sandbox/2","doc":"Deletes a sandbox and all its descendant projects.\n\n**Warning**: This permanently removes the sandbox and any nested sandboxes\nwithin it. This action cannot be undone.","ref":"Lightning.Projects.Sandboxes.html#delete_sandbox/2"},{"type":"function","title":"Parameters - Lightning.Projects.Sandboxes.delete_sandbox/2","doc":"* `sandbox` - Sandbox project to delete (or sandbox ID as string)\n* `actor` - User performing the deletion (needs `:owner` or `:admin` role on sandbox)","ref":"Lightning.Projects.Sandboxes.html#delete_sandbox/2-parameters"},{"type":"function","title":"Returns - Lightning.Projects.Sandboxes.delete_sandbox/2","doc":"* `{:ok, deleted_sandbox}` - Successfully deleted sandbox and descendants\n* `{:error, :unauthorized}` - Actor lacks permission on sandbox\n* `{:error, :not_found}` - Sandbox ID not found (when using string ID)\n* `{:error, reason}` - Database or other deletion error","ref":"Lightning.Projects.Sandboxes.html#delete_sandbox/2-returns"},{"type":"function","title":"Example - Lightning.Projects.Sandboxes.delete_sandbox/2","doc":"{:ok, deleted} = Sandboxes.delete_sandbox(sandbox, user)","ref":"Lightning.Projects.Sandboxes.html#delete_sandbox/2-example"},{"type":"function","title":"Lightning.Projects.Sandboxes.provision/3","doc":"Creates a new sandbox project by cloning from a parent project.\n\nThe creator becomes the sandbox owner, and all workflow triggers are disabled.\nCredentials are shared (not duplicated) between parent and sandbox.","ref":"Lightning.Projects.Sandboxes.html#provision/3"},{"type":"function","title":"Parameters - Lightning.Projects.Sandboxes.provision/3","doc":"* `parent` - Project to clone from\n* `actor` - User creating the sandbox (needs `:owner` or `:admin` role on parent)\n* `attrs` - Creation attributes (see `t:provision_attrs/0`)","ref":"Lightning.Projects.Sandboxes.html#provision/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.Sandboxes.provision/3","doc":"* `{:ok, sandbox_project}` - Successfully created sandbox\n* `{:error, :unauthorized}` - Actor lacks permission on parent\n* `{:error, changeset}` - Validation or database error","ref":"Lightning.Projects.Sandboxes.html#provision/3-returns"},{"type":"function","title":"Example - Lightning.Projects.Sandboxes.provision/3","doc":"{:ok, sandbox} = Sandboxes.provision(parent_project, user, %{\n      name: \"test-environment\",\n      color: \"#336699\",\n      collaborators: [%{user_id: other_user.id, role: :editor}]\n    })","ref":"Lightning.Projects.Sandboxes.html#provision/3-example"},{"type":"function","title":"Lightning.Projects.Sandboxes.update_sandbox/3","doc":"Updates a sandbox project's basic attributes.","ref":"Lightning.Projects.Sandboxes.html#update_sandbox/3"},{"type":"function","title":"Parameters - Lightning.Projects.Sandboxes.update_sandbox/3","doc":"* `sandbox` - Sandbox project to update (or sandbox ID as string)\n* `actor` - User performing the update (needs `:owner` or `:admin` role on sandbox)\n* `attrs` - Map with `:name`, `:color`, and/or `:env` keys","ref":"Lightning.Projects.Sandboxes.html#update_sandbox/3-parameters"},{"type":"function","title":"Returns - Lightning.Projects.Sandboxes.update_sandbox/3","doc":"* `{:ok, updated_sandbox}` - Successfully updated sandbox\n* `{:error, :unauthorized}` - Actor lacks permission on sandbox\n* `{:error, :not_found}` - Sandbox ID not found (when using string ID)\n* `{:error, changeset}` - Validation error","ref":"Lightning.Projects.Sandboxes.html#update_sandbox/3-returns"},{"type":"function","title":"Example - Lightning.Projects.Sandboxes.update_sandbox/3","doc":"{:ok, updated} = Sandboxes.update_sandbox(sandbox, user, %{\n    name: \"new-name\",\n    color: \"#ff6b35\"\n  })","ref":"Lightning.Projects.Sandboxes.html#update_sandbox/3-example"},{"type":"module","title":"Lightning.Runtime.LogAgent","doc":"Agent facility to consume STDOUT/STDERR byte by byte.\n\nSince it works on a byte by byte basis, you will need to perform line-splitting\nyourself.\n\nUsage:\n\n```\n{:ok, log} = LogAgent.start_link()\n\"foo\" = LogAgent.process_chunk(log, {:stdout, \"foo\"})\n\"foobar\" = LogAgent.process_chunk(log, {:stdout, \"bar\"})\n```","ref":"Lightning.Runtime.LogAgent.html"},{"type":"type","title":"Lightning.Runtime.LogAgent.logline/0","doc":"","ref":"Lightning.Runtime.LogAgent.html#t:logline/0"},{"type":"function","title":"Lightning.Runtime.LogAgent.buffer/1","doc":"","ref":"Lightning.Runtime.LogAgent.html#buffer/1"},{"type":"function","title":"Lightning.Runtime.LogAgent.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Runtime.LogAgent.html#child_spec/1"},{"type":"function","title":"Lightning.Runtime.LogAgent.process_chunk/2","doc":"","ref":"Lightning.Runtime.LogAgent.html#process_chunk/2"},{"type":"function","title":"Lightning.Runtime.LogAgent.start_link/1","doc":"","ref":"Lightning.Runtime.LogAgent.html#start_link/1"},{"type":"module","title":"Lightning.Runtime.LogAgent.StringBuffer","doc":"Internal datastructure to hold and process new bytes for a list of\ncharacters.\n\nBy checking the if the buffer is a complete grapheme, emitting the buffer\nonce valid and returning `nil` otherwise.\n\nIn the case of emojis and other language character sets, a character\n(in UTF-8) can be between 1-4 bytes - when streaming logs for example\nit's quite easy to receive less than the whole character which can\nresult in crashes or corrupt text.","ref":"Lightning.Runtime.LogAgent.StringBuffer.html"},{"type":"type","title":"Lightning.Runtime.LogAgent.StringBuffer.t/0","doc":"","ref":"Lightning.Runtime.LogAgent.StringBuffer.html#t:t/0"},{"type":"function","title":"Lightning.Runtime.LogAgent.StringBuffer.buffer/1","doc":"","ref":"Lightning.Runtime.LogAgent.StringBuffer.html#buffer/1"},{"type":"function","title":"Lightning.Runtime.LogAgent.StringBuffer.new/0","doc":"","ref":"Lightning.Runtime.LogAgent.StringBuffer.html#new/0"},{"type":"function","title":"Lightning.Runtime.LogAgent.StringBuffer.process_chunk/2","doc":"","ref":"Lightning.Runtime.LogAgent.StringBuffer.html#process_chunk/2"},{"type":"function","title":"Lightning.Runtime.LogAgent.StringBuffer.reduce_chunk/2","doc":"","ref":"Lightning.Runtime.LogAgent.StringBuffer.html#reduce_chunk/2"},{"type":"module","title":"Lightning.Runtime.RuntimeManager","doc":"Locates and runs the Runtime server. Added in order to ease development and default installations of Lightning\n\n# https://registry.npmjs.org/lightning-runtime/latest","ref":"Lightning.Runtime.RuntimeManager.html"},{"type":"module","title":"Runtime configuration - Lightning.Runtime.RuntimeManager","doc":"Sample:\n\n  config :lightining, Elixir.Lightning.Runtime.RuntimeManager,\n    version: \"0.1.0\",\n    start: true,\n    args: ~w(js/app.js --bundle --target=es2016 --outdir=../priv/static/assets),\n    cd: Path.expand(\"../assets\", __DIR__),\n    env: %{}\n\nOptions:\n\n  * `:version` - the expected runtime version\n\n  * `:start` - flag to start the runtime manager. If `false` the GenServer\n     won't be started\n\n  * `:path` - the path to find the runtime executable at. By\n    default, it is automatically downloaded and placed inside\n    the `_build` directory of your current app\n\nOverriding the `:path` is not recommended, as we will automatically\ndownload and manage the `runtime` for you.","ref":"Lightning.Runtime.RuntimeManager.html#module-runtime-configuration"},{"type":"function","title":"Lightning.Runtime.RuntimeManager.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Runtime.RuntimeManager.html#child_spec/1"},{"type":"function","title":"Lightning.Runtime.RuntimeManager.start_link/1","doc":"","ref":"Lightning.Runtime.RuntimeManager.html#start_link/1"},{"type":"behaviour","title":"Lightning.Runtime.RuntimeManager.RuntimeClient","doc":"Behaviour for runtime clients to improve testability.","ref":"Lightning.Runtime.RuntimeManager.RuntimeClient.html"},{"type":"callback","title":"Lightning.Runtime.RuntimeManager.RuntimeClient.start_runtime/1","doc":"","ref":"Lightning.Runtime.RuntimeManager.RuntimeClient.html#c:start_runtime/1"},{"type":"callback","title":"Lightning.Runtime.RuntimeManager.RuntimeClient.stop_runtime/1","doc":"","ref":"Lightning.Runtime.RuntimeManager.RuntimeClient.html#c:stop_runtime/1"},{"type":"module","title":"Lightning.WorkflowTemplates","doc":"The WorkflowTemplates context.","ref":"Lightning.WorkflowTemplates.html"},{"type":"function","title":"Lightning.WorkflowTemplates.change_template/2","doc":"Returns an `%Ecto.Changeset{}` for tracking template changes.","ref":"Lightning.WorkflowTemplates.html#change_template/2"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.change_template/2","doc":"iex> change_template(template)\n    %Ecto.Changeset{data: %WorkflowTemplate{}}","ref":"Lightning.WorkflowTemplates.html#change_template/2-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.create_template/1","doc":"Creates or updates a workflow template.\n\nIf a template already exists for the workflow, it will be updated.\nOtherwise, a new template will be created.","ref":"Lightning.WorkflowTemplates.html#create_template/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.create_template/1","doc":"iex> create_template(%{name: \"My Template\", code: \"workflow code\", workflow_id: \"123\"})\n    {:ok, %WorkflowTemplate{}}\n\n    iex> create_template(%{name: \"Invalid\"})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.WorkflowTemplates.html#create_template/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.delete_template/1","doc":"Deletes a workflow template.","ref":"Lightning.WorkflowTemplates.html#delete_template/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.delete_template/1","doc":"iex> delete_template(template)\n    {:ok, %WorkflowTemplate{}}\n\n    iex> delete_template(template)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.WorkflowTemplates.html#delete_template/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.get_template/1","doc":"Gets a single workflow template.\n\nReturns `nil` if the Workflow template does not exist.","ref":"Lightning.WorkflowTemplates.html#get_template/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.get_template/1","doc":"iex> get_template(123)\n    %WorkflowTemplate{}\n\n    iex> get_template(456)\n    nil","ref":"Lightning.WorkflowTemplates.html#get_template/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.get_template!/1","doc":"Gets a single workflow template.\n\nRaises `Ecto.NoResultsError` if the Workflow template does not exist.","ref":"Lightning.WorkflowTemplates.html#get_template!/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.get_template!/1","doc":"iex> get_template!(123)\n    %WorkflowTemplate{}\n\n    iex> get_template!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.WorkflowTemplates.html#get_template!/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.get_template_by_workflow_id/1","doc":"Gets a template by workflow ID.","ref":"Lightning.WorkflowTemplates.html#get_template_by_workflow_id/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.get_template_by_workflow_id/1","doc":"iex> get_template_by_workflow_id(\"123\")\n    %WorkflowTemplate{}\n\n    iex> get_template_by_workflow_id(\"456\")\n    nil","ref":"Lightning.WorkflowTemplates.html#get_template_by_workflow_id/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.list_templates/0","doc":"Lists all workflow templates.","ref":"Lightning.WorkflowTemplates.html#list_templates/0"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.list_templates/0","doc":"iex> list_templates()\n    [%WorkflowTemplate{}, ...]","ref":"Lightning.WorkflowTemplates.html#list_templates/0-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.list_workflow_templates/1","doc":"Lists workflow templates for a specific workflow.","ref":"Lightning.WorkflowTemplates.html#list_workflow_templates/1"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.list_workflow_templates/1","doc":"iex> list_workflow_templates(workflow)\n    [%WorkflowTemplate{}, ...]","ref":"Lightning.WorkflowTemplates.html#list_workflow_templates/1-examples"},{"type":"function","title":"Lightning.WorkflowTemplates.update_template/2","doc":"Updates a workflow template.","ref":"Lightning.WorkflowTemplates.html#update_template/2"},{"type":"function","title":"Examples - Lightning.WorkflowTemplates.update_template/2","doc":"iex> update_template(template, %{name: \"New Name\"})\n    {:ok, %WorkflowTemplate{}}\n\n    iex> update_template(template, %{name: \"\"})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.WorkflowTemplates.html#update_template/2-examples"},{"type":"module","title":"Lightning.WorkflowVersions","doc":"Provenance + comparison helpers for workflow heads.\n\n- Persists append-only rows in `workflow_versions` and maintains a materialized\n  `workflows.version_history` array (12-char lowercase hex).\n- `record_version/3` and `record_versions/3` are **idempotent** (`ON CONFLICT DO NOTHING`)\n  and **concurrency-safe** (row lock, append without dupes).\n- `history_for/1` and `latest_hash/1` read the array first; when empty they fall back\n  to the table with deterministic ordering by `(inserted_at, id)`.\n- `reconcile_history!/1` rebuilds the array from provenance rows.\n- `classify/2` and `classify_with_delta/2` compare two histories (same/ahead/diverged).\n\nValidation & invariants:\n- `hash` must match `^[a-f0-9]{12}$`; `source` must be `\"app\"` or `\"cli\"`;\n  `(workflow_id, hash)` is unique.\n\nDesigned for fast diffs and consistent latest head lookups.","ref":"Lightning.WorkflowVersions.html"},{"type":"type","title":"Lightning.WorkflowVersions.hash/0","doc":"","ref":"Lightning.WorkflowVersions.html#t:hash/0"},{"type":"function","title":"Lightning.WorkflowVersions.classify/2","doc":"Compares two histories and returns only the relation (no counts).\n\nWrapper around `classify_with_delta/2`.","ref":"Lightning.WorkflowVersions.html#classify/2"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.classify/2","doc":"iex> WorkflowVersions.classify(~w(a b), ~w(a b))\n    :same\n\n    iex> WorkflowVersions.classify(~w(a b), ~w(a b c))\n    {:ahead, :right}\n\n    iex> WorkflowVersions.classify(~w(a x), ~w(a y))\n    :diverged","ref":"Lightning.WorkflowVersions.html#classify/2-examples"},{"type":"function","title":"Lightning.WorkflowVersions.classify_with_delta/2","doc":"Compares two histories and returns the relation **with a delta**.\n\nPossible results:\n  * `{:same, 0}`  sequences are identical\n  * `{:ahead, :right, n}`  `right` strictly extends `left` by `n` items\n  * `{:ahead, :left,  n}`  `left`  strictly extends `right` by `n` items\n  * `{:diverged, k}`  sequences share a common prefix of length `k`, then diverge","ref":"Lightning.WorkflowVersions.html#classify_with_delta/2"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.classify_with_delta/2","doc":"iex> WorkflowVersions.classify_with_delta(~w(a b), ~w(a b c d))\n    {:ahead, :right, 2}\n\n    iex> WorkflowVersions.classify_with_delta(~w(a b x), ~w(a b y))\n    {:diverged, 2}","ref":"Lightning.WorkflowVersions.html#classify_with_delta/2-examples"},{"type":"function","title":"Lightning.WorkflowVersions.generate_hash/1","doc":"Generates a deterministic hash for a workflow based on its structure.\n\nAlgorithm:\n- Create a list\n- Add the workflow name to the start of the list\n- For each node (trigger, job and edge) in a consistent order\n  - Get a sorted list of keys\n  - Filter out ignored keys\n  - Add each key and value to the list\n- Join the list into a string, no separator\n- Hash the list with SHA 256\n- Truncate the resulting string to 12 characters","ref":"Lightning.WorkflowVersions.html#generate_hash/1"},{"type":"function","title":"Parameters - Lightning.WorkflowVersions.generate_hash/1","doc":"* `workflow`  the workflow struct to hash","ref":"Lightning.WorkflowVersions.html#generate_hash/1-parameters"},{"type":"function","title":"Returns - Lightning.WorkflowVersions.generate_hash/1","doc":"* A 12-character lowercase hex string","ref":"Lightning.WorkflowVersions.html#generate_hash/1-returns"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.generate_hash/1","doc":"iex> WorkflowVersions.generate_hash(workflow)\n    \"a1b2c3d4e5f6\"","ref":"Lightning.WorkflowVersions.html#generate_hash/1-examples"},{"type":"function","title":"Lightning.WorkflowVersions.history_for/1","doc":"Returns the **ordered** history of heads for a workflow.\n\nIf `workflow.version_history` is present and non-empty, that array is returned.\nOtherwise, the function falls back to `workflow_versions` ordered by\n`inserted_at ASC, id ASC` to provide deterministic ordering for equal timestamps.","ref":"Lightning.WorkflowVersions.html#history_for/1"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.history_for/1","doc":"iex> WorkflowVersions.history_for(%Workflow{version_history: [\"a\", \"b\"]})\n    [\"a\", \"b\"]\n\n    iex> WorkflowVersions.history_for(wf) # when array is empty/nil\n    [\"a\", \"b\", \"c\"]","ref":"Lightning.WorkflowVersions.html#history_for/1-examples"},{"type":"function","title":"Lightning.WorkflowVersions.latest_hash/1","doc":"Returns the **latest** head for a workflow (or `nil` if none).\n\nUses `workflow.version_history` when populated (taking the last element).\nIf empty/nil, reads from `workflow_versions` with\n`ORDER BY inserted_at DESC, id DESC LIMIT 1` for deterministic results.","ref":"Lightning.WorkflowVersions.html#latest_hash/1"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.latest_hash/1","doc":"iex> WorkflowVersions.latest_hash(%Workflow{version_history: [\"a\", \"b\"]})\n    \"b\"\n\n    iex> WorkflowVersions.latest_hash(wf_without_versions)\n    nil","ref":"Lightning.WorkflowVersions.html#latest_hash/1-examples"},{"type":"function","title":"Lightning.WorkflowVersions.reconcile_history!/1","doc":"Rebuilds and **persists** `workflow.version_history` from provenance rows.\n\nThis is useful for maintenance/migrations when the array drifts from the\n`workflow_versions` table. Ordering is `inserted_at ASC, id ASC`.","ref":"Lightning.WorkflowVersions.html#reconcile_history!/1"},{"type":"function","title":"Returns - Lightning.WorkflowVersions.reconcile_history!/1","doc":"* `%Workflow{}`  updated workflow with a rebuilt `version_history`","ref":"Lightning.WorkflowVersions.html#reconcile_history!/1-returns"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.reconcile_history!/1","doc":"iex> wf = WorkflowVersions.reconcile_history!(wf)\n    %Workflow{version_history: [...]}","ref":"Lightning.WorkflowVersions.html#reconcile_history!/1-examples"},{"type":"function","title":"Lightning.WorkflowVersions.record_version/3","doc":"Records a **single** workflow head `hash` with provenance and keeps\n`workflows.version_history` in sync.\n\nThis operation is **idempotent** and **concurrency-safe**:\nit inserts into `workflow_versions` with `ON CONFLICT DO NOTHING`, then\nlocks the workflow row (`FOR UPDATE`) and appends `hash` to the array only\nif it is not already present.","ref":"Lightning.WorkflowVersions.html#record_version/3"},{"type":"function","title":"Parameters - Lightning.WorkflowVersions.record_version/3","doc":"* `workflow`  the workflow owning the history\n  * `hash`  12-char lowercase hex (e.g., `\"deadbeefcafe\"`)\n  * `source`  `\"app\"` or `\"cli\"` (defaults to `\"app\"`)","ref":"Lightning.WorkflowVersions.html#record_version/3-parameters"},{"type":"function","title":"Returns - Lightning.WorkflowVersions.record_version/3","doc":"* `{:ok, %Workflow{}}`  workflow (possibly unchanged) with an updated\n    `version_history` if a new `hash` was appended\n  * `{:error, reason}`  database error","ref":"Lightning.WorkflowVersions.html#record_version/3-returns"},{"type":"function","title":"Examples - Lightning.WorkflowVersions.record_version/3","doc":"iex> WorkflowVersions.record_version(wf, \"deadbeefcafe\", \"app\")\n    {:ok, %Workflow{version_history: [..., \"deadbeefcafe\"]}}\n\n    iex> WorkflowVersions.record_version(wf, \"NOT_HEX\", \"app\")\n    {:error, :invalid_input}","ref":"Lightning.WorkflowVersions.html#record_version/3-examples"},{"type":"module","title":"Lightning.Workflows","doc":"The Workflows context.","ref":"Lightning.Workflows.html"},{"type":"function","title":"Lightning.Workflows.build_trigger/1","doc":"Builds a Trigger","ref":"Lightning.Workflows.html#build_trigger/1"},{"type":"function","title":"Lightning.Workflows.capture_snapshot/1","doc":"Creates a snapshot from a multi.\n\nWhen the multi already has a `:workflow` change, it is assumed to be changed\nor inserted and will attempt to build and insert a new snapshot.\n\nWhen there isn't a `:workflow` change, it tries to find a dependant model\nlike a Job, Trigger or Edge and uses the workflow associated with that\nmodel.\n\nIn this case we assume that the workflow wasn't actually updated,\n`Workflow.touch()` is called to bump the `updated_at` and the `lock_version`\nof the workflow before a snapshot is captured.","ref":"Lightning.Workflows.html#capture_snapshot/1"},{"type":"function","title":"Lightning.Workflows.change_workflow/2","doc":"Returns an `%Ecto.Changeset{}` for tracking workflow changes.","ref":"Lightning.Workflows.html#change_workflow/2"},{"type":"function","title":"Examples - Lightning.Workflows.change_workflow/2","doc":"iex> change_workflow(workflow)\n    %Ecto.Changeset{data: %Workflow{}}","ref":"Lightning.Workflows.html#change_workflow/2-examples"},{"type":"function","title":"Lightning.Workflows.create_edge/2","doc":"Creates an edge","ref":"Lightning.Workflows.html#create_edge/2"},{"type":"function","title":"Lightning.Workflows.get_edge_by_trigger/1","doc":"Gets an `Edge` by its associated `Trigger`.","ref":"Lightning.Workflows.html#get_edge_by_trigger/1"},{"type":"function","title":"Parameters - Lightning.Workflows.get_edge_by_trigger/1","doc":"- `%Trigger{id: trigger_id}`: A `Trigger` struct from which the associated `Edge` is to be found.","ref":"Lightning.Workflows.html#get_edge_by_trigger/1-parameters"},{"type":"function","title":"Returns - Lightning.Workflows.get_edge_by_trigger/1","doc":"- Returns an `Edge` struct preloaded with its `source_trigger` and `target_job` if found.\n- Returns `nil` if no `Edge` is associated with the given `Trigger`.","ref":"Lightning.Workflows.html#get_edge_by_trigger/1-returns"},{"type":"function","title":"Examples - Lightning.Workflows.get_edge_by_trigger/1","doc":"```\ntrigger = %Trigger{id: 1, ...}\nLightning.Workflows.get_edge_by_trigger(trigger)\n# => %Edge{source_trigger: %Trigger{}, target_job: %Job{}, ...}\n\nnon_existent_trigger = %Trigger{id: 999, ...}\nLightning.Workflows.get_edge_by_trigger(non_existent_trigger)\n# => nil\n```","ref":"Lightning.Workflows.html#get_edge_by_trigger/1-examples"},{"type":"function","title":"Lightning.Workflows.get_edges_for_cron_execution/1","doc":"Returns a list of edges with jobs to execute, given a current timestamp in Unix. This is\nused by the scheduler, which calls this function once every minute.","ref":"Lightning.Workflows.html#get_edges_for_cron_execution/1"},{"type":"function","title":"Lightning.Workflows.get_webhook_trigger/2","doc":"Gets a single Webhook Trigger by its `custom_path` or `id`.","ref":"Lightning.Workflows.html#get_webhook_trigger/2"},{"type":"function","title":"Lightning.Workflows.get_workflow/2","doc":"Gets a single workflow with optional preloads, returns `nil` if not found.","ref":"Lightning.Workflows.html#get_workflow/2"},{"type":"function","title":"Examples - Lightning.Workflows.get_workflow/2","doc":"iex> get_workflow(123)\n    %Workflow{}\n\n    iex> get_workflow(456)\n    nil\n\n    iex> get_workflow(123, include: [:triggers])\n    %Workflow{triggers: [...]}","ref":"Lightning.Workflows.html#get_workflow/2-examples"},{"type":"function","title":"Lightning.Workflows.get_workflow!/2","doc":"Gets a single workflow with optional preloads.\n\nRaises `Ecto.NoResultsError` if the Workflow does not exist.","ref":"Lightning.Workflows.html#get_workflow!/2"},{"type":"function","title":"Examples - Lightning.Workflows.get_workflow!/2","doc":"iex> get_workflow!(123)\n    %Workflow{}\n\n    iex> get_workflow!(456)\n    ** (Ecto.NoResultsError)\n\n    iex> get_workflow!(123, include: [:triggers])\n    %Workflow{triggers: [...]}","ref":"Lightning.Workflows.html#get_workflow!/2-examples"},{"type":"function","title":"Lightning.Workflows.get_workflows_for/2","doc":"Returns a list of workflows for a project with optional filtering, sorting, and preloading.","ref":"Lightning.Workflows.html#get_workflows_for/2"},{"type":"function","title":"Parameters - Lightning.Workflows.get_workflows_for/2","doc":"* `project` - A %Project{} struct for which to retrieve workflows\n  * `opts` - Optional keyword list of options","ref":"Lightning.Workflows.html#get_workflows_for/2-parameters"},{"type":"function","title":"Options - Lightning.Workflows.get_workflows_for/2","doc":"* `:search` - String to filter workflows by name using case-insensitive partial matching\n  * `:order_by` - A tuple containing the field and direction to sort by,\n    e.g., `{:name, :asc}` or `{:enabled, :desc}`\n  * `:include` - List of associations to preload (defaults to [:triggers, :edges, jobs: [:workflow]])","ref":"Lightning.Workflows.html#get_workflows_for/2-options"},{"type":"function","title":"Returns - Lightning.Workflows.get_workflows_for/2","doc":"A list of %Workflow{} structs that match the criteria","ref":"Lightning.Workflows.html#get_workflows_for/2-returns"},{"type":"function","title":"Examples - Lightning.Workflows.get_workflows_for/2","doc":"# Get all workflows for a project\n    iex> get_workflows_for(project)\n    [%Workflow{}, ...]\n\n    # Search workflows containing \"api\" in their name\n    iex> get_workflows_for(project, search: \"api\")\n    [%Workflow{name: \"API Gateway\"}, %Workflow{name: \"External API\"}]\n\n    # Sort workflows by name in descending order\n    iex> get_workflows_for(project, order_by: {:name, :desc})\n    [%Workflow{name: \"Zebra\"}, %Workflow{name: \"Apple\"}]\n\n    # Search and sort combined\n    iex> get_workflows_for(project, search: \"api\", order_by: {:name, :desc})\n    [%Workflow{name: \"REST API\"}, %Workflow{name: \"API Gateway\"}]\n\n    # Customize preloaded associations\n    iex> get_workflows_for(project, include: [:triggers])\n    [%Workflow{triggers: [...]}, ...]","ref":"Lightning.Workflows.html#get_workflows_for/2-examples"},{"type":"function","title":"Lightning.Workflows.has_newer_version?/1","doc":"","ref":"Lightning.Workflows.html#has_newer_version?/1"},{"type":"function","title":"Lightning.Workflows.jobs_ordered_subquery/0","doc":"A way to ensure the consistency of nodes.\nThis query orders jobs based on their `inserted_at` timestamps in ascending order","ref":"Lightning.Workflows.html#jobs_ordered_subquery/0"},{"type":"function","title":"Lightning.Workflows.list_project_workflows/2","doc":"Returns the list of workflows for a project.","ref":"Lightning.Workflows.html#list_project_workflows/2"},{"type":"function","title":"Examples - Lightning.Workflows.list_project_workflows/2","doc":"iex> list_project_workflows(project_id)\n    [%Workflow{}, ...]","ref":"Lightning.Workflows.html#list_project_workflows/2-examples"},{"type":"function","title":"Lightning.Workflows.list_workflows/0","doc":"Returns the list of workflows.","ref":"Lightning.Workflows.html#list_workflows/0"},{"type":"function","title":"Examples - Lightning.Workflows.list_workflows/0","doc":"iex> list_workflows()\n    [%Workflow{}, ...]","ref":"Lightning.Workflows.html#list_workflows/0-examples"},{"type":"function","title":"Lightning.Workflows.mark_for_deletion/3","doc":"Returns an `%Ecto.Changeset{}` for changing the workflow request_deletion.","ref":"Lightning.Workflows.html#mark_for_deletion/3"},{"type":"function","title":"Examples - Lightning.Workflows.mark_for_deletion/3","doc":"iex> change_request_deletion(workflow)\n    %Ecto.Changeset{data: %Workflow{}}","ref":"Lightning.Workflows.html#mark_for_deletion/3-examples"},{"type":"function","title":"Lightning.Workflows.maybe_create_latest_snapshot/1","doc":"Creates a latest snapshot for the given workflow if one does not already exist\nfor the current lock_version. Returns {:ok, snapshot} if a snapshot exists or is created.\n\n> #### Note {: .info}\n>\n> In normal situations this function is not needed as the snapshot is created\n> when the workflow is saved.","ref":"Lightning.Workflows.html#maybe_create_latest_snapshot/1"},{"type":"function","title":"Lightning.Workflows.project_workflows_using_credentials/1","doc":"","ref":"Lightning.Workflows.html#project_workflows_using_credentials/1"},{"type":"function","title":"Lightning.Workflows.publish_kafka_trigger_events/1","doc":"","ref":"Lightning.Workflows.html#publish_kafka_trigger_events/1"},{"type":"function","title":"Lightning.Workflows.save_workflow/3","doc":"","ref":"Lightning.Workflows.html#save_workflow/3"},{"type":"function","title":"Lightning.Workflows.subscribe/1","doc":"See  Lightning.Workflows.Events.subscribe/1 .","ref":"Lightning.Workflows.html#subscribe/1"},{"type":"function","title":"Lightning.Workflows.to_project_space/1","doc":"","ref":"Lightning.Workflows.html#to_project_space/1"},{"type":"function","title":"Lightning.Workflows.update_trigger/2","doc":"Updates a trigger","ref":"Lightning.Workflows.html#update_trigger/2"},{"type":"function","title":"Lightning.Workflows.update_triggers_enabled_state/2","doc":"Updates the `enabled` state of triggers associated with a given workflow as a struct or as a changeset.\n\n## **Parameters**\n- **`workflow_or_changeset`**:\n- An `%Ecto.Changeset{}` containing a `:triggers` association.\n- A `%Workflow{}` struct with a `triggers` field.\n- **`enabled?`**:\n- A boolean indicating whether to enable (`true`) or disable (`false`) the triggers.\n\n## **Returns**\n- An updated `%Ecto.Changeset{}` with the `:triggers` association modified.\n- An updated `%Ecto.Changeset{}` derived from the given `%Workflow{}`.\n\n## **Examples**\n\n### **Using an `Ecto.Changeset`**\n```elixir\nchangeset = Ecto.Changeset.change(%Workflow{}, %{triggers: [%Trigger{enabled: false}]})\nupdated_changeset = update_triggers_enabled_state(changeset, true)\n# The triggers in the changeset will now have `enabled: true`.\n```\n\n### **Using a `Workflow` struct**\n```elixir\nworkflow = %Workflow{triggers: [%Trigger{enabled: false}]}\nupdated_changeset = update_triggers_enabled_state(workflow, true)\n# The returned changeset will have triggers with `enabled: true`.\n```","ref":"Lightning.Workflows.html#update_triggers_enabled_state/2"},{"type":"function","title":"Lightning.Workflows.workflow_exists?/2","doc":"Check if workflow exist","ref":"Lightning.Workflows.html#workflow_exists?/2"},{"type":"function","title":"Lightning.Workflows.workflows_for_user_query/1","doc":"Returns a query for workflows accessible to a user","ref":"Lightning.Workflows.html#workflows_for_user_query/1"},{"type":"module","title":"Lightning.Workflows.Audit","doc":"Generate Audit changesets for selected changes to workflows.","ref":"Lightning.Workflows.Audit.html"},{"type":"function","title":"Lightning.Workflows.Audit.base_query/0","doc":"","ref":"Lightning.Workflows.Audit.html#base_query/0"},{"type":"function","title":"Lightning.Workflows.Audit.event/5","doc":"","ref":"Lightning.Workflows.Audit.html#event/5"},{"type":"function","title":"Lightning.Workflows.Audit.marked_for_deletion/2","doc":"","ref":"Lightning.Workflows.Audit.html#marked_for_deletion/2"},{"type":"function","title":"Lightning.Workflows.Audit.past_tense/1","doc":"","ref":"Lightning.Workflows.Audit.html#past_tense/1"},{"type":"function","title":"Lightning.Workflows.Audit.provisioner_event/3","doc":"","ref":"Lightning.Workflows.Audit.html#provisioner_event/3"},{"type":"function","title":"Lightning.Workflows.Audit.save/1","doc":"","ref":"Lightning.Workflows.Audit.html#save/1"},{"type":"function","title":"Lightning.Workflows.Audit.snapshot_created/3","doc":"","ref":"Lightning.Workflows.Audit.html#snapshot_created/3"},{"type":"function","title":"Lightning.Workflows.Audit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.Workflows.Audit.html#update_changes/1"},{"type":"function","title":"Lightning.Workflows.Audit.workflow_state_changed/4","doc":"","ref":"Lightning.Workflows.Audit.html#workflow_state_changed/4"},{"type":"module","title":"Lightning.Workflows.Edge","doc":"Ecto model for Workflow Edges.\n\nA Workflow Edge represents a connection between two jobs\n(or a trigger and a job) in a workflow.\n\nThe source of the edge is either a job or a trigger.\nThe target of the edge is always a job.","ref":"Lightning.Workflows.Edge.html"},{"type":"type","title":"Lightning.Workflows.Edge.edge_condition/0","doc":"","ref":"Lightning.Workflows.Edge.html#t:edge_condition/0"},{"type":"type","title":"Lightning.Workflows.Edge.t/0","doc":"","ref":"Lightning.Workflows.Edge.html#t:t/0"},{"type":"function","title":"Lightning.Workflows.Edge.changeset/2","doc":"","ref":"Lightning.Workflows.Edge.html#changeset/2"},{"type":"function","title":"Lightning.Workflows.Edge.new/1","doc":"","ref":"Lightning.Workflows.Edge.html#new/1"},{"type":"function","title":"Lightning.Workflows.Edge.validate/1","doc":"","ref":"Lightning.Workflows.Edge.html#validate/1"},{"type":"module","title":"Lightning.Workflows.Job","doc":"Ecto model for Jobs.\n\nA Job contains the fields for defining a job.\n\n* `body`\n  The expression/javascript code\n* `name`\n  A plain text identifier\n* `adaptor`\n  An NPM style string that contains both the module name and it's version.\n  E.g. `@openfn/language-http@v1.2.3` or `@openfn/language-foo@latest`.\n  While the version suffix isn't enforced here as it's not strictly necessary\n  in this context, the front end will ensure a version is stated (`@latest`\n  being the default).","ref":"Lightning.Workflows.Job.html"},{"type":"type","title":"Lightning.Workflows.Job.t/0","doc":"","ref":"Lightning.Workflows.Job.html#t:t/0"},{"type":"function","title":"Lightning.Workflows.Job.new/1","doc":"","ref":"Lightning.Workflows.Job.html#new/1"},{"type":"function","title":"Lightning.Workflows.Job.put_project_credential/2","doc":"","ref":"Lightning.Workflows.Job.html#put_project_credential/2"},{"type":"function","title":"Lightning.Workflows.Job.put_workflow/2","doc":"Attaches a workflow to a job, this is useful when you have an unpersisted\nWorkflow changeset - and want it to be created at the same time as a Job.\n\n\nExample:\n\n    workflow =\n      Ecto.Changeset.cast(\n        %Lightning.Workflows.Workflow{},\n        %{ \"project_id\" => attrs[:project_id], \"id\" => Ecto.UUID.generate() },\n        [:project_id, :id]\n      )\n\n    job =\n      %Job{}\n      |> Ecto.Changeset.change()\n      |> Job.put_workflow(workflow)\n      |> Job.changeset(attrs)","ref":"Lightning.Workflows.Job.html#put_workflow/2"},{"type":"function","title":"Lightning.Workflows.Job.validate/1","doc":"","ref":"Lightning.Workflows.Job.html#validate/1"},{"type":"module","title":"Lightning.Workflows.Node","doc":"Represents a node in a workflow graph.","ref":"Lightning.Workflows.Node.html"},{"type":"module","title":"Lightning.Workflows.ParamsComparator","doc":"Functions for comparing workflow structures and detecting changes.\nThis module provides functionality to compare workflows semantically (ignoring IDs and\nmetadata by default) or exactly (comparing all fields). It's useful for detecting\nstructural changes, generating checksums for caching, and workflow versioning.","ref":"Lightning.Workflows.ParamsComparator.html"},{"type":"function","title":"Lightning.Workflows.ParamsComparator.equivalent?/3","doc":"Compares two workflow structures to determine if they are semantically equivalent.","ref":"Lightning.Workflows.ParamsComparator.html#equivalent?/3"},{"type":"function","title":"Options - Lightning.Workflows.ParamsComparator.equivalent?/3","doc":"* `:mode` - Either `:semantic` (default) or `:exact`\n    - `:semantic` - Ignores IDs, timestamps, and other metadata\n    - `:exact` - Compares all fields\n  * `:ignore` - Nested keyword list of fields to ignore\n    Format:\n    ```elixir\n    ignore: [\n      workflow: [:name, :project_id],\n      jobs: [:body, :adaptor],\n      triggers: [:cron_expression, :custom_path],\n      edges: [:enabled]\n    ]\n    ```\n    Special values:\n    - `jobs: :all` - Ignore all job fields\n    - `triggers: :all` - Ignore all trigger fields\n    - `edges: :all` - Ignore all edge fields","ref":"Lightning.Workflows.ParamsComparator.html#equivalent?/3-options"},{"type":"module","title":"Lightning.Workflows.Presence","doc":"Handles user presence tracking within the Workflow canvas page.\n\nThis module leverages Phoenix.Presence to track user sessions, manage user priorities,\nand list active presences on specified topics.","ref":"Lightning.Workflows.Presence.html"},{"type":"function","title":"Lightning.Workflows.Presence.build_presences_summary/2","doc":"Builds a summary of presences with details about the current user's presence, promotable presences,\nand edit priority.","ref":"Lightning.Workflows.Presence.html#build_presences_summary/2"},{"type":"function","title":"Parameters - Lightning.Workflows.Presence.build_presences_summary/2","doc":"- `presences` (list): A list of presence records, each containing user information and a joined_at timestamp.\n  - `params` (map): A map containing the following keys:\n    - `:current_user_presence` - The presence record for the current user.\n    - `:current_user` - The current user record.\n    - `:view_only_users_ids` - A list of user IDs who have view-only permissions.","ref":"Lightning.Workflows.Presence.html#build_presences_summary/2-parameters"},{"type":"function","title":"Returns - Lightning.Workflows.Presence.build_presences_summary/2","doc":"- `map`: A map containing the following keys:\n    - `:presences` - The sorted list of all presences.\n    - `:prior_user_presence` - The presence record with edit priority.\n    - `:current_user_presence` - The presence record for the current user.\n    - `:has_presence_edit_priority` - A boolean indicating if the current user has edit priority.","ref":"Lightning.Workflows.Presence.html#build_presences_summary/2-returns"},{"type":"function","title":"Examples - Lightning.Workflows.Presence.build_presences_summary/2","doc":"iex> presences = [\n    ...>   %{user: %{id: 1}, joined_at: ~N[2024-07-03 12:00:00], active_sessions: 1},\n    ...>   %{user: %{id: 2}, joined_at: ~N[2024-07-03 12:05:00], active_sessions: 1},\n    ...>   %{user: %{id: 3}, joined_at: ~N[2024-07-03 12:10:00], active_sessions: 1}\n    ...> ]\n    iex> params = %{\n    ...>   current_user_presence: %{user: %{id: 1}, joined_at: ~N[2024-07-03 12:00:00], active_sessions: 1},\n    ...>   current_user: %{id: 1},\n    ...>   view_only_users_ids: [2]\n    ...> }\n    iex> build_presences_summary(presences, params)\n    %{\n      presences: [\n        %{user: %{id: 1}, joined_at: ~N[2024-07-03 12:00:00], active_sessions: 1},\n        %{user: %{id: 2}, joined_at: ~N[2024-07-03 12:05:00], active_sessions: 1},\n        %{user: %{id: 3}, joined_at: ~N[2024-07-03 12:10:00], active_sessions: 1}\n      ],\n      prior_user_presence: %{user: %{id: 3}, joined_at: ~N[2024-07-03 12:10:00], active_sessions: 1},\n      current_user_presence: %{user: %{id: 1}, joined_at: ~N[2024-07-03 12:00:00], active_sessions: 1},\n      has_presence_edit_priority: true\n    }","ref":"Lightning.Workflows.Presence.html#build_presences_summary/2-examples"},{"type":"function","title":"Lightning.Workflows.Presence.child_spec/1","doc":"","ref":"Lightning.Workflows.Presence.html#child_spec/1"},{"type":"function","title":"Lightning.Workflows.Presence.fetch/2","doc":"Callback implementation for  Phoenix.Presence.fetch/2 .","ref":"Lightning.Workflows.Presence.html#fetch/2"},{"type":"function","title":"Lightning.Workflows.Presence.fetchers_pids/0","doc":"","ref":"Lightning.Workflows.Presence.html#fetchers_pids/0"},{"type":"function","title":"Lightning.Workflows.Presence.get_by_key/2","doc":"Callback implementation for  Phoenix.Presence.get_by_key/2 .","ref":"Lightning.Workflows.Presence.html#get_by_key/2"},{"type":"function","title":"Lightning.Workflows.Presence.has_any_presence?/1","doc":"Informs if there is someone editing a workflow.","ref":"Lightning.Workflows.Presence.html#has_any_presence?/1"},{"type":"function","title":"Lightning.Workflows.Presence.list/1","doc":"Callback implementation for  Phoenix.Presence.list/1 .","ref":"Lightning.Workflows.Presence.html#list/1"},{"type":"function","title":"Lightning.Workflows.Presence.list_presences_for/1","doc":"Lists all presences for a given workflow.","ref":"Lightning.Workflows.Presence.html#list_presences_for/1"},{"type":"function","title":"Parameters - Lightning.Workflows.Presence.list_presences_for/1","doc":"- `workflow`: The workflow to list the presences for.","ref":"Lightning.Workflows.Presence.html#list_presences_for/1-parameters"},{"type":"function","title":"Examples - Lightning.Workflows.Presence.list_presences_for/1","doc":"iex> Lightning.Workflows.Presence.list_presences_for(%Workflow{id: xpto})\n    [%Lightning.Workflows.Presence{user: %User{id: 1}, ...}, ...]","ref":"Lightning.Workflows.Presence.html#list_presences_for/1-examples"},{"type":"function","title":"Lightning.Workflows.Presence.new_user_presence/3","doc":"Creates a new `UserPresence` struct.","ref":"Lightning.Workflows.Presence.html#new_user_presence/3"},{"type":"function","title":"Parameters - Lightning.Workflows.Presence.new_user_presence/3","doc":"- `user`: The user data to be included in the presence.\n  - `joined_at`: The timestamp when the user joined, in microseconds.\n  - `active_sessions`: The number of active sessions for the user (default is 0).","ref":"Lightning.Workflows.Presence.html#new_user_presence/3-parameters"},{"type":"function","title":"Examples - Lightning.Workflows.Presence.new_user_presence/3","doc":"iex> Lightning.Workflows.Presence.new_user_presence(%User{id: 1}, 1625597762000000)\n    %Lightning.Workflows.Presence{\n      user: %User{id: 1},\n      joined_at: 1625597762000000,\n      active_sessions: 0\n    }","ref":"Lightning.Workflows.Presence.html#new_user_presence/3-examples"},{"type":"function","title":"Lightning.Workflows.Presence.track/3","doc":"Callback implementation for  Phoenix.Presence.track/3 .","ref":"Lightning.Workflows.Presence.html#track/3"},{"type":"function","title":"Lightning.Workflows.Presence.track/4","doc":"Callback implementation for  Phoenix.Presence.track/4 .","ref":"Lightning.Workflows.Presence.html#track/4"},{"type":"function","title":"Lightning.Workflows.Presence.track_user_presence/3","doc":"Tracks the presence of a user on editing a workflow.","ref":"Lightning.Workflows.Presence.html#track_user_presence/3"},{"type":"function","title":"Parameters - Lightning.Workflows.Presence.track_user_presence/3","doc":"- `user`: The user to be tracked.\n  - `workflow`: The workflow to track the user on.\n  - `pid`: The process identifier for the user's session.","ref":"Lightning.Workflows.Presence.html#track_user_presence/3-parameters"},{"type":"function","title":"Examples - Lightning.Workflows.Presence.track_user_presence/3","doc":"iex> Lightning.Workflows.Presence.track_user_presence(%User{id: user_id}, %Workflow{id: workflow_id}, self())\n    :ok","ref":"Lightning.Workflows.Presence.html#track_user_presence/3-examples"},{"type":"function","title":"Lightning.Workflows.Presence.untrack/2","doc":"Callback implementation for  Phoenix.Presence.untrack/2 .","ref":"Lightning.Workflows.Presence.html#untrack/2"},{"type":"function","title":"Lightning.Workflows.Presence.untrack/3","doc":"Callback implementation for  Phoenix.Presence.untrack/3 .","ref":"Lightning.Workflows.Presence.html#untrack/3"},{"type":"function","title":"Lightning.Workflows.Presence.untrack_user_presence/3","doc":"Untracks the presence of a user on editing a workflow.","ref":"Lightning.Workflows.Presence.html#untrack_user_presence/3"},{"type":"function","title":"Parameters - Lightning.Workflows.Presence.untrack_user_presence/3","doc":"- `user`: The user to be tracked.\n  - `workflow`: The workflow to track the user on.\n  - `pid`: The process identifier for the user's session.","ref":"Lightning.Workflows.Presence.html#untrack_user_presence/3-parameters"},{"type":"function","title":"Examples - Lightning.Workflows.Presence.untrack_user_presence/3","doc":"iex> Lightning.Workflows.Presence.untrack_user_presence(%User{id: user_id}, %Workflow{id: workflow_id}, self())\n    :ok","ref":"Lightning.Workflows.Presence.html#untrack_user_presence/3-examples"},{"type":"function","title":"Lightning.Workflows.Presence.update/3","doc":"Callback implementation for  Phoenix.Presence.update/3 .","ref":"Lightning.Workflows.Presence.html#update/3"},{"type":"function","title":"Lightning.Workflows.Presence.update/4","doc":"Callback implementation for  Phoenix.Presence.update/4 .","ref":"Lightning.Workflows.Presence.html#update/4"},{"type":"module","title":"Lightning.Workflows.Query","doc":"Query module for finding Jobs.","ref":"Lightning.Workflows.Query.html"},{"type":"function","title":"Lightning.Workflows.Query.enabled_cron_jobs_by_edge/0","doc":"Returns active jobs with their cron triggers for use in the cron scheduling\nservice.","ref":"Lightning.Workflows.Query.html#enabled_cron_jobs_by_edge/0"},{"type":"function","title":"Lightning.Workflows.Query.jobs_for/1","doc":"Returns all jobs accessible to a user, via their projects\nor all jobs in a given project.","ref":"Lightning.Workflows.Query.html#jobs_for/1"},{"type":"function","title":"Lightning.Workflows.Query.unused_snapshots/0","doc":"Returns snapshots that are no longer being used by any workflow, work order, run, or step.\n\nA snapshot is considered unused if:\n- It's not the current version of any workflow (lock_version doesn't match workflow's lock_version)\n- It's not referenced by any work order\n- It's not referenced by any run\n- It's not referenced by any step","ref":"Lightning.Workflows.Query.html#unused_snapshots/0"},{"type":"function","title":"Lightning.Workflows.Query.workflows_for/1","doc":"Returns all workflows accessible to a user, via their projects\nor all workflows in a given project.","ref":"Lightning.Workflows.Query.html#workflows_for/1"},{"type":"module","title":"Lightning.Workflows.Scheduler","doc":"The Scheduler is responsible for finding jobs that are ready to run based on\ntheir cron schedule, and then running them.","ref":"Lightning.Workflows.Scheduler.html"},{"type":"function","title":"Lightning.Workflows.Scheduler.enqueue_cronjobs/0","doc":"Find and start any cronjobs that are scheduled to run for a given time\n(defaults to the current time).","ref":"Lightning.Workflows.Scheduler.html#enqueue_cronjobs/0"},{"type":"function","title":"Lightning.Workflows.Scheduler.enqueue_cronjobs/1","doc":"","ref":"Lightning.Workflows.Scheduler.html#enqueue_cronjobs/1"},{"type":"module","title":"Lightning.Workflows.Snapshot","doc":"Ecto model for Workflow Snapshots.\n\nSnapshots are a way to store the state of a workflow at a given point in time.","ref":"Lightning.Workflows.Snapshot.html"},{"type":"type","title":"Lightning.Workflows.Snapshot.t/0","doc":"","ref":"Lightning.Workflows.Snapshot.html#t:t/0"},{"type":"function","title":"Lightning.Workflows.Snapshot.build/1","doc":"","ref":"Lightning.Workflows.Snapshot.html#build/1"},{"type":"function","title":"Lightning.Workflows.Snapshot.create/1","doc":"","ref":"Lightning.Workflows.Snapshot.html#create/1"},{"type":"function","title":"Lightning.Workflows.Snapshot.get_all_by_ids/1","doc":"","ref":"Lightning.Workflows.Snapshot.html#get_all_by_ids/1"},{"type":"function","title":"Lightning.Workflows.Snapshot.get_all_for/1","doc":"","ref":"Lightning.Workflows.Snapshot.html#get_all_for/1"},{"type":"function","title":"Lightning.Workflows.Snapshot.get_by_version/2","doc":"","ref":"Lightning.Workflows.Snapshot.html#get_by_version/2"},{"type":"function","title":"Lightning.Workflows.Snapshot.get_current_for/1","doc":"Get the latest snapshot for a workflow, based on the lock_version.\n\nIt returns the latest snapshot regardless of the lock_version of the\nworkflow passed in.","ref":"Lightning.Workflows.Snapshot.html#get_current_for/1"},{"type":"function","title":"Lightning.Workflows.Snapshot.include_latest_snapshot/3","doc":"","ref":"Lightning.Workflows.Snapshot.html#include_latest_snapshot/3"},{"type":"function","title":"Lightning.Workflows.Snapshot.new/1","doc":"","ref":"Lightning.Workflows.Snapshot.html#new/1"},{"type":"module","title":"Lightning.Workflows.Snapshot.Edge","doc":"","ref":"Lightning.Workflows.Snapshot.Edge.html"},{"type":"module","title":"Lightning.Workflows.Snapshot.Job","doc":"","ref":"Lightning.Workflows.Snapshot.Job.html"},{"type":"module","title":"Lightning.Workflows.Snapshot.Trigger","doc":"","ref":"Lightning.Workflows.Snapshot.Trigger.html"},{"type":"module","title":"Lightning.Workflows.Trigger","doc":"Ecto model for Triggers.\n\nTriggers represent the criteria in which a Job might be invoked.","ref":"Lightning.Workflows.Trigger.html"},{"type":"module","title":"Types - Lightning.Workflows.Trigger","doc":"","ref":"Lightning.Workflows.Trigger.html#module-types"},{"type":"module","title":"Webhook (default) - Lightning.Workflows.Trigger","doc":"A webhook trigger allows a Job to invoked (via `Lightning.Invocation`) when it's\nendpoint is called.","ref":"Lightning.Workflows.Trigger.html#module-webhook-default"},{"type":"type","title":"Lightning.Workflows.Trigger.t/0","doc":"","ref":"Lightning.Workflows.Trigger.html#t:t/0"},{"type":"type","title":"Lightning.Workflows.Trigger.trigger_type/0","doc":"","ref":"Lightning.Workflows.Trigger.html#t:trigger_type/0"},{"type":"function","title":"Lightning.Workflows.Trigger.cast_changeset/2","doc":"","ref":"Lightning.Workflows.Trigger.html#cast_changeset/2"},{"type":"function","title":"Lightning.Workflows.Trigger.new/1","doc":"","ref":"Lightning.Workflows.Trigger.html#new/1"},{"type":"function","title":"Lightning.Workflows.Trigger.validate/1","doc":"","ref":"Lightning.Workflows.Trigger.html#validate/1"},{"type":"function","title":"Lightning.Workflows.Trigger.with_auth_methods_query/0","doc":"","ref":"Lightning.Workflows.Trigger.html#with_auth_methods_query/0"},{"type":"module","title":"Lightning.Workflows.Triggers.Events","doc":"Responsible for the publishing of and subscription to trigger-related events.","ref":"Lightning.Workflows.Triggers.Events.html"},{"type":"function","title":"Lightning.Workflows.Triggers.Events.kafka_trigger_notification_sent/2","doc":"","ref":"Lightning.Workflows.Triggers.Events.html#kafka_trigger_notification_sent/2"},{"type":"function","title":"Lightning.Workflows.Triggers.Events.kafka_trigger_updated/1","doc":"","ref":"Lightning.Workflows.Triggers.Events.html#kafka_trigger_updated/1"},{"type":"function","title":"Lightning.Workflows.Triggers.Events.kafka_trigger_updated_topic/0","doc":"","ref":"Lightning.Workflows.Triggers.Events.html#kafka_trigger_updated_topic/0"},{"type":"function","title":"Lightning.Workflows.Triggers.Events.subscribe_to_kafka_trigger_updated/0","doc":"","ref":"Lightning.Workflows.Triggers.Events.html#subscribe_to_kafka_trigger_updated/0"},{"type":"module","title":"Lightning.Workflows.Triggers.KafkaConfiguration","doc":"Configuration of Kafka Triggers.","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.apply_hosts_string/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#apply_hosts_string/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.apply_topics_string/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#apply_topics_string/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.changeset/2","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#changeset/2"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.generate_hosts_string/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#generate_hosts_string/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.generate_topics_string/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#generate_topics_string/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.sasl_types/0","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#sasl_types/0"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.set_group_id_if_required/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#set_group_id_if_required/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.validate_initial_offset_reset_policy/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#validate_initial_offset_reset_policy/1"},{"type":"function","title":"Lightning.Workflows.Triggers.KafkaConfiguration.validate_sasl_credentials/1","doc":"","ref":"Lightning.Workflows.Triggers.KafkaConfiguration.html#validate_sasl_credentials/1"},{"type":"module","title":"Lightning.Workflows.WebhookAuthMethod","doc":"The `Lightning.Workflows.WebhookAuthMethod` module defines the schema for webhook authentication methods and provides functionalities to handle them.","ref":"Lightning.Workflows.WebhookAuthMethod.html"},{"type":"module","title":"Schema - Lightning.Workflows.WebhookAuthMethod","doc":"The schema represents a webhook authentication method that can be of two types - `:basic` and `:api`. The basic type requires a username and password, while the api type requires an api_key.\n\nThe schema fields include:\n  - `name`: the name of the authentication method\n  - `auth_type`: the type of authentication, can be `:basic` or `:api`\n  - `username`: the username required for basic authentication\n  - `password`: the password required for basic authentication (virtual field)\n  - `hashed_password`: the hashed version of the password\n  - `api_key`: the API key required for API authentication","ref":"Lightning.Workflows.WebhookAuthMethod.html#module-schema"},{"type":"module","title":"Associations - Lightning.Workflows.WebhookAuthMethod","doc":"Each `WebhookAuthMethod` belongs to a `project`.\nIt is also associated with multiple `triggers` through a many_to_many relationship.","ref":"Lightning.Workflows.WebhookAuthMethod.html#module-associations"},{"type":"module","title":"Validations and Constraints - Lightning.Workflows.WebhookAuthMethod","doc":"This module provides changeset functions for casting and validating the schema fields and applying unique constraints on `name`, `username`, and `api_key` within the project scope.","ref":"Lightning.Workflows.WebhookAuthMethod.html#module-validations-and-constraints"},{"type":"module","title":"Password Verification - Lightning.Workflows.WebhookAuthMethod","doc":"The `valid_password?/2` function is provided to verify passwords and it avoids timing attacks by using `Bcrypt.no_user_verify/0` when there is no webhook_auth_method or the webhook_auth_method doesn't have a password.","ref":"Lightning.Workflows.WebhookAuthMethod.html#module-password-verification"},{"type":"type","title":"Lightning.Workflows.WebhookAuthMethod.t/0","doc":"","ref":"Lightning.Workflows.WebhookAuthMethod.html#t:t/0"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethod.basic_auth_for/1","doc":"Retrieves basic auth strings from a WebhookAuthMethod for use in log scrubbing.\n\nReturns a list of base64-encoded \"username:password\" strings that might appear\nin Authorization headers.","ref":"Lightning.Workflows.WebhookAuthMethod.html#basic_auth_for/1"},{"type":"function","title":"Examples - Lightning.Workflows.WebhookAuthMethod.basic_auth_for/1","doc":"iex> basic_auth_for(%WebhookAuthMethod{auth_type: :basic, username: \"user\", password: \"pass\"})\n    [\"dXNlcjpwYXNz\"]\n\n    iex> basic_auth_for(%WebhookAuthMethod{auth_type: :api, api_key: \"secret\"})\n    []","ref":"Lightning.Workflows.WebhookAuthMethod.html#basic_auth_for/1-examples"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethod.changeset/2","doc":"","ref":"Lightning.Workflows.WebhookAuthMethod.html#changeset/2"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethod.generate_api_key/1","doc":"","ref":"Lightning.Workflows.WebhookAuthMethod.html#generate_api_key/1"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethod.sensitive_values_for/1","doc":"Retrieves sensitive values from a WebhookAuthMethod for use in log scrubbing.\n\nFor `:basic` auth, returns the username and password.\nFor `:api` auth, returns the api_key.","ref":"Lightning.Workflows.WebhookAuthMethod.html#sensitive_values_for/1"},{"type":"function","title":"Examples - Lightning.Workflows.WebhookAuthMethod.sensitive_values_for/1","doc":"iex> sensitive_values_for(%WebhookAuthMethod{auth_type: :basic, username: \"user\", password: \"pass\"})\n    [\"pass\"]\n\n    iex> sensitive_values_for(%WebhookAuthMethod{auth_type: :api, api_key: \"secret123\"})\n    [\"secret123\"]\n\n    iex> sensitive_values_for(nil)\n    []","ref":"Lightning.Workflows.WebhookAuthMethod.html#sensitive_values_for/1-examples"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethod.update_changeset/2","doc":"","ref":"Lightning.Workflows.WebhookAuthMethod.html#update_changeset/2"},{"type":"module","title":"Lightning.Workflows.WebhookAuthMethodAudit","doc":"Model for storing changes to WebhookAuthMethod","ref":"Lightning.Workflows.WebhookAuthMethodAudit.html"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethodAudit.base_query/0","doc":"","ref":"Lightning.Workflows.WebhookAuthMethodAudit.html#base_query/0"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethodAudit.event/5","doc":"","ref":"Lightning.Workflows.WebhookAuthMethodAudit.html#event/5"},{"type":"function","title":"Lightning.Workflows.WebhookAuthMethodAudit.save/1","doc":"","ref":"Lightning.Workflows.WebhookAuthMethodAudit.html#save/1"},{"type":"module","title":"Lightning.Workflows.Workflow","doc":"Ecto model for Workflows.\n\nA Workflow contains the fields for defining a workflow.\n\n* `name`\n  A plain text identifier","ref":"Lightning.Workflows.Workflow.html"},{"type":"type","title":"Lightning.Workflows.Workflow.t/0","doc":"","ref":"Lightning.Workflows.Workflow.html#t:t/0"},{"type":"function","title":"Lightning.Workflows.Workflow.request_deletion_changeset/2","doc":"","ref":"Lightning.Workflows.Workflow.html#request_deletion_changeset/2"},{"type":"function","title":"Lightning.Workflows.Workflow.touch/1","doc":"Forces an update to the workflows `updated_at` timestamp and the\n`lock_version`. This is useful when updating a child record like jobs or\ntriggers and a snapshot needs to made; but the Workflow itself didn't change.","ref":"Lightning.Workflows.Workflow.html#touch/1"},{"type":"function","title":"Lightning.Workflows.Workflow.validate/1","doc":"","ref":"Lightning.Workflows.Workflow.html#validate/1"},{"type":"function","title":"Lightning.Workflows.Workflow.workflow_activated?/1","doc":"Returns true if the workflow has any triggers that are _going to be_ activated.\n\nNew triggers are enabled by default, but existing triggers are only considered\nactivated if their `enabled` field is _changed_ to `true`.","ref":"Lightning.Workflows.Workflow.html#workflow_activated?/1"},{"type":"module","title":"Lightning.Workflows.WorkflowTemplate","doc":"Schema for workflow templates.","ref":"Lightning.Workflows.WorkflowTemplate.html"},{"type":"module","title":"Lightning.Workflows.WorkflowVersion","doc":"Immutable provenance rows for workflow heads.\n\n- One row per head: `hash` (12-char lowercase hex), `source` (\"app\" | \"cli\"),\n  `workflow_id`, `inserted_at` (UTC s).\n- Append-only: `updated_at` disabled; rows are never mutated.\n- Uniqueness: `(workflow_id, hash)` unique; same hash may exist across workflows.\n- Validation mirrors DB checks: hash format, allowed sources, valid `workflow_id`.\n- Deterministic ordering via `:utc_datetime_usec` timestamps.\n- Use `Lightning.WorkflowVersions` to record/query and keep\n  `workflows.version_history` in sync.","ref":"Lightning.Workflows.WorkflowVersion.html"},{"type":"function","title":"Lightning.Workflows.WorkflowVersion.changeset/2","doc":"","ref":"Lightning.Workflows.WorkflowVersion.html#changeset/2"},{"type":"module","title":"Lightning.LogMessage","doc":"A custom type to handle JSON log messages.\n\nCurrently the underlying database type is a string, and workers may send\neither a string, or a JSON object. This type will encode JSON objects to\nstring.\n\n> #### Messages are always strings {: .info}\n>\n> While this type allows JSON objects to be sent, the model will always return\n> strings. This type is a stand-in until we want to add a JSONB column to the\n> underlying table.\n\nIn the case of JSON objects we serialize them to a string, and in the case of\narrays we serialize them individually and join them with a space.\n\nThis type also sanitizes strings to remove characters that PostgreSQL text\nfields cannot store (null bytes and certain control characters).","ref":"Lightning.LogMessage.html"},{"type":"function","title":"Lightning.LogMessage.cast/1","doc":"Callback implementation for  Ecto.Type.cast/1 .","ref":"Lightning.LogMessage.html#cast/1"},{"type":"function","title":"Lightning.LogMessage.dump/1","doc":"Callback implementation for  Ecto.Type.dump/1 .","ref":"Lightning.LogMessage.html#dump/1"},{"type":"function","title":"Lightning.LogMessage.embed_as/1","doc":"Callback implementation for  Ecto.Type.embed_as/1 .","ref":"Lightning.LogMessage.html#embed_as/1"},{"type":"function","title":"Lightning.LogMessage.equal?/2","doc":"Callback implementation for  Ecto.Type.equal?/2 .","ref":"Lightning.LogMessage.html#equal?/2"},{"type":"function","title":"Lightning.LogMessage.load/1","doc":"Callback implementation for  Ecto.Type.load/1 .","ref":"Lightning.LogMessage.html#load/1"},{"type":"function","title":"Lightning.LogMessage.type/0","doc":"Callback implementation for  Ecto.Type.type/0 .","ref":"Lightning.LogMessage.html#type/0"},{"type":"module","title":"Lightning.UnixDateTime","doc":"A custom DateTime type for Ecto that uses millisecond Unix timestamps.\n\nNodeJS uses millisecond Unix timestamps, and Ecto has a choice of either\nsecond or microsecond precision. This module allows millisecond precision\nintegers to be used as DateTime values without losing precision.\n\nMicrosecond timestamps can also be parsed, but currently they are expected\nto be provided as strings. This is because Javascript can't represent\nmicrosecond timestamps as an integer and BigInt can't be represented\nas a JSON value.\n\nAll functions fallback on the default Ecto types conversion functions.","ref":"Lightning.UnixDateTime.html"},{"type":"function","title":"Lightning.UnixDateTime.cast/1","doc":"Cast a Unix timestamp to a DateTime.\n\nAccepts integers and strings, and will try to parse the string as an  integer.\nIf the integer is 13 digits long, it will be parsed as a millisecond\ntimestamp, and as a microsecond timestamp if it is 16 digits long.","ref":"Lightning.UnixDateTime.html#cast/1"},{"type":"function","title":"Lightning.UnixDateTime.dump/1","doc":"Callback implementation for  Ecto.Type.dump/1 .","ref":"Lightning.UnixDateTime.html#dump/1"},{"type":"function","title":"Lightning.UnixDateTime.embed_as/1","doc":"Callback implementation for  Ecto.Type.embed_as/1 .","ref":"Lightning.UnixDateTime.html#embed_as/1"},{"type":"function","title":"Lightning.UnixDateTime.equal?/2","doc":"Callback implementation for  Ecto.Type.equal?/2 .","ref":"Lightning.UnixDateTime.html#equal?/2"},{"type":"function","title":"Lightning.UnixDateTime.load/1","doc":"Callback implementation for  Ecto.Type.load/1 .","ref":"Lightning.UnixDateTime.html#load/1"},{"type":"function","title":"Lightning.UnixDateTime.type/0","doc":"Callback implementation for  Ecto.Type.type/0 .","ref":"Lightning.UnixDateTime.html#type/0"},{"type":"module","title":"LightningWeb","doc":"The entrypoint for defining your web interface, such\nas controllers, views, channels and so on.\n\nThis can be used in your application as:\n\n    use LightningWeb, :controller\n    use LightningWeb, :view\n\nThe definitions below will be executed for every view,\ncontroller, etc, so keep them short and clean, focused\non imports, uses and aliases.\n\nDo NOT define functions inside the quoted expressions\nbelow. Instead, define any helper function in modules\nand import those modules here.","ref":"LightningWeb.html"},{"type":"macro","title":"LightningWeb.__using__/1","doc":"When used, dispatch to the appropriate controller/view/etc.","ref":"LightningWeb.html#__using__/1"},{"type":"function","title":"LightningWeb.channel/0","doc":"","ref":"LightningWeb.html#channel/0"},{"type":"function","title":"LightningWeb.component/0","doc":"","ref":"LightningWeb.html#component/0"},{"type":"function","title":"LightningWeb.controller/0","doc":"","ref":"LightningWeb.html#controller/0"},{"type":"function","title":"LightningWeb.html/0","doc":"","ref":"LightningWeb.html#html/0"},{"type":"function","title":"LightningWeb.live_component/0","doc":"","ref":"LightningWeb.html#live_component/0"},{"type":"function","title":"LightningWeb.live_view/1","doc":"","ref":"LightningWeb.html#live_view/1"},{"type":"function","title":"LightningWeb.router/0","doc":"","ref":"LightningWeb.html#router/0"},{"type":"function","title":"LightningWeb.static_paths/0","doc":"","ref":"LightningWeb.html#static_paths/0"},{"type":"function","title":"LightningWeb.verified_routes/0","doc":"","ref":"LightningWeb.html#verified_routes/0"},{"type":"function","title":"LightningWeb.view/0","doc":"","ref":"LightningWeb.html#view/0"},{"type":"module","title":"LightningWeb.AccountConfirmationModal","doc":"A LiveView component for displaying an account confirmation modal.\n\nThis component is responsible for informing users that access to their\naccounts, projects, and workflows is restricted until they confirm\ntheir account. It provides functionality to resend the confirmation\nemail and allows users to update their email address if needed.","ref":"LightningWeb.AccountConfirmationModal.html"},{"type":"module","title":"Features - LightningWeb.AccountConfirmationModal","doc":"- Displays a modal with instructions for account confirmation.\n- Allows users to resend the confirmation email.\n- Provides feedback when the confirmation email is successfully sent.\n- Allows users to navigate to the profile page to update their email address.","ref":"LightningWeb.AccountConfirmationModal.html#module-features"},{"type":"module","title":"Usage - LightningWeb.AccountConfirmationModal","doc":"Include this component in your LiveView template where you need to prompt\nusers to confirm their account. The component determines whether the modal\nshould be shown based on the current view context.","ref":"LightningWeb.AccountConfirmationModal.html#module-usage"},{"type":"module","title":"Examples - LightningWeb.AccountConfirmationModal","doc":"<.live_component\n      module={LightningWeb.AccountConfirmationModal}\n      id=\"account-confirmation-modal\"\n      current_user={@current_user}\n    />\n\nThe component uses assigns to manage its state, including:\n\n- `:show_modal` - Determines if the modal should be visible.\n- `:email_sent` - Indicates if the confirmation email was successfully sent.","ref":"LightningWeb.AccountConfirmationModal.html#module-examples"},{"type":"module","title":"LightningWeb.AiAssistant.Component","doc":"LiveView component for AI-powered assistance.\n\nProvides an interactive chat interface supporting multiple AI modes,\nreal-time message processing, and session management.","ref":"LightningWeb.AiAssistant.Component.html"},{"type":"function","title":"LightningWeb.AiAssistant.Component.formatted_content/1","doc":"","ref":"LightningWeb.AiAssistant.Component.html#formatted_content/1"},{"type":"function","title":"Attributes - LightningWeb.AiAssistant.Component.formatted_content/1","doc":"* `id` (`:string`) (required)\n* `content` (`:string`) (required)\n* `attributes` (`:map`) - Defaults to `%{}`.","ref":"LightningWeb.AiAssistant.Component.html#formatted_content/1-attributes"},{"type":"module","title":"LightningWeb.AiAssistant.Quotes","doc":"Quotes about AI and human responsibility for the AI Assistant onboarding.","ref":"LightningWeb.AiAssistant.Quotes.html"},{"type":"type","title":"LightningWeb.AiAssistant.Quotes.quote/0","doc":"","ref":"LightningWeb.AiAssistant.Quotes.html#t:quote/0"},{"type":"function","title":"LightningWeb.AiAssistant.Quotes.enabled/0","doc":"Returns enabled quotes only.","ref":"LightningWeb.AiAssistant.Quotes.html#enabled/0"},{"type":"function","title":"LightningWeb.AiAssistant.Quotes.random_enabled/0","doc":"Returns a random enabled quote.","ref":"LightningWeb.AiAssistant.Quotes.html#random_enabled/0"},{"type":"module","title":"LightningWeb.AiAssistantChannel","doc":"Phoenix Channel for AI Assistant communication in the collaborative editor.\n\nSupports two session types:\n- job_code: AI assistance for individual job implementation\n- workflow_template: AI-powered workflow generation","ref":"LightningWeb.AiAssistantChannel.html"},{"type":"module","title":"Topics - LightningWeb.AiAssistantChannel","doc":"- \"ai_assistant:job_code:{session_id}\"\n- \"ai_assistant:workflow_template:{session_id}\"","ref":"LightningWeb.AiAssistantChannel.html#module-topics"},{"type":"function","title":"LightningWeb.AiAssistantChannel.child_spec/1","doc":"","ref":"LightningWeb.AiAssistantChannel.html#child_spec/1"},{"type":"function","title":"LightningWeb.AiAssistantChannel.format_changeset_errors/1","doc":"Formats Ecto changeset errors into a flat map structure for API responses.\n\nConverts nested changeset errors into a user-friendly format with interpolated\nvalues and flattened keys for nested associations.","ref":"LightningWeb.AiAssistantChannel.html#format_changeset_errors/1"},{"type":"function","title":"Examples - LightningWeb.AiAssistantChannel.format_changeset_errors/1","doc":"iex> changeset = %Ecto.Changeset{errors: [content: {\"can't be blank\", []}]}\n    iex> format_changeset_errors(changeset)\n    %{\"content\" => [\"can't be blank\"]}\n\n    iex> changeset = %Ecto.Changeset{\n    ...>   errors: [\n    ...>     content: {\"should be at least %{count} character(s)\", [count: 5]}\n    ...>   ]\n    ...> }\n    iex> format_changeset_errors(changeset)\n    %{\"content\" => [\"should be at least 5 character(s)\"]}","ref":"LightningWeb.AiAssistantChannel.html#format_changeset_errors/1-examples"},{"type":"function","title":"Nested Association Errors - LightningWeb.AiAssistantChannel.format_changeset_errors/1","doc":"For nested associations (e.g., has_many relationships), errors are flattened\nusing bracket notation:\n\n    %{\"jobs[0].name\" => [\"can't be blank\"], \"jobs[1].adaptor\" => [\"is invalid\"]}","ref":"LightningWeb.AiAssistantChannel.html#format_changeset_errors/1-nested-association-errors"},{"type":"function","title":"Parameters - LightningWeb.AiAssistantChannel.format_changeset_errors/1","doc":"* `changeset` - An Ecto.Changeset with validation errors","ref":"LightningWeb.AiAssistantChannel.html#format_changeset_errors/1-parameters"},{"type":"function","title":"Returns - LightningWeb.AiAssistantChannel.format_changeset_errors/1","doc":"A map with string keys (field names) and list values (error messages).\nReturns an empty map if the changeset has no errors.","ref":"LightningWeb.AiAssistantChannel.html#format_changeset_errors/1-returns"},{"type":"function","title":"LightningWeb.AiAssistantChannel.start_link/1","doc":"","ref":"LightningWeb.AiAssistantChannel.html#start_link/1"},{"type":"module","title":"LightningWeb.AuditLive.Index","doc":"LiveView for listing Audit events","ref":"LightningWeb.AuditLive.Index.html"},{"type":"function","title":"LightningWeb.AuditLive.Index.diff/1","doc":"","ref":"LightningWeb.AuditLive.Index.html#diff/1"},{"type":"function","title":"LightningWeb.AuditLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.AuditLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.AuthProvidersLive.FormComponent","doc":"Form Component for working with a single Job\n\nA Job's `adaptor` field is a combination of the module name and the version.\nIt's formatted as an NPM style string.\n\nThe form allows the user to select a module by name and then it's version,\nwhile the version dropdown itself references `adaptor` directly.\n\nMeaning the `adaptor_name` dropdown and assigns value is not persisted.","ref":"LightningWeb.AuthProvidersLive.FormComponent.html"},{"type":"module","title":"LightningWeb.AuthProvidersLive.Index","doc":"LiveView for listing and managing Projects","ref":"LightningWeb.AuthProvidersLive.Index.html"},{"type":"module","title":"LightningWeb.BackupCodesController","doc":"","ref":"LightningWeb.BackupCodesController.html"},{"type":"function","title":"LightningWeb.BackupCodesController.print/2","doc":"","ref":"LightningWeb.BackupCodesController.html#print/2"},{"type":"module","title":"LightningWeb.BackupCodesLive.Index","doc":"LiveView for user backup codes.","ref":"LightningWeb.BackupCodesLive.Index.html"},{"type":"function","title":"LightningWeb.BackupCodesLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.BackupCodesLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.ChangesetJSON","doc":"Renders changesets as JSON.","ref":"LightningWeb.ChangesetJSON.html"},{"type":"function","title":"LightningWeb.ChangesetJSON.errors/1","doc":"","ref":"LightningWeb.ChangesetJSON.html#errors/1"},{"type":"module","title":"LightningWeb.ChangesetView","doc":"","ref":"LightningWeb.ChangesetView.html"},{"type":"function","title":"LightningWeb.ChangesetView.__resource__/0","doc":"The resource name, as an atom, for this view","ref":"LightningWeb.ChangesetView.html#__resource__/0"},{"type":"function","title":"LightningWeb.ChangesetView.render/2","doc":"Renders the given template locally.","ref":"LightningWeb.ChangesetView.html#render/2"},{"type":"function","title":"LightningWeb.ChangesetView.template_not_found/2","doc":"Callback invoked when no template is found.\nBy default it raises but can be customized\nto render a particular template.","ref":"LightningWeb.ChangesetView.html#template_not_found/2"},{"type":"module","title":"LightningWeb.ChannelHelpers","doc":"Helper functions for channels","ref":"LightningWeb.ChannelHelpers.html"},{"type":"function","title":"LightningWeb.ChannelHelpers.reply_with/2","doc":"","ref":"LightningWeb.ChannelHelpers.html#reply_with/2"},{"type":"module","title":"LightningWeb.Channels.AiAssistantJSON","doc":"Renders AI Assistant data structures for channels and controllers.\n\nProvides consistent JSON formatting for chat sessions across the API\ncontroller and Phoenix channel.","ref":"LightningWeb.Channels.AiAssistantJSON.html"},{"type":"function","title":"LightningWeb.Channels.AiAssistantJSON.format_session/1","doc":"Formats a chat session for API/channel responses.\n\nReturns a map with session metadata including type-specific fields\n(job_name/workflow_name for job_code, project_name/workflow_name for workflow_template).","ref":"LightningWeb.Channels.AiAssistantJSON.html#format_session/1"},{"type":"function","title":"Examples - LightningWeb.Channels.AiAssistantJSON.format_session/1","doc":"iex> format_session(session)\n    %{\n      id: \"uuid\",\n      title: \"Session title\",\n      session_type: \"job_code\",\n      message_count: 5,\n      updated_at: ~U[2024-01-01 00:00:00Z],\n      job_name: \"My Job\",\n      workflow_name: \"My Workflow\"\n    }","ref":"LightningWeb.Channels.AiAssistantJSON.html#format_session/1-examples"},{"type":"function","title":"LightningWeb.Channels.AiAssistantJSON.format_sessions/1","doc":"Formats a list of chat sessions.","ref":"LightningWeb.Channels.AiAssistantJSON.html#format_sessions/1"},{"type":"module","title":"LightningWeb.Channels.WorkflowJSON","doc":"Renders workflow collaboration data structures for channels and LiveViews.","ref":"LightningWeb.Channels.WorkflowJSON.html"},{"type":"function","title":"LightningWeb.Channels.WorkflowJSON.render/1","doc":"Renders credentials as a map with separate project and keychain credentials.","ref":"LightningWeb.Channels.WorkflowJSON.html#render/1"},{"type":"module","title":"LightningWeb.CollectionLive.CollectionCreationModal","doc":"","ref":"LightningWeb.CollectionLive.CollectionCreationModal.html"},{"type":"module","title":"LightningWeb.CollectionLive.Components","doc":"","ref":"LightningWeb.CollectionLive.Components.html"},{"type":"function","title":"LightningWeb.CollectionLive.Components.collections_table/1","doc":"","ref":"LightningWeb.CollectionLive.Components.html#collections_table/1"},{"type":"module","title":"LightningWeb.CollectionLive.Index","doc":"","ref":"LightningWeb.CollectionLive.Index.html"},{"type":"module","title":"LightningWeb.CollectionsController","doc":"","ref":"LightningWeb.CollectionsController.html"},{"type":"function","title":"LightningWeb.CollectionsController.delete/2","doc":"","ref":"LightningWeb.CollectionsController.html#delete/2"},{"type":"function","title":"LightningWeb.CollectionsController.delete_all/2","doc":"","ref":"LightningWeb.CollectionsController.html#delete_all/2"},{"type":"function","title":"LightningWeb.CollectionsController.get/2","doc":"","ref":"LightningWeb.CollectionsController.html#get/2"},{"type":"function","title":"LightningWeb.CollectionsController.put/2","doc":"","ref":"LightningWeb.CollectionsController.html#put/2"},{"type":"function","title":"LightningWeb.CollectionsController.put_all/2","doc":"","ref":"LightningWeb.CollectionsController.html#put_all/2"},{"type":"function","title":"LightningWeb.CollectionsController.stream/2","doc":"","ref":"LightningWeb.CollectionsController.html#stream/2"},{"type":"module","title":"LightningWeb.CollectionsController.ChunkAcc","doc":"","ref":"LightningWeb.CollectionsController.ChunkAcc.html"},{"type":"module","title":"LightningWeb.Components.Loaders","doc":"UI component to render a pill to create tags.","ref":"LightningWeb.Components.Loaders.html"},{"type":"function","title":"LightningWeb.Components.Loaders.button_loader/1","doc":"","ref":"LightningWeb.Components.Loaders.html#button_loader/1"},{"type":"function","title":"Slots - LightningWeb.Components.Loaders.button_loader/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Loaders.html#button_loader/1-slots"},{"type":"function","title":"LightningWeb.Components.Loaders.offline_indicator/1","doc":"","ref":"LightningWeb.Components.Loaders.html#offline_indicator/1"},{"type":"function","title":"LightningWeb.Components.Loaders.text_ping_loader/1","doc":"","ref":"LightningWeb.Components.Loaders.html#text_ping_loader/1"},{"type":"function","title":"Slots - LightningWeb.Components.Loaders.text_ping_loader/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Loaders.html#text_ping_loader/1-slots"},{"type":"module","title":"LightningWeb.Components.Menu","doc":"Menu components to render menu items for project and user/profile pages.","ref":"LightningWeb.Components.Menu.html"},{"type":"function","title":"LightningWeb.Components.Menu.menu_item/1","doc":"","ref":"LightningWeb.Components.Menu.html#menu_item/1"},{"type":"function","title":"LightningWeb.Components.Menu.profile_items/1","doc":"","ref":"LightningWeb.Components.Menu.html#profile_items/1"},{"type":"function","title":"LightningWeb.Components.Menu.project_items/1","doc":"","ref":"LightningWeb.Components.Menu.html#project_items/1"},{"type":"module","title":"LightningWeb.Components.Modal","doc":"A modal component that can be used to display a modal on the page.\n\nThis currently isn't used anywhere but should be used in the future to\nreplace the existing modal implementations.","ref":"LightningWeb.Components.Modal.html"},{"type":"function","title":"LightningWeb.Components.Modal.hide_modal/2","doc":"","ref":"LightningWeb.Components.Modal.html#hide_modal/2"},{"type":"function","title":"LightningWeb.Components.Modal.modal/1","doc":"","ref":"LightningWeb.Components.Modal.html#modal/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Modal.modal/1","doc":"* `id` (`:string`) (required)\n* `show` (`:boolean`) - Defaults to `false`.\n* `position` (`:string`) - Defaults to `\"fixed inset-0\"`.\n* `width` (`:string`) - Defaults to `\"max-w-3xl\"`.\n* `close_on_click_away` (`:boolean`) - Defaults to `true`.\n* `close_on_keydown` (`:boolean`) - Defaults to `true`.\n* `on_close` (`Phoenix.LiveView.JS`) - Defaults to `%Phoenix.LiveView.JS{ops: []}`.\n* `on_open` (`Phoenix.LiveView.JS`) - Defaults to `%Phoenix.LiveView.JS{ops: []}`.\n* Global attributes are accepted.","ref":"LightningWeb.Components.Modal.html#modal/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Modal.modal/1","doc":"* `inner_block` (required)\n* `title`\n* `subtitle`\n* `footer` - Accepts attributes:\n\n  * `class` (`:string`)","ref":"LightningWeb.Components.Modal.html#modal/1-slots"},{"type":"function","title":"LightningWeb.Components.Modal.modal_footer/1","doc":"","ref":"LightningWeb.Components.Modal.html#modal_footer/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Modal.modal_footer/1","doc":"* `class` (`:any`) - Defaults to `\"sm:flex sm:flex-row-reverse gap-3\"`.","ref":"LightningWeb.Components.Modal.html#modal_footer/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Modal.modal_footer/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Modal.html#modal_footer/1-slots"},{"type":"function","title":"LightningWeb.Components.Modal.modal_title/1","doc":"","ref":"LightningWeb.Components.Modal.html#modal_title/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Modal.modal_title/1","doc":"* Global attributes are accepted.","ref":"LightningWeb.Components.Modal.html#modal_title/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Modal.modal_title/1","doc":"* `subtitle`\n* `inner_block` (required)","ref":"LightningWeb.Components.Modal.html#modal_title/1-slots"},{"type":"function","title":"LightningWeb.Components.Modal.show_modal/2","doc":"","ref":"LightningWeb.Components.Modal.html#show_modal/2"},{"type":"module","title":"LightningWeb.Components.NewInputs","doc":"A temporary module that will serve as a place to put new inputs that conform\nwith the newer CoreComponents conventions introduced in Phoenix 1.7.","ref":"LightningWeb.Components.NewInputs.html"},{"type":"function","title":"LightningWeb.Components.NewInputs.button/1","doc":"Renders a button.","ref":"LightningWeb.Components.NewInputs.html#button/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.button/1","doc":"* `:type` - The type of the button. Defaults to `\"button\"`. Acceptable values are:\n    * `\"button\"`\n    * `\"submit\"`\n\n  * `:class` - Additional CSS classes to apply to the button. Defaults to an empty string.\n\n  * `:theme` - The theme of the button. Acceptable values are:\n    * `\"primary\"`\n    * `\"secondary\"`\n    * `\"danger\"`\n    * `\"success\"`\n    * `\"warning\"`\n    * `\"custom\"`\n\n  * `:size` - The padding size of the button. Defaults to `\"md\"`. Acceptable values are:\n    * `\"sm\"` - Small\n    * `\"md\"` - Medium\n    * `\"lg\"` - Large\n\n  * `:tooltip` - A tooltip to display when the button is disabled. Defaults to `nil`.\n\n  * `:rest` - Any additional global attributes (e.g., `id`, `disabled`, `form`, `name`, `value`) that should be applied to the button.","ref":"LightningWeb.Components.NewInputs.html#button/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.button/1","doc":"* `:inner_block` (required) - The content to render inside the button.","ref":"LightningWeb.Components.NewInputs.html#button/1-slots"},{"type":"function","title":"Examples - LightningWeb.Components.NewInputs.button/1","doc":"Basic button:\n\n```heex\n<.button>Click me</.button>\n```\n\nButton with a click event:\n\n```heex\n<.button phx-click=\"submit_form\">Submit</.button>\n```\n\nButton with a custom class:\n\n```heex\n<.button class=\"ml-4\">Custom Button</.button>\n```\n\nButton with a theme:\n\n```heex\n<.button theme=\"primary\">Primary Button</.button>\n<.button theme=\"danger\">Danger Button</.button>\n```\n\nButton with a size:\n\n```heex\n<.button size=\"sm\">Small Button</.button>\n<.button size=\"lg\">Large Button</.button>\n```\n\nButton with a tooltip (visible when disabled):\n\n```heex\n<.button disabled={true} tooltip=\"You cannot click this button right now\">\n  Disabled Button\n</.button>\n```\n\nButton with additional attributes:\n\n```heex\n<.button id=\"my-button\" name=\"action\" value=\"save\" phx-click=\"save_data\">\n  Save\n</.button>\n```","ref":"LightningWeb.Components.NewInputs.html#button/1-examples"},{"type":"function","title":"Notes - LightningWeb.Components.NewInputs.button/1","doc":"* The `theme` attribute applies predefined styles to the button. If you use the `\"custom\"` theme, no theme-specific styles will be applied, allowing you to fully customize the button using the `:class` attribute.\n  * The `size` attribute adjusts the padding and dimensions of the button.\n  * If the `tooltip` attribute is provided and the button is disabled, a tooltip will be displayed to explain why the button is not clickable.","ref":"LightningWeb.Components.NewInputs.html#button/1-notes"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.button/1","doc":"* `type` (`:string`) - Defaults to `\"button\"`. Must be one of `\"button\"`, or `\"submit\"`.\n* `class` (`:any`) - Defaults to `\"\"`.\n* `theme` (`:string`) - Must be one of `\"primary\"`, `\"secondary\"`, `\"danger\"`, `\"success\"`, `\"warning\"`, or `\"custom\"`.\n* `size` (`:string`) - Defaults to `\"md\"`. Must be one of `\"sm\"`, `\"md\"`, or `\"lg\"`.\n* `tooltip` (`:any`) - Defaults to `nil`.\n* Global attributes are accepted. Supports all globals plus: `[\"id\", \"disabled\", \"form\", \"name\", \"value\"]`.","ref":"LightningWeb.Components.NewInputs.html#button/1-attributes-1"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.button/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.NewInputs.html#button/1-slots-1"},{"type":"function","title":"LightningWeb.Components.NewInputs.button_link/1","doc":"Renders a link, styled like a button.\n\nFor available options, see `Phoenix.Component.link/1`.","ref":"LightningWeb.Components.NewInputs.html#button_link/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.button_link/1","doc":"* `class` (`:any`) - Defaults to `\"\"`.\n* `theme` (`:string`) (required) - Must be one of `\"primary\"`, `\"secondary\"`, `\"danger\"`, `\"success\"`, `\"warning\"`, or `\"custom\"`.\n* `size` (`:string`) - Defaults to `\"md\"`. Must be one of `\"sm\"`, `\"md\"`, or `\"lg\"`.\n* `disabled` (`:boolean`) - If true, renders a disabled button that cannot be clicked. Defaults to `false`.\n* Global attributes are accepted. Supports all globals plus: `[\"id\", \"href\", \"patch\", \"navigate\", \"replace\", \"method\", \"csrf_token\", \"download\", \"hreflang\", \"referrerpolicy\", \"rel\", \"target\", \"type\"]`.","ref":"LightningWeb.Components.NewInputs.html#button_link/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.button_link/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.NewInputs.html#button_link/1-slots"},{"type":"function","title":"LightningWeb.Components.NewInputs.checkbox_element/1","doc":"Renders a checkbox input element.\n\nThis function is used internally by `input/1` and generally should not\nbe used directly.\n\nLook at `input type=\"checkbox\"` to see how these values `attr` get populated","ref":"LightningWeb.Components.NewInputs.html#checkbox_element/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.checkbox_element/1","doc":"* `id` (`:string`) - Defaults to `nil`.\n* `name` (`:string`) (required)\n* `value` (`:any`) (required)\n* `class` (`:string`)\n* `checked` (`:boolean`) - the checked flag for checkbox inputs.\n* `checked_value` (`:any`) - Defaults to `\"true\"`.\n* `unchecked_value` (`:any`) - Defaults to `\"false\"`.\n* `hidden_input` (`:boolean`) - Defaults to `true`.\n* Global attributes are accepted. Supports all globals plus: `[\"disabled\", \"form\", \"readonly\", \"required\"]`.","ref":"LightningWeb.Components.NewInputs.html#checkbox_element/1-attributes"},{"type":"function","title":"LightningWeb.Components.NewInputs.error/1","doc":"Generates a generic error message.","ref":"LightningWeb.Components.NewInputs.html#error/1"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.error/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.NewInputs.html#error/1-slots"},{"type":"function","title":"LightningWeb.Components.NewInputs.errors/1","doc":"Generic wrapper for rendering error messages in custom input components.","ref":"LightningWeb.Components.NewInputs.html#errors/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.errors/1","doc":"* `field` (`Phoenix.HTML.FormField`) (required)","ref":"LightningWeb.Components.NewInputs.html#errors/1-attributes"},{"type":"function","title":"LightningWeb.Components.NewInputs.form_hidden_inputs/1","doc":"Generates hidden inputs for a form.\nAdapted from [PhoenixHTMLHelpers.Form.html#hidden_inputs_for/1](https://github.com/phoenixframework/phoenix_html_helpers/blob/v1.0.1/lib/phoenix_html_helpers/form.ex#L406)","ref":"LightningWeb.Components.NewInputs.html#form_hidden_inputs/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.form_hidden_inputs/1","doc":"* `form` (`Phoenix.HTML.Form`) (required)","ref":"LightningWeb.Components.NewInputs.html#form_hidden_inputs/1-attributes"},{"type":"function","title":"LightningWeb.Components.NewInputs.input/1","doc":"Renders an input with label and error messages.\n\nA `Phoenix.HTML.FormField` may be passed as argument,\nwhich is used to retrieve the input name, id, and values.\nOtherwise all attributes may be passed explicitly.","ref":"LightningWeb.Components.NewInputs.html#input/1"},{"type":"function","title":"Types - LightningWeb.Components.NewInputs.input/1","doc":"This function accepts all HTML input types, considering that:\n\n  * You may also set `type=\"select\"` to render a ` ` tag\n\n  * `type=\"checkbox\"` is used exclusively to render boolean values\n\n  * `type=\"tag\"` renders a tag input with comma-separated values\n\n  * For live file uploads, see `Phoenix.Component.live_file_input/1`\n\nSee https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input\nfor more information.","ref":"LightningWeb.Components.NewInputs.html#input/1-types"},{"type":"function","title":"Examples - LightningWeb.Components.NewInputs.input/1","doc":"<.input field={@form[:email]} type=\"email\" />\n    <.input name=\"my-input\" errors={[\"oh no!\"]} />\n    <.input field={@form[:tags]} type=\"tag\" />","ref":"LightningWeb.Components.NewInputs.html#input/1-examples"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.input/1","doc":"* `id` (`:any`) - Defaults to `nil`.\n* `name` (`:any`)\n* `label` (`:string`) - Defaults to `nil`.\n* `sublabel` (`:string`) - Defaults to `nil`.\n* `value` (`:any`)\n* `type` (`:string`) - Defaults to `\"text\"`. Must be one of `\"checkbox\"`, `\"color\"`, `\"date\"`, `\"datetime-local\"`, `\"email\"`, `\"file\"`, `\"hidden\"`, `\"month\"`, `\"number\"`, `\"password\"`, `\"range\"`, `\"radio\"`, `\"search\"`, `\"select\"`, `\"custom-select\"`, `\"tag\"`, `\"tel\"`, `\"text\"`, `\"textarea\"`, `\"codearea\"`, `\"time\"`, `\"url\"`, `\"week\"`, `\"toggle\"`, or `\"integer-toggle\"`.\n* `field` (`Phoenix.HTML.FormField`) - a form field struct retrieved from the form, for example: @form[:email].\n* `errors` (`:list`) - Defaults to `[]`.\n* `checked` (`:boolean`) - the checked flag for checkbox/radio inputs.\n* `checked_value` (`:any`) - the value to be sent when the checkbox is checked. Defaults to 'true'. Defaults to `\"true\"`.\n* `unchecked_value` (`:any`) - the value to be sent when the checkbox is unchecked, Defaults to 'false'. Defaults to `\"false\"`.\n* `hidden_input` (`:boolean`) - controls if this function will generate a hidden input to submit the unchecked value or not. Defaults to 'true'. Defaults to `true`.\n* `prompt` (`:string`) - the prompt for select inputs. Defaults to `nil`.\n* `options` (`:list`) - the options to pass to Phoenix.HTML.Form.options_for_select/2.\n* `multiple` (`:boolean`) - the multiple flag for select inputs. Defaults to `false`.\n* `button_placement` (`:string`) - Defaults to `nil`.\n* `placeholder` (`:string`) - Defaults to `\"\"`.\n* `class` (`:string`) - Defaults to `\"\"`.\n* `stretch` (`:boolean`) - control the wrapping div classes of some components like the textarea. Defaults to `false`.\n* `display_errors` (`:boolean`) - Defaults to `true`.\n* `tooltip` (`:any`) - Defaults to `nil`.\n* `on_click` (`:string`) - Defaults to `nil`.\n* `value_key` (`:any`) - Defaults to `nil`.\n* `standalone` (`:boolean`) - indicates if the tag input operates independently of a form's validation flow. Defaults to `false`.\n* Global attributes are accepted. Supports all globals plus: `[\"accept\", \"autocomplete\", \"capture\", \"cols\", \"disabled\", \"form\", \"list\", \"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"size\", \"step\"]`.","ref":"LightningWeb.Components.NewInputs.html#input/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.input/1","doc":"* `inner_block`","ref":"LightningWeb.Components.NewInputs.html#input/1-slots"},{"type":"function","title":"LightningWeb.Components.NewInputs.input_element/1","doc":"Renders an input element.\n\nThis function is used internally by `input/1` and generally should not\nbe used directly.\n\nIn the case of inputs that are different enough to warrant a new function,\nthis component can be used to maintain style consistency.","ref":"LightningWeb.Components.NewInputs.html#input_element/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.input_element/1","doc":"* `id` (`:string`) - Defaults to `nil`.\n* `name` (`:string`) (required)\n* `type` (`:string`) (required)\n* `value` (`:any`)\n* `errors` (`:list`) - Defaults to `[]`.\n* `class` (`:string`) - Defaults to `\"\"`.\n* Global attributes are accepted. Supports all globals plus: `[\"accept\", \"autocomplete\", \"capture\", \"cols\", \"disabled\", \"form\", \"list\", \"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"size\", \"step\"]`.","ref":"LightningWeb.Components.NewInputs.html#input_element/1-attributes"},{"type":"function","title":"LightningWeb.Components.NewInputs.label/1","doc":"Renders a label.","ref":"LightningWeb.Components.NewInputs.html#label/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.label/1","doc":"* `for` (`:any`) - Defaults to `nil`.\n* `class` (`:any`) - Defaults to `\"\"`.\n* Global attributes are accepted.","ref":"LightningWeb.Components.NewInputs.html#label/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.label/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.NewInputs.html#label/1-slots"},{"type":"function","title":"LightningWeb.Components.NewInputs.simple_button_with_tooltip/1","doc":"","ref":"LightningWeb.Components.NewInputs.html#simple_button_with_tooltip/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.simple_button_with_tooltip/1","doc":"* `tooltip` (`:any`) - Defaults to `nil`.\n* Global attributes are accepted. Supports all globals plus: `[\"id\", \"disabled\", \"form\", \"name\", \"value\", \"class\", \"type\"]`.","ref":"LightningWeb.Components.NewInputs.html#simple_button_with_tooltip/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.NewInputs.simple_button_with_tooltip/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.NewInputs.html#simple_button_with_tooltip/1-slots"},{"type":"function","title":"LightningWeb.Components.NewInputs.textarea_element/1","doc":"Renders a textarea element.\n\nThis function is used internally by `input/1` and generally should not\nbe used directly.\n\nLook at `input type=\"textarea\"` to see how these values `attr` get populated","ref":"LightningWeb.Components.NewInputs.html#textarea_element/1"},{"type":"function","title":"Attributes - LightningWeb.Components.NewInputs.textarea_element/1","doc":"* `id` (`:string`) - Defaults to `nil`.\n* `name` (`:string`) (required)\n* `value` (`:any`)\n* `errors` (`:list`) - Defaults to `[]`.\n* `class` (`:any`) - Defaults to `\"\"`.\n* Global attributes are accepted. Supports all globals plus: `[\"accept\", \"autocomplete\", \"capture\", \"cols\", \"disabled\", \"form\", \"list\", \"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"size\", \"step\"]`.","ref":"LightningWeb.Components.NewInputs.html#textarea_element/1-attributes"},{"type":"module","title":"LightningWeb.Components.Oauth","doc":"OAuth-related UI components for Lightning credentials.\n\nThis module provides components for OAuth authentication flows, including\nscope selection, user information display, and error handling with\nstructured error messages based on validation results.","ref":"LightningWeb.Components.Oauth.html"},{"type":"function","title":"LightningWeb.Components.Oauth.missing_client_warning/1","doc":"Displays a warning alert when the OAuth client configuration is missing.\n\nThis component shows an error message when the OAuth client associated with\na credential cannot be found, typically due to misconfiguration or deletion.","ref":"LightningWeb.Components.Oauth.html#missing_client_warning/1"},{"type":"function","title":"Examples - LightningWeb.Components.Oauth.missing_client_warning/1","doc":"<.missing_client_warning />","ref":"LightningWeb.Components.Oauth.html#missing_client_warning/1-examples"},{"type":"function","title":"LightningWeb.Components.Oauth.oauth_status/1","doc":"Renders the OAuth authentication status and flow UI.\n\nThis component manages the complete OAuth authentication flow, displaying\ndifferent UI states based on the authentication progress. It handles initial\nauthorization, loading states, success states with user information, and\nvarious error conditions.","ref":"LightningWeb.Components.Oauth.html#oauth_status/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Oauth.oauth_status/1","doc":"* `:state` - Current authentication state (`:idle`, `:authenticating`, `:fetching_userinfo`, `:complete`, `:error`)\n  * `:provider` - OAuth provider name (e.g., \"Google\", \"GitHub\")\n  * `:myself` - Phoenix LiveView socket reference for event handling\n  * `:authorize_url` - OAuth authorization URL (required when state is `:idle` or `:error`)\n  * `:userinfo` - User information map from OAuth provider (required when state is `:complete`)\n  * `:error` - Error information (required when state is `:error`)\n  * `:scopes_changed` - Boolean indicating if selected scopes have changed since last authorization","ref":"LightningWeb.Components.Oauth.html#oauth_status/1-attributes"},{"type":"function","title":"States - LightningWeb.Components.Oauth.oauth_status/1","doc":"* `:idle` - Initial state, shows authorize button\n  * `:authenticating` - OAuth flow in progress\n  * `:fetching_userinfo` - Retrieving user details from provider\n  * `:complete` - Successfully authenticated\n  * `:error` - Authentication failed","ref":"LightningWeb.Components.Oauth.html#oauth_status/1-states"},{"type":"function","title":"Examples - LightningWeb.Components.Oauth.oauth_status/1","doc":"<.oauth_status\n      state={:complete}\n      provider=\"Google\"\n      myself={@myself}\n      userinfo={%{\"name\" => \"John Doe\", \"email\" => \"john@example.com\"}}\n      scopes_changed={false}\n    />\n\n    <.oauth_status\n      state={:error}\n      provider=\"GitHub\"\n      myself={@myself}\n      authorize_url=\"https://github.com/login/oauth/authorize?...\"\n      error={:invalid_token}\n      scopes_changed={false}\n    />","ref":"LightningWeb.Components.Oauth.html#oauth_status/1-examples"},{"type":"function","title":"Attributes - LightningWeb.Components.Oauth.oauth_status/1","doc":"* `state` (`:atom`) (required)\n* `provider` (`:string`) (required)\n* `myself` (`:any`) (required)\n* `authorize_url` (`:string`) - Defaults to `nil`.\n* `userinfo` (`:map`) - Defaults to `nil`.\n* `error` (`:any`) - Defaults to `nil`.\n* `scopes_changed` (`:boolean`) - Defaults to `false`.\n* `socket` (`:any`) - Defaults to `nil`.","ref":"LightningWeb.Components.Oauth.html#oauth_status/1-attributes-1"},{"type":"function","title":"LightningWeb.Components.Oauth.scopes_picklist/1","doc":"Renders a scope selection interface for OAuth permissions.\n\nThis component displays a list of OAuth scopes as checkboxes, allowing users\nto select which permissions they want to grant. Mandatory scopes are automatically\nchecked and disabled to prevent deselection.","ref":"LightningWeb.Components.Oauth.html#scopes_picklist/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Oauth.scopes_picklist/1","doc":"* `:id` - Unique identifier for the component\n  * `:on_change` - Event handler for scope selection changes\n  * `:target` - Phoenix LiveView target for events\n  * `:selected_scopes` - List of currently selected scope strings\n  * `:mandatory_scopes` - List of required scope strings that cannot be deselected\n  * `:scopes` - Complete list of available scope strings\n  * `:provider` - OAuth provider name (e.g., \"Google\", \"GitHub\")\n  * `:doc_url` - Optional URL to provider's scope documentation\n  * `:disabled` - Whether all checkboxes should be disabled","ref":"LightningWeb.Components.Oauth.html#scopes_picklist/1-attributes"},{"type":"function","title":"Examples - LightningWeb.Components.Oauth.scopes_picklist/1","doc":"<.scopes_picklist\n      id=\"google-scopes\"\n      on_change=\"scope_changed\"\n      target={@myself}\n      selected_scopes={[\"read\", \"write\"]}\n      mandatory_scopes={[\"read\"]}\n      scopes={[\"read\", \"write\", \"admin\"]}\n      provider=\"Google\"\n      doc_url=\"https://developers.google.com/identity/protocols/oauth2/scopes\"\n      disabled={false}\n    />","ref":"LightningWeb.Components.Oauth.html#scopes_picklist/1-examples"},{"type":"function","title":"Attributes - LightningWeb.Components.Oauth.scopes_picklist/1","doc":"* `id` (`:string`) (required)\n* `on_change` (`:any`) (required)\n* `target` (`:any`) (required)\n* `selected_scopes` (`:list`) (required)\n* `mandatory_scopes` (`:list`) (required)\n* `scopes` (`:list`) (required)\n* `provider` (`:string`) (required)\n* `doc_url` (`:string`) - Defaults to `nil`.\n* `disabled` (`:boolean`) - Defaults to `false`.","ref":"LightningWeb.Components.Oauth.html#scopes_picklist/1-attributes-1"},{"type":"module","title":"LightningWeb.Components.Pills","doc":"UI component to render a pill to create tags.","ref":"LightningWeb.Components.Pills.html"},{"type":"function","title":"LightningWeb.Components.Pills.filter_badge/1","doc":"Renders a filter badge with a close button.","ref":"LightningWeb.Components.Pills.html#filter_badge/1"},{"type":"function","title":"Example - LightningWeb.Components.Pills.filter_badge/1","doc":"```\n<.filter_badge\n  form={@filters_changeset}\n  fields={[{:workflow_id, nil}]}\n  id=\"workflow_badge_123\"\n>\n  Workflow: My Workflow\n</.filter_badge>\n\n<.filter_badge\n  form={@filters_changeset}\n  fields={[{:wo_date_after, nil}, {:wo_date_before, nil}]}\n  id=\"workorder_date_badge\"\n>\n  Date range: * - *\n</.filter_badge>\n```","ref":"LightningWeb.Components.Pills.html#filter_badge/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Pills.filter_badge/1","doc":"* `form` (`:any`) (required) - The form changeset.\n* `fields` (`:list`) (required) - List of {field_name, field_value} tuples representing the fields to reset.\n* `id` (`:string`) (required) - Unique ID for the badge.","ref":"LightningWeb.Components.Pills.html#filter_badge/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Pills.filter_badge/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Pills.html#filter_badge/1-slots"},{"type":"function","title":"LightningWeb.Components.Pills.pill/1","doc":"Renders a pill with a color.","ref":"LightningWeb.Components.Pills.html#pill/1"},{"type":"function","title":"Example - LightningWeb.Components.Pills.pill/1","doc":"```\n<.pill color=\"red\">\n  Red pill\n</.pill>","ref":"LightningWeb.Components.Pills.html#pill/1-example"},{"type":"function","title":"Colors - LightningWeb.Components.Pills.pill/1","doc":"- `gray` **default**\n- `red`\n- `yellow`\n- `green`\n- `blue`\n- `indigo`\n- `purple`\n- `pink`","ref":"LightningWeb.Components.Pills.html#pill/1-colors"},{"type":"function","title":"Attributes - LightningWeb.Components.Pills.pill/1","doc":"* `color` (`:string`) - Defaults to `\"gray\"`. Must be one of `\"gray\"`, `\"red\"`, `\"yellow\"`, `\"green\"`, `\"blue\"`, `\"indigo\"`, `\"purple\"`, or `\"pink\"`.\n* Global attributes are accepted.","ref":"LightningWeb.Components.Pills.html#pill/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Pills.pill/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Pills.html#pill/1-slots"},{"type":"module","title":"LightningWeb.Components.Table","doc":"A collection of composable table components for building consistent, flexible tables across the Lightning application.\n\nThis module provides a set of table primitives that can be composed together to create tables\nwith consistent styling, sorting capabilities, and pagination support. The components are designed\nto be flexible while maintaining a unified look and feel.","ref":"LightningWeb.Components.Table.html"},{"type":"module","title":"Features - LightningWeb.Components.Table","doc":"- Consistent styling with proper spacing, borders, and hover states\n- Built-in support for pagination\n- Sortable columns with visual indicators\n- Flexible cell content handling\n- Support for header, body, and footer sections\n- Responsive design with proper overflow handling","ref":"LightningWeb.Components.Table.html#module-features"},{"type":"module","title":"Example - LightningWeb.Components.Table","doc":"```elixir\n<.table page={@page} url={@pagination_path}>\n  <:header>\n    <.tr>\n      <.th sortable={true} sort_by=\"name\" active={@sort_key == \"name\"}>\n        Name\n      </.th>\n      <.th>Email</.th>\n    </.tr>\n  </:header>\n  <:body>\n    <%= for user <- @users do %>\n      <.tr>\n        <.td>{user.name}</.td>\n        <.td>{user.email}</.td>\n      </.tr>\n    <% end %>\n  </:body>\n</.table>\n```","ref":"LightningWeb.Components.Table.html#module-example"},{"type":"function","title":"LightningWeb.Components.Table.empty_state/1","doc":"","ref":"LightningWeb.Components.Table.html#empty_state/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.empty_state/1","doc":"* `icon` (`:string`) - Defaults to `\"hero-plus-circle\"`.\n* `message` (`:string`) (required)\n* `button_text` (`:string`) - Defaults to `nil`.\n* `button_id` (`:string`) - Defaults to `nil`.\n* `button_click` (`:any`) - Defaults to `nil`.\n* `button_disabled` (`:boolean`) - Defaults to `false`.\n* `button_target` (`:any`) - Defaults to `nil`.\n* `button_action_value` (`:any`) - Defaults to `nil`.\n* `interactive` (`:boolean`) - Defaults to `true`.\n* Global attributes are accepted.","ref":"LightningWeb.Components.Table.html#empty_state/1-attributes"},{"type":"function","title":"LightningWeb.Components.Table.table/1","doc":"Renders a table container with optional pagination.","ref":"LightningWeb.Components.Table.html#table/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.table/1","doc":"- `:page` - Optional map containing pagination information\n- `:url` - Optional URL or function for pagination links\n- `:id` - Optional HTML id attribute\n- `:class` - Optional additional CSS classes","ref":"LightningWeb.Components.Table.html#table/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Table.table/1","doc":"- `:header` - Content for the table header (thead)\n- `:body` - Content for the table body (tbody)\n- `:footer` - Optional content for the table footer (tfoot)","ref":"LightningWeb.Components.Table.html#table/1-slots"},{"type":"function","title":"Example - LightningWeb.Components.Table.table/1","doc":"```elixir\n<.table page={@page} url={@pagination_path}>\n  <:header>\n    <.tr>\n      <.th>Name</.th>\n      <.th>Email</.th>\n    </.tr>\n  </:header>\n  <:body>\n    <%= for user <- @users do %>\n      <.tr>\n        <.td>{user.name}</.td>\n        <.td>{user.email}</.td>\n      </.tr>\n    <% end %>\n  </:body>\n</.table>\n```","ref":"LightningWeb.Components.Table.html#table/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.table/1","doc":"* `class` (`:string`) - Defaults to `nil`.\n* `page` (`:map`) - Defaults to `nil`.\n* `url` (`:any`) - Defaults to `nil`.\n* `id` (`:string`) - Defaults to `nil`.\n* `divide` (`:boolean`) - Defaults to `true`.","ref":"LightningWeb.Components.Table.html#table/1-attributes-1"},{"type":"function","title":"Slots - LightningWeb.Components.Table.table/1","doc":"* `header`\n* `body`\n* `footer`\n* `pagination_actions`","ref":"LightningWeb.Components.Table.html#table/1-slots-1"},{"type":"function","title":"LightningWeb.Components.Table.td/1","doc":"Renders a table data cell with consistent styling and spacing.","ref":"LightningWeb.Components.Table.html#td/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.td/1","doc":"- `:class` - Optional additional CSS classes\n- `:id` - Optional HTML id attribute\n- `:colspan` - Optional number of columns to span\n- `:rowspan` - Optional number of rows to span","ref":"LightningWeb.Components.Table.html#td/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Table.td/1","doc":"- `:inner_block` - Required content for the data cell","ref":"LightningWeb.Components.Table.html#td/1-slots"},{"type":"function","title":"Example - LightningWeb.Components.Table.td/1","doc":"```elixir\n<.td class=\"wrap-break-word max-w-[25rem]\">\n  {user.name}\n</.td>\n```","ref":"LightningWeb.Components.Table.html#td/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.td/1","doc":"* `class` (`:string`) - Defaults to `nil`.\n* `id` (`:string`) - Defaults to `nil`.\n* Global attributes are accepted. Supports all globals plus: `[\"colspan\", \"rowspan\"]`.","ref":"LightningWeb.Components.Table.html#td/1-attributes-1"},{"type":"function","title":"Slots - LightningWeb.Components.Table.td/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Table.html#td/1-slots-1"},{"type":"function","title":"LightningWeb.Components.Table.th/1","doc":"Renders a table header cell with optional sorting capabilities.","ref":"LightningWeb.Components.Table.html#th/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.th/1","doc":"- `:class` - Optional additional CSS classes\n- `:id` - Optional HTML id attribute\n- `:scope` - HTML scope attribute (default: \"col\")\n- `:colspan` - Optional number of columns to span\n- `:sortable` - Whether the column is sortable (default: false)\n- `:sort_by` - The field to sort by when clicked\n- `:active` - Whether this column is currently being sorted\n- `:sort_direction` - Current sort direction (\"asc\" or \"desc\")\n- `:phx_click` - Phoenix LiveView click event (default: \"sort\")\n- `:phx_target` - Target for the click event","ref":"LightningWeb.Components.Table.html#th/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Table.th/1","doc":"- `:inner_block` - Required content for the header cell","ref":"LightningWeb.Components.Table.html#th/1-slots"},{"type":"function","title":"Example - LightningWeb.Components.Table.th/1","doc":"```elixir\n<.th\n  sortable={true}\n  sort_by=\"name\"\n  active={@sort_key == \"name\"}\n  sort_direction={@sort_direction}\n  phx-target={@myself}\n>\n  Name\n</.th>\n```","ref":"LightningWeb.Components.Table.html#th/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.th/1","doc":"* `class` (`:string`) - Defaults to `nil`.\n* `id` (`:string`) - Defaults to `nil`.\n* `scope` (`:string`) - Defaults to `\"col\"`.\n* `colspan` (`:integer`) - Defaults to `nil`.\n* `sortable` (`:boolean`) - Defaults to `false`.\n* `sort_by` (`:string`) - Defaults to `nil`.\n* `active` (`:boolean`) - Defaults to `false`.\n* `sort_direction` (`:string`) - Defaults to `nil`.\n* `phx_click` (`:string`) - Defaults to `\"sort\"`.\n* `phx_target` (`:any`) - Defaults to `nil`.","ref":"LightningWeb.Components.Table.html#th/1-attributes-1"},{"type":"function","title":"Slots - LightningWeb.Components.Table.th/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Table.html#th/1-slots-1"},{"type":"function","title":"LightningWeb.Components.Table.tr/1","doc":"Renders a table row with hover effects and optional click handling.","ref":"LightningWeb.Components.Table.html#tr/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.tr/1","doc":"- `:class` - Optional additional CSS classes\n- `:id` - Optional HTML id attribute\n- `:onclick` - Optional Phoenix LiveView click event handler","ref":"LightningWeb.Components.Table.html#tr/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Table.tr/1","doc":"- `:inner_block` - Required content for the table row","ref":"LightningWeb.Components.Table.html#tr/1-slots"},{"type":"function","title":"Example - LightningWeb.Components.Table.tr/1","doc":"```elixir\n<.tr id={\"user-123\"} onclick={JS.navigate(~p\"/users/123\")}>\n  <.td>{user.name}</.td>\n  <.td>{user.email}</.td>\n</.tr>\n```","ref":"LightningWeb.Components.Table.html#tr/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Table.tr/1","doc":"* `class` (`:string`) - Defaults to `nil`.\n* `id` (`:string`) - Defaults to `nil`.\n* `onclick` (`:any`) - Defaults to `nil`.","ref":"LightningWeb.Components.Table.html#tr/1-attributes-1"},{"type":"function","title":"Slots - LightningWeb.Components.Table.tr/1","doc":"* `inner_block` (required)","ref":"LightningWeb.Components.Table.html#tr/1-slots-1"},{"type":"module","title":"LightningWeb.Components.Viewers","doc":"Components for rendering Logs and Dataclips.\n\n> #### Scrolling can be tricky {: .info}\n>\n> We seldom know how long a log or a dataclip will be, and we want to\n> be able to contain the element in a fixed height container.\n> In some situations wrapping the component in a `div` with `inline-flex`\n> class will help with scrolling.","ref":"LightningWeb.Components.Viewers.html"},{"type":"function","title":"LightningWeb.Components.Viewers.DataclipViewer/1","doc":"","ref":"LightningWeb.Components.Viewers.html#DataclipViewer/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Viewers.DataclipViewer/1","doc":"* `id` (`:string`) (required)\n* `dataclipId` (`:map`) (required)\n* `react-id` (`:string`) - Defaults to `nil`.\n* `react-portal-target` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.Components.Viewers.html#DataclipViewer/1-attributes"},{"type":"function","title":"LightningWeb.Components.Viewers.dataclip_viewer/1","doc":"","ref":"LightningWeb.Components.Viewers.html#dataclip_viewer/1"},{"type":"function","title":"LightningWeb.Components.Viewers.log_viewer/1","doc":"Renders out a log line stream\n\nInternally it uses the `LogLineHighlight` hook to highlight the log line\nwith the `highlight_id` attribute.","ref":"LightningWeb.Components.Viewers.html#log_viewer/1"},{"type":"function","title":"Example - LightningWeb.Components.Viewers.log_viewer/1","doc":"","ref":"LightningWeb.Components.Viewers.html#log_viewer/1-example"},{"type":"function","title":"Attributes - LightningWeb.Components.Viewers.log_viewer/1","doc":"* `id` (`:string`) (required)\n* `run_id` (`:string`) (required)\n* `run_state` (`:any`) (required)\n* `logs_empty?` (`:boolean`) (required)\n* `selected_step_id` (`:string`)\n* `current_user` (`Lightning.Accounts.User`) - for checking log filter preference. Defaults to `nil`.\n* `class` (`:string`) - Additional classes to add to the log viewer container. Defaults to `nil`.","ref":"LightningWeb.Components.Viewers.html#log_viewer/1-attributes"},{"type":"function","title":"LightningWeb.Components.Viewers.step_dataclip_viewer/1","doc":"","ref":"LightningWeb.Components.Viewers.html#step_dataclip_viewer/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Viewers.step_dataclip_viewer/1","doc":"* `id` (`:string`) (required)\n* `run_state` (`:any`) (required)\n* `class` (`:string`) - Additional classes to add to the log viewer container. Defaults to `nil`.\n* `step` (`:map`)\n* `dataclip` (`Lightning.Invocation.Dataclip`)\n* `input_or_output` (`:atom`) (required) - Must be one of `:input`, or `:output`.\n* `project_id` (`:string`) (required)\n* `admin_contacts` (`:list`) (required) - list of project admin emails.\n* `can_edit_data_retention` (`:boolean`) (required)","ref":"LightningWeb.Components.Viewers.html#step_dataclip_viewer/1-attributes"},{"type":"function","title":"LightningWeb.Components.Viewers.wiped_dataclip_viewer/1","doc":"","ref":"LightningWeb.Components.Viewers.html#wiped_dataclip_viewer/1"},{"type":"function","title":"Attributes - LightningWeb.Components.Viewers.wiped_dataclip_viewer/1","doc":"* `id` (`:string`) - Defaults to `nil`.\n* `input_or_output` (`:atom`) (required) - Must be one of `:input`, or `:output`.\n* `project_id` (`:string`) (required)\n* `admin_contacts` (`:list`) (required) - list of project admin emails.\n* `can_edit_data_retention` (`:boolean`) (required)","ref":"LightningWeb.Components.Viewers.html#wiped_dataclip_viewer/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Components.Viewers.wiped_dataclip_viewer/1","doc":"* `footer`","ref":"LightningWeb.Components.Viewers.html#wiped_dataclip_viewer/1-slots"},{"type":"module","title":"LightningWeb.CredentialLive.CredentialFormComponent","doc":"Form Component for working with a single Credential","ref":"LightningWeb.CredentialLive.CredentialFormComponent.html"},{"type":"function","title":"LightningWeb.CredentialLive.CredentialFormComponent.mount/1","doc":"","ref":"LightningWeb.CredentialLive.CredentialFormComponent.html#mount/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.CredentialFormComponent.mount/1","doc":"* `from_collab_editor` (`:boolean`) - When true, shows Advanced button to access credential type picker from collaborative editor. Defaults to `false`.","ref":"LightningWeb.CredentialLive.CredentialFormComponent.html#mount/1-attributes"},{"type":"module","title":"LightningWeb.CredentialLive.GenericOauthComponent","doc":"","ref":"LightningWeb.CredentialLive.GenericOauthComponent.html"},{"type":"module","title":"LightningWeb.CredentialLive.Helpers","doc":"This module provides helper functions for managing project associations\nwithin credential live views, allowing dynamic assignment and update\nof projects associations to credentials and / or oauth clients.","ref":"LightningWeb.CredentialLive.Helpers.html"},{"type":"function","title":"LightningWeb.CredentialLive.Helpers.filter_available_projects/2","doc":"Filters available projects to exclude any that are already selected.","ref":"LightningWeb.CredentialLive.Helpers.html#filter_available_projects/2"},{"type":"function","title":"Parameters - LightningWeb.CredentialLive.Helpers.filter_available_projects/2","doc":"- `all_projects`: A list of all projects.\n- `selected_projects`: A list of currently selected projects.","ref":"LightningWeb.CredentialLive.Helpers.html#filter_available_projects/2-parameters"},{"type":"function","title":"Returns - LightningWeb.CredentialLive.Helpers.filter_available_projects/2","doc":"- A list of projects that are not selected.","ref":"LightningWeb.CredentialLive.Helpers.html#filter_available_projects/2-returns"},{"type":"function","title":"LightningWeb.CredentialLive.Helpers.handle_save_response/2","doc":"","ref":"LightningWeb.CredentialLive.Helpers.html#handle_save_response/2"},{"type":"function","title":"LightningWeb.CredentialLive.Helpers.prepare_projects_associations/3","doc":"Prepares a list of projects to be associated, updated, or removed based on the selected input.","ref":"LightningWeb.CredentialLive.Helpers.html#prepare_projects_associations/3"},{"type":"function","title":"Parameters - LightningWeb.CredentialLive.Helpers.prepare_projects_associations/3","doc":"- `changeset`: The changeset from which projects are fetched.\n- `selected_projects`: A list of currently selected projects.\n- `assoc_key`: The key in the changeset data containing project associations.","ref":"LightningWeb.CredentialLive.Helpers.html#prepare_projects_associations/3-parameters"},{"type":"function","title":"Returns - LightningWeb.CredentialLive.Helpers.prepare_projects_associations/3","doc":"- A list of maps representing the projects to be deleted, added, or kept.","ref":"LightningWeb.CredentialLive.Helpers.html#prepare_projects_associations/3-returns"},{"type":"function","title":"LightningWeb.CredentialLive.Helpers.select_project/4","doc":"Selects a project to be added to the list of selected projects.","ref":"LightningWeb.CredentialLive.Helpers.html#select_project/4"},{"type":"function","title":"Parameters - LightningWeb.CredentialLive.Helpers.select_project/4","doc":"- `project_id`: The ID of the project to select.\n- `projects`: All available projects.\n- `available_projects`: Projects that are available for selection.\n- `selected_projects`: Currently selected projects.","ref":"LightningWeb.CredentialLive.Helpers.html#select_project/4-parameters"},{"type":"function","title":"Returns - LightningWeb.CredentialLive.Helpers.select_project/4","doc":"- A map with the updated lists of selected and available projects.","ref":"LightningWeb.CredentialLive.Helpers.html#select_project/4-returns"},{"type":"function","title":"LightningWeb.CredentialLive.Helpers.unselect_project/3","doc":"Unselects a project from the list of selected projects.","ref":"LightningWeb.CredentialLive.Helpers.html#unselect_project/3"},{"type":"function","title":"Parameters - LightningWeb.CredentialLive.Helpers.unselect_project/3","doc":"- `project_id`: The ID of the project to unselect.\n- `projects`: All projects available.\n- `selected_projects`: Currently selected projects.","ref":"LightningWeb.CredentialLive.Helpers.html#unselect_project/3-parameters"},{"type":"function","title":"Returns - LightningWeb.CredentialLive.Helpers.unselect_project/3","doc":"- A map with the updated lists of selected and available projects.","ref":"LightningWeb.CredentialLive.Helpers.html#unselect_project/3-returns"},{"type":"module","title":"LightningWeb.CredentialLive.Index","doc":"LiveView for listing and managing credentials","ref":"LightningWeb.CredentialLive.Index.html"},{"type":"function","title":"LightningWeb.CredentialLive.Index.handle_info/2","doc":"A generic handler for forwarding updates from PubSub","ref":"LightningWeb.CredentialLive.Index.html#handle_info/2"},{"type":"function","title":"LightningWeb.CredentialLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.CredentialLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.CredentialLive.JsonSchemaBodyComponent","doc":"","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html"},{"type":"function","title":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.fieldset/1","doc":"","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html#fieldset/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.JsonSchemaBodyComponent.fieldset/1","doc":"* `form` (`:map`) (required)\n* `current_body` (`:map`) - Defaults to `%{}`.","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html#fieldset/1-attributes"},{"type":"function","title":"Slots - LightningWeb.CredentialLive.JsonSchemaBodyComponent.fieldset/1","doc":"* `inner_block`","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html#fieldset/1-slots"},{"type":"function","title":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.schema_input/1","doc":"","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html#schema_input/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.JsonSchemaBodyComponent.schema_input/1","doc":"* `form` (`:map`) (required)\n* `schema` (`:map`) (required)\n* `field` (`:any`) (required)","ref":"LightningWeb.CredentialLive.JsonSchemaBodyComponent.html#schema_input/1-attributes"},{"type":"module","title":"LightningWeb.CredentialLive.KeychainCredentialFormComponent","doc":"Form Component for working with a single KeychainCredential","ref":"LightningWeb.CredentialLive.KeychainCredentialFormComponent.html"},{"type":"function","title":"LightningWeb.CredentialLive.KeychainCredentialFormComponent.render/1","doc":"","ref":"LightningWeb.CredentialLive.KeychainCredentialFormComponent.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.KeychainCredentialFormComponent.render/1","doc":"* `id` (`:string`)\n* `action` (`:atom`)\n* `keychain_credential` (`Lightning.Credentials.KeychainCredential`)\n* `project` (`Lightning.Projects.Project`)\n* `credentials` (`:list`) - Defaults to `[]`.\n* `project_user` (`Lightning.Projects.ProjectUser`)\n* `return_to` (`:string`)\n* `can_edit` (`:boolean`)\n* `can_create` (`:boolean`)","ref":"LightningWeb.CredentialLive.KeychainCredentialFormComponent.html#render/1-attributes"},{"type":"module","title":"LightningWeb.CredentialLive.OAuthErrorFormatter","doc":"Provides human-readable error messages for OAuth-related errors.\n\nThis module centralizes all error message formatting to ensure\nconsistent, helpful user feedback across the OAuth flow.","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.html"},{"type":"function","title":"LightningWeb.CredentialLive.OAuthErrorFormatter.alert_type/1","doc":"Determines the appropriate alert type for Phoenix components based on severity.","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.html#alert_type/1"},{"type":"function","title":"LightningWeb.CredentialLive.OAuthErrorFormatter.format_error/2","doc":"Formats an OAuth validation error into user-friendly display information.","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.html#format_error/2"},{"type":"function","title":"Parameters - LightningWeb.CredentialLive.OAuthErrorFormatter.format_error/2","doc":"- error: The error to format (OauthValidation.Error or other error types)\n  - provider: The OAuth provider name (e.g., \"Google\", \"GitHub\")","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.html#format_error/2-parameters"},{"type":"function","title":"Returns - LightningWeb.CredentialLive.OAuthErrorFormatter.format_error/2","doc":"An ErrorDisplay struct with formatted error information","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.html#format_error/2-returns"},{"type":"module","title":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay","doc":"Structured error display information","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay.html"},{"type":"type","title":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay.severity/0","doc":"","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay.html#t:severity/0"},{"type":"type","title":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay.t/0","doc":"","ref":"LightningWeb.CredentialLive.OAuthErrorFormatter.ErrorDisplay.html#t:t/0"},{"type":"module","title":"LightningWeb.CredentialLive.OauthClientFormComponent","doc":"Form Component for working with a single Credential","ref":"LightningWeb.CredentialLive.OauthClientFormComponent.html"},{"type":"function","title":"LightningWeb.CredentialLive.OauthClientFormComponent.global_client_checkbox/1","doc":"","ref":"LightningWeb.CredentialLive.OauthClientFormComponent.html#global_client_checkbox/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.OauthClientFormComponent.global_client_checkbox/1","doc":"* `form` (`:any`) (required)","ref":"LightningWeb.CredentialLive.OauthClientFormComponent.html#global_client_checkbox/1-attributes"},{"type":"module","title":"LightningWeb.CredentialLive.RawBodyComponent","doc":"","ref":"LightningWeb.CredentialLive.RawBodyComponent.html"},{"type":"function","title":"LightningWeb.CredentialLive.RawBodyComponent.fieldset/1","doc":"","ref":"LightningWeb.CredentialLive.RawBodyComponent.html#fieldset/1"},{"type":"function","title":"Attributes - LightningWeb.CredentialLive.RawBodyComponent.fieldset/1","doc":"* `form` (`:map`) (required)\n* `current_body` (`:map`) - Defaults to `%{}`.","ref":"LightningWeb.CredentialLive.RawBodyComponent.html#fieldset/1-attributes"},{"type":"function","title":"Slots - LightningWeb.CredentialLive.RawBodyComponent.fieldset/1","doc":"* `inner_block`","ref":"LightningWeb.CredentialLive.RawBodyComponent.html#fieldset/1-slots"},{"type":"module","title":"LightningWeb.CredentialLive.TransferCredentialModal","doc":"Form Component for working with a single Credential","ref":"LightningWeb.CredentialLive.TransferCredentialModal.html"},{"type":"module","title":"LightningWeb.CredentialTransferController","doc":"","ref":"LightningWeb.CredentialTransferController.html"},{"type":"function","title":"LightningWeb.CredentialTransferController.confirm/2","doc":"","ref":"LightningWeb.CredentialTransferController.html#confirm/2"},{"type":"module","title":"LightningWeb.DashboardLive.Components","doc":"","ref":"LightningWeb.DashboardLive.Components.html"},{"type":"function","title":"LightningWeb.DashboardLive.Components.user_projects_table/1","doc":"","ref":"LightningWeb.DashboardLive.Components.html#user_projects_table/1"},{"type":"function","title":"LightningWeb.DashboardLive.Components.welcome_banner/1","doc":"","ref":"LightningWeb.DashboardLive.Components.html#welcome_banner/1"},{"type":"module","title":"LightningWeb.DashboardLive.Index","doc":"","ref":"LightningWeb.DashboardLive.Index.html"},{"type":"module","title":"LightningWeb.DashboardLive.ProjectCreationModal","doc":"","ref":"LightningWeb.DashboardLive.ProjectCreationModal.html"},{"type":"module","title":"LightningWeb.DashboardLive.UserProjectsSection","doc":"","ref":"LightningWeb.DashboardLive.UserProjectsSection.html"},{"type":"module","title":"LightningWeb.DataclipController","doc":"","ref":"LightningWeb.DataclipController.html"},{"type":"function","title":"LightningWeb.DataclipController.search/2","doc":"Search dataclips for a specific job with filters.\n\nQuery params:\n- query: Search text (optional)\n- type: Dataclip type filter (optional)\n- before: Before date filter (optional)\n- after: After date filter (optional)\n- named_only: Show only named dataclips (optional)\n- limit: Max results (default: 10)","ref":"LightningWeb.DataclipController.html#search/2"},{"type":"function","title":"LightningWeb.DataclipController.show/2","doc":"","ref":"LightningWeb.DataclipController.html#show/2"},{"type":"function","title":"LightningWeb.DataclipController.show_for_run/2","doc":"Get dataclip for a specific run and job.\n\nQuery params:\n- job_id: Job ID to get dataclip for","ref":"LightningWeb.DataclipController.html#show_for_run/2"},{"type":"function","title":"LightningWeb.DataclipController.update_name/2","doc":"Update dataclip name.\n\nBody:\n- name: New name for dataclip (or null to remove name)","ref":"LightningWeb.DataclipController.html#update_name/2"},{"type":"module","title":"LightningWeb.DataclipLive.FormComponent","doc":"Form Component for working with a single dataclip","ref":"LightningWeb.DataclipLive.FormComponent.html"},{"type":"function","title":"LightningWeb.DataclipLive.FormComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.DataclipLive.FormComponent.html#render/1"},{"type":"module","title":"LightningWeb.DataclipLive.Show","doc":"LiveView for showing a single dataclip.","ref":"LightningWeb.DataclipLive.Show.html"},{"type":"module","title":"LightningWeb.DownloadsController","doc":"","ref":"LightningWeb.DownloadsController.html"},{"type":"function","title":"LightningWeb.DownloadsController.download_project_yaml/2","doc":"","ref":"LightningWeb.DownloadsController.html#download_project_yaml/2"},{"type":"module","title":"LightningWeb.DynamicComponent","doc":"Provides a type to be used in assigns to denote a dynamic component","ref":"LightningWeb.DynamicComponent.html"},{"type":"type","title":"LightningWeb.DynamicComponent.t/0","doc":"","ref":"LightningWeb.DynamicComponent.html#t:t/0"},{"type":"function","title":"LightningWeb.DynamicComponent.dynamic_component?/1","doc":"Checks whether the given value can be rendered as a dynamic component","ref":"LightningWeb.DynamicComponent.html#dynamic_component?/1"},{"type":"module","title":"LightningWeb.Endpoint","doc":"","ref":"LightningWeb.Endpoint.html"},{"type":"function","title":"LightningWeb.Endpoint.broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast/3 .","ref":"LightningWeb.Endpoint.html#broadcast/3"},{"type":"function","title":"LightningWeb.Endpoint.broadcast!/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast!/3 .","ref":"LightningWeb.Endpoint.html#broadcast!/3"},{"type":"function","title":"LightningWeb.Endpoint.broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from/4 .","ref":"LightningWeb.Endpoint.html#broadcast_from/4"},{"type":"function","title":"LightningWeb.Endpoint.broadcast_from!/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from!/4 .","ref":"LightningWeb.Endpoint.html#broadcast_from!/4"},{"type":"function","title":"LightningWeb.Endpoint.call/2","doc":"Callback implementation for  Plug.call/2 .","ref":"LightningWeb.Endpoint.html#call/2"},{"type":"function","title":"LightningWeb.Endpoint.child_spec/1","doc":"Returns the child specification to start the endpoint\nunder a supervision tree.","ref":"LightningWeb.Endpoint.html#child_spec/1"},{"type":"function","title":"LightningWeb.Endpoint.config/2","doc":"Returns the endpoint configuration for `key`\n\nReturns `default` if the key does not exist.","ref":"LightningWeb.Endpoint.html#config/2"},{"type":"function","title":"LightningWeb.Endpoint.config_change/2","doc":"Reloads the configuration given the application environment changes.","ref":"LightningWeb.Endpoint.html#config_change/2"},{"type":"function","title":"LightningWeb.Endpoint.host/0","doc":"Returns the host for the given endpoint.","ref":"LightningWeb.Endpoint.html#host/0"},{"type":"function","title":"LightningWeb.Endpoint.init/1","doc":"Callback implementation for  Plug.init/1 .","ref":"LightningWeb.Endpoint.html#init/1"},{"type":"function","title":"LightningWeb.Endpoint.local_broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast/3 .","ref":"LightningWeb.Endpoint.html#local_broadcast/3"},{"type":"function","title":"LightningWeb.Endpoint.local_broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast_from/4 .","ref":"LightningWeb.Endpoint.html#local_broadcast_from/4"},{"type":"function","title":"LightningWeb.Endpoint.path/1","doc":"Generates the path information when routing to this endpoint.","ref":"LightningWeb.Endpoint.html#path/1"},{"type":"function","title":"LightningWeb.Endpoint.script_name/0","doc":"Generates the script name.","ref":"LightningWeb.Endpoint.html#script_name/0"},{"type":"function","title":"LightningWeb.Endpoint.server_info/1","doc":"Returns the address and port that the server is running on","ref":"LightningWeb.Endpoint.html#server_info/1"},{"type":"function","title":"LightningWeb.Endpoint.start_link/1","doc":"Starts the endpoint supervision tree.\n\nAll other options are merged into the endpoint configuration.","ref":"LightningWeb.Endpoint.html#start_link/1"},{"type":"function","title":"LightningWeb.Endpoint.static_integrity/1","doc":"Generates a base64-encoded cryptographic hash (sha512) to a static file\nin `priv/static`. Meant to be used for Subresource Integrity with CDNs.","ref":"LightningWeb.Endpoint.html#static_integrity/1"},{"type":"function","title":"LightningWeb.Endpoint.static_lookup/1","doc":"Returns a two item tuple with the first item being the `static_path`\nand the second item being the `static_integrity`.","ref":"LightningWeb.Endpoint.html#static_lookup/1"},{"type":"function","title":"LightningWeb.Endpoint.static_path/1","doc":"Generates a route to a static file in `priv/static`.","ref":"LightningWeb.Endpoint.html#static_path/1"},{"type":"function","title":"LightningWeb.Endpoint.static_url/0","doc":"Generates the static URL without any path information.\n\nIt uses the configuration under `:static_url` to generate\nsuch. It falls back to `:url` if `:static_url` is not set.","ref":"LightningWeb.Endpoint.html#static_url/0"},{"type":"function","title":"LightningWeb.Endpoint.struct_url/0","doc":"Generates the endpoint base URL but as a `URI` struct.\n\nIt uses the configuration under `:url` to generate such.\nUseful for manipulating the URL data and passing it to\nURL helpers.","ref":"LightningWeb.Endpoint.html#struct_url/0"},{"type":"function","title":"LightningWeb.Endpoint.subscribe/2","doc":"Callback implementation for  Phoenix.Endpoint.subscribe/2 .","ref":"LightningWeb.Endpoint.html#subscribe/2"},{"type":"function","title":"LightningWeb.Endpoint.unsubscribe/1","doc":"Callback implementation for  Phoenix.Endpoint.unsubscribe/1 .","ref":"LightningWeb.Endpoint.html#unsubscribe/1"},{"type":"function","title":"LightningWeb.Endpoint.url/0","doc":"Generates the endpoint base URL without any path information.\n\nIt uses the configuration under `:url` to generate such.","ref":"LightningWeb.Endpoint.html#url/0"},{"type":"module","title":"LightningWeb.ErrorFormatter","doc":"Formats structured domain errors into user-friendly, localized messages.\n\nTransforms error tuples from domain operations into displayable strings using Gettext.","ref":"LightningWeb.ErrorFormatter.html"},{"type":"module","title":"Usage - LightningWeb.ErrorFormatter","doc":"message = ErrorFormatter.format({:reauthorization_required, credential}, context)","ref":"LightningWeb.ErrorFormatter.html#module-usage"},{"type":"module","title":"Extension - LightningWeb.ErrorFormatter","doc":"Add new error types by defining additional `format/1` clauses and Gettext entries.\nSee https://hexdocs.pm/gettext/Gettext.html for Gettext documentation.","ref":"LightningWeb.ErrorFormatter.html#module-extension"},{"type":"function","title":"LightningWeb.ErrorFormatter.format/2","doc":"","ref":"LightningWeb.ErrorFormatter.html#format/2"},{"type":"module","title":"LightningWeb.FallbackController","doc":"Translates controller action results into valid `Plug.Conn` responses.\n\nSee `Phoenix.Controller.action_fallback/1` for more details.","ref":"LightningWeb.FallbackController.html"},{"type":"module","title":"LightningWeb.FirstSetupLive.Superuser","doc":"Superuser setup liveview\n\nAllows the creation on the first user in the system.\n\nIt has only one action: `:show`","ref":"LightningWeb.FirstSetupLive.Superuser.html"},{"type":"function","title":"LightningWeb.FirstSetupLive.Superuser.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.FirstSetupLive.Superuser.html#render/1"},{"type":"module","title":"LightningWeb.FormHelpers","doc":"Conveniences for building forms.","ref":"LightningWeb.FormHelpers.html"},{"type":"module","title":"LightningWeb.Gettext","doc":"A module providing Internationalization with a gettext-based API.\n\nBy using [Gettext](https://hexdocs.pm/gettext),\nyour module gains a set of macros for translations, for example:\n\n    use Gettext, backend: LightningWeb.Gettext\n\n    # Simple translation\n    gettext(\"Here is the string to translate\")\n\n    # Plural translation\n    ngettext(\"Here is the string to translate\",\n             \"Here are the strings to translate\",\n             3)\n\n    # Domain-based translation\n    dgettext(\"errors\", \"Here is the error message to translate\")\n\nSee the [Gettext Docs](https://hexdocs.pm/gettext) for detailed usage.","ref":"LightningWeb.Gettext.html"},{"type":"function","title":"LightningWeb.Gettext.handle_missing_bindings/2","doc":"Callback implementation for  Gettext.Backend.handle_missing_bindings/2 .","ref":"LightningWeb.Gettext.html#handle_missing_bindings/2"},{"type":"function","title":"LightningWeb.Gettext.handle_missing_plural_translation/7","doc":"Callback implementation for  Gettext.Backend.handle_missing_plural_translation/7 .","ref":"LightningWeb.Gettext.html#handle_missing_plural_translation/7"},{"type":"function","title":"LightningWeb.Gettext.handle_missing_translation/5","doc":"Callback implementation for  Gettext.Backend.handle_missing_translation/5 .","ref":"LightningWeb.Gettext.html#handle_missing_translation/5"},{"type":"module","title":"LightningWeb.HealthCheck","doc":"","ref":"LightningWeb.HealthCheck.html"},{"type":"function","title":"LightningWeb.HealthCheck.call/2","doc":"Callback implementation for  Plug.call/2 .","ref":"LightningWeb.HealthCheck.html#call/2"},{"type":"function","title":"LightningWeb.HealthCheck.init/1","doc":"Callback implementation for  Plug.init/1 .","ref":"LightningWeb.HealthCheck.html#init/1"},{"type":"module","title":"LightningWeb.Hooks","doc":"LiveView Hooks","ref":"LightningWeb.Hooks.html"},{"type":"function","title":"LightningWeb.Hooks.on_mount/4","doc":"Finds and assigns a project to the socket, if a user doesn't have access\nthey are redirected and shown a 'No Access' screen via a `:nav` flash message.\n\nThere is a fallthru function, when there is no `project_id` in the params -\nthis is for liveviews that may or may not have a `project_id` depending on\nusage - like `DashboardLive`.","ref":"LightningWeb.Hooks.html#on_mount/4"},{"type":"module","title":"LightningWeb.InitAssigns","doc":"Ensures common `assigns` are applied to all LiveViews attaching this hook.","ref":"LightningWeb.InitAssigns.html"},{"type":"function","title":"LightningWeb.InitAssigns.on_mount/4","doc":"","ref":"LightningWeb.InitAssigns.html#on_mount/4"},{"type":"module","title":"LightningWeb.JobLive.AdaptorPicker","doc":"Component allowing selecting an adaptor and it's version","ref":"LightningWeb.JobLive.AdaptorPicker.html"},{"type":"function","title":"LightningWeb.JobLive.AdaptorPicker.display_name_for_adaptor/1","doc":"Converts standard adaptor names into \"label\",\"value\" lists and returns\nnon-standard names as merely \"value\"; both can be passed directly into a\nselect option list.","ref":"LightningWeb.JobLive.AdaptorPicker.html#display_name_for_adaptor/1"},{"type":"function","title":"LightningWeb.JobLive.AdaptorPicker.get_adaptor_version_options/1","doc":"","ref":"LightningWeb.JobLive.AdaptorPicker.html#get_adaptor_version_options/1"},{"type":"function","title":"LightningWeb.JobLive.AdaptorPicker.render/1","doc":"","ref":"LightningWeb.JobLive.AdaptorPicker.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.JobLive.AdaptorPicker.render/1","doc":"* `form` (`:map`) (required)\n* `on_change` (`:any`) - Defaults to `nil`.\n* `disabled` (`:boolean`) - Defaults to `false`.","ref":"LightningWeb.JobLive.AdaptorPicker.html#render/1-attributes"},{"type":"module","title":"LightningWeb.JobLive.CredentialPicker","doc":"Component allowing selecting a credential or creating a new one via a\nmodal.","ref":"LightningWeb.JobLive.CredentialPicker.html"},{"type":"function","title":"LightningWeb.JobLive.CredentialPicker.render/1","doc":"","ref":"LightningWeb.JobLive.CredentialPicker.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.JobLive.CredentialPicker.render/1","doc":"* `form` (`:map`) (required)\n* `disabled` (`:boolean`) - Defaults to `false`.\n* `credentials` (`:list`) (required)\n* `keychain_credentials` (`:list`) - Defaults to `[]`.\n* `on_change` (`:any`) - Defaults to `nil`.","ref":"LightningWeb.JobLive.CredentialPicker.html#render/1-attributes"},{"type":"module","title":"LightningWeb.JobLive.CronSetupComponent","doc":"A live component for managing cron setup in a form.\n\nThe `CronSetupComponent` provides an interactive form for configuring cron settings. It includes fields for specifying the frequency, minute, hour, weekday, monthday, and cron expression.","ref":"LightningWeb.JobLive.CronSetupComponent.html"},{"type":"module","title":"Usage - LightningWeb.JobLive.CronSetupComponent","doc":"1. Include the `CronSetupComponent` in your live view or template.\n2. Pass the necessary assigns to the component, such as `form`, `on_change`, and `disabled`.\n3. Handle the `cron_expression_change` event to capture changes in the form inputs.\n4. Use the updated `cron_expression` in your application logic.","ref":"LightningWeb.JobLive.CronSetupComponent.html#module-usage"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.build_cron_expression/2","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#build_cron_expression/2"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.frequency_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#frequency_field/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.get_cron_data/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#get_cron_data/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.hour_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#hour_field/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.minute_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#minute_field/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.monthday_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#monthday_field/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.render/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.JobLive.CronSetupComponent.render/1","doc":"* `id` (`:string`) (required)\n* `form` (`:map`) (required)\n* `on_change` (`:any`) (required)\n* `disabled` (`:boolean`) (required)","ref":"LightningWeb.JobLive.CronSetupComponent.html#render/1-attributes"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.time_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#time_field/1"},{"type":"function","title":"LightningWeb.JobLive.CronSetupComponent.weekday_field/1","doc":"","ref":"LightningWeb.JobLive.CronSetupComponent.html#weekday_field/1"},{"type":"module","title":"LightningWeb.JobLive.JobBuilderComponents","doc":"","ref":"LightningWeb.JobLive.JobBuilderComponents.html"},{"type":"function","title":"LightningWeb.JobLive.JobBuilderComponents.JobEditor/1","doc":"","ref":"LightningWeb.JobLive.JobBuilderComponents.html#JobEditor/1"},{"type":"function","title":"Attributes - LightningWeb.JobLive.JobBuilderComponents.JobEditor/1","doc":"* `adaptor` (`:string`) (required)\n* `disabled` (`:boolean`) - Defaults to `false`.\n* `disabled_message` (`:string`) (required)\n* `job_id` (`:string`) (required)\n* `source` (`:string`) (required)\n* `react-id` (`:string`) - Defaults to `nil`.\n* `react-portal-target` (`:string`) - Defaults to `nil`.\n* Global attributes are accepted.","ref":"LightningWeb.JobLive.JobBuilderComponents.html#JobEditor/1-attributes"},{"type":"function","title":"LightningWeb.JobLive.JobBuilderComponents.job_editor_component/1","doc":"","ref":"LightningWeb.JobLive.JobBuilderComponents.html#job_editor_component/1"},{"type":"module","title":"LightningWeb.JobLive.KafkaSetupComponent","doc":"","ref":"LightningWeb.JobLive.KafkaSetupComponent.html"},{"type":"function","title":"LightningWeb.JobLive.KafkaSetupComponent.render/1","doc":"","ref":"LightningWeb.JobLive.KafkaSetupComponent.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.JobLive.KafkaSetupComponent.render/1","doc":"* `id` (`:string`) (required)\n* `form` (`:map`) (required)\n* `disabled` (`:boolean`) (required)","ref":"LightningWeb.JobLive.KafkaSetupComponent.html#render/1-attributes"},{"type":"module","title":"LightningWeb.Live.AiAssistant.ErrorHandler","doc":"Error handling for AI Assistant interactions.\n\nTransforms technical errors into user-friendly messages.","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html"},{"type":"function","title":"LightningWeb.Live.AiAssistant.ErrorHandler.extract_changeset_errors/1","doc":"Extracts errors from Ecto changesets.","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html#extract_changeset_errors/1"},{"type":"function","title":"LightningWeb.Live.AiAssistant.ErrorHandler.format_error/1","doc":"Formats errors into user-friendly messages.","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html#format_error/1"},{"type":"function","title":"Examples - LightningWeb.Live.AiAssistant.ErrorHandler.format_error/1","doc":"iex> format_error({:error, \"Something went wrong\"})\n    \"Something went wrong\"\n\n    iex> format_error({:error, :timeout})\n    \"Request timed out. Please try again.\"","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html#format_error/1-examples"},{"type":"function","title":"LightningWeb.Live.AiAssistant.ErrorHandler.format_limit_error/1","doc":"Formats AI usage limit errors.","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html#format_limit_error/1"},{"type":"function","title":"Examples - LightningWeb.Live.AiAssistant.ErrorHandler.format_limit_error/1","doc":"iex> format_limit_error({:error, :quota_exceeded})\n    \"AI usage limit reached. Please try again later or contact support.\"","ref":"LightningWeb.Live.AiAssistant.ErrorHandler.html#format_limit_error/1-examples"},{"type":"behaviour","title":"LightningWeb.Live.AiAssistant.ModeBehavior","doc":"Defines the contract for AI Assistant interaction modes.\n\nEach mode implements different AI assistance functionality (e.g., job code help, workflow generation).\nThe component delegates all mode-specific decisions to the implementing module.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.assigns/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:assigns/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.error_reason/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:error_reason/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.job/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:job/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.list_opts/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:list_opts/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.mode_metadata/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:mode_metadata/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.project/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:project/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.session/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:session/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.session_id/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:session_id/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.session_list/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:session_list/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.session_result/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:session_result/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.sort_direction/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:sort_direction/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.update_result/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:update_result/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeBehavior.user/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#t:user/0"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.chat_input_disabled?/1","doc":"Determines if the chat input should be disabled.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:chat_input_disabled?/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.chat_title/1","doc":"Returns a display title for the chat session.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:chat_title/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.create_session/3","doc":"Creates a new chat session with initial content.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:create_session/3"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.disabled_tooltip_message/1","doc":"Returns tooltip text when chat is disabled.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:disabled_tooltip_message/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.error_message/1","doc":"Formats an error for display.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:error_message/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.extract_form_options/1","doc":"Extracts options from a validated changeset.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:extract_form_options/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.form_module/0","doc":"Returns the form module for this mode.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:form_module/0"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.get_session!/1","doc":"Retrieves an existing session by ID from assigns.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:get_session!/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.input_placeholder/0","doc":"Returns placeholder text for the chat input.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:input_placeholder/0"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.list_sessions/3","doc":"Lists chat sessions with pagination support.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:list_sessions/3"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.metadata/0","doc":"Returns mode metadata for UI display.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:metadata/0"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.more_sessions?/2","doc":"Checks if more sessions are available beyond the current count.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:more_sessions?/2"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.on_message_received/2","doc":"Called when an AI response is received.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:on_message_received/2"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.on_message_selected/2","doc":"Called when a message is selected in the UI.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:on_message_selected/2"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.on_message_send/1","doc":"Called when a message is sent.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:on_message_send/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.on_session_close/1","doc":"Called when a chat session is closed.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:on_session_close/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.on_session_open/2","doc":"Called when a chat session is opened.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:on_session_open/2"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.query/3","doc":"Sends a query to the AI service.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:query/3"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.render_config_form/1","doc":"Renders mode-specific configuration form elements.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:render_config_form/1"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.save_message/2","doc":"Saves a user message to the current session.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:save_message/2"},{"type":"callback","title":"LightningWeb.Live.AiAssistant.ModeBehavior.validate_form/1","doc":"Validates form parameters.","ref":"LightningWeb.Live.AiAssistant.ModeBehavior.html#c:validate_form/1"},{"type":"module","title":"LightningWeb.Live.AiAssistant.ModeRegistry","doc":"Registry for AI Assistant interaction modes.\n\nManages mode discovery, metadata retrieval, and feature detection.","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeRegistry.mode_id/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html#t:mode_id/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeRegistry.mode_metadata/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html#t:mode_metadata/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.ModeRegistry.mode_module/0","doc":"","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html#t:mode_module/0"},{"type":"function","title":"LightningWeb.Live.AiAssistant.ModeRegistry.get_handler/1","doc":"Gets the handler module for a mode.","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html#get_handler/1"},{"type":"function","title":"LightningWeb.Live.AiAssistant.ModeRegistry.register_modes/0","doc":"Returns all registered modes.","ref":"LightningWeb.Live.AiAssistant.ModeRegistry.html#register_modes/0"},{"type":"module","title":"LightningWeb.Live.AiAssistant.Modes.JobCode","doc":"AI mode for job-specific code assistance and debugging.\n\nProvides context-aware help for job code, including adaptor usage,\ndebugging support, and optional log attachment.","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.html"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.JobCode.assigns/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.html#t:assigns/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.JobCode.job/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.html#t:job/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.JobCode.session/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.html#t:session/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.JobCode.user/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.html#t:user/0"},{"type":"module","title":"LightningWeb.Live.AiAssistant.Modes.JobCode.Form.Options","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.JobCode.Form.Options.html"},{"type":"module","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate","doc":"AI mode for generating Lightning workflow templates.\n\nHandles workflow creation through natural language descriptions and\nsupports external callbacks for workflow code integration.","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.assigns/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html#t:assigns/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.project/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html#t:project/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.session/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html#t:session/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.user/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html#t:user/0"},{"type":"type","title":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.workflow_yaml/0","doc":"","ref":"LightningWeb.Live.AiAssistant.Modes.WorkflowTemplate.html#t:workflow_yaml/0"},{"type":"module","title":"LightningWeb.Live.AiAssistant.PaginationMeta","doc":"Pagination metadata for AI Assistant sessions.\n\nHandles offset-based pagination and infinite scroll patterns.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html"},{"type":"type","title":"LightningWeb.Live.AiAssistant.PaginationMeta.t/0","doc":"","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#t:t/0"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.current_offset/1","doc":"Calculates database offset for current page.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#current_offset/1"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.first_page?/1","doc":"Checks if on first page.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#first_page?/1"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.for_page/2","doc":"Creates metadata for a specific page.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#for_page/2"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.last_page?/1","doc":"Checks if on last page.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#last_page?/1"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.new/3","doc":"Creates pagination metadata from current state.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#new/3"},{"type":"function","title":"Examples - LightningWeb.Live.AiAssistant.PaginationMeta.new/3","doc":"iex> new(25, 20, 100)\n    %PaginationMeta{current_page: 2, page_size: 20, total_count: 100, has_next_page: true, has_prev_page: true}","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#new/3-examples"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.page_range/2","doc":"Returns page numbers for navigation display.\n\nCenters around current page with max visible pages.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#page_range/2"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.summary/1","doc":"Generates human-readable pagination summary.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#summary/1"},{"type":"function","title":"Examples - LightningWeb.Live.AiAssistant.PaginationMeta.summary/1","doc":"iex> summary(%PaginationMeta{current_page: 2, page_size: 20, total_count: 45})\n    \"Showing 21-40 of 45\"","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#summary/1-examples"},{"type":"function","title":"LightningWeb.Live.AiAssistant.PaginationMeta.total_pages/1","doc":"Calculates total number of pages.","ref":"LightningWeb.Live.AiAssistant.PaginationMeta.html#total_pages/1"},{"type":"module","title":"LightningWeb.Live.Helpers.ProjectTheme","doc":"Runtime theme utilities. Builds a full primary scale (50..950) from a base hex\nand returns inline CSS variable overrides for Tailwind v4's `--color-primary-*`.","ref":"LightningWeb.Live.Helpers.ProjectTheme.html"},{"type":"function","title":"LightningWeb.Live.Helpers.ProjectTheme.inline_primary_scale/1","doc":"If the project is a sandbox with a color, returns a string of CSS custom\nproperties that override the full `--color-primary-*` scale.\nReturns `nil` for non-sandboxes or missing color.","ref":"LightningWeb.Live.Helpers.ProjectTheme.html#inline_primary_scale/1"},{"type":"function","title":"LightningWeb.Live.Helpers.ProjectTheme.inline_sidebar_vars/0","doc":"Returns the sidebar variables that your CSS reads (`--primary-*`), pointing at the\nprimary scale. Safe to append anywhere you put `inline_primary_scale/1`.","ref":"LightningWeb.Live.Helpers.ProjectTheme.html#inline_sidebar_vars/0"},{"type":"module","title":"LightningWeb.Live.Helpers.TableHelpers","doc":"Utilities for simplifying common table operations like sorting and filtering.\n\nThis module provides reusable functions to reduce complexity in LiveView components\nthat handle sortable, filterable tables.","ref":"LightningWeb.Live.Helpers.TableHelpers.html"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.filter_and_sort/6","doc":"Combines filtering and sorting in one operation.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_and_sort/6"},{"type":"function","title":"Examples - LightningWeb.Live.Helpers.TableHelpers.filter_and_sort/6","doc":"users = [%{name: \"Bob\", email: \"bob@test.com\"}, %{name: \"Alice\", email: \"alice@test.com\"}]\n    filter_and_sort(users, \"test\", [:email], \"name\", \"asc\", %{\"name\" => :name})","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_and_sort/6-examples"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.filter_input/1","doc":"Renders a filter input with magnifying glass icon and clear button.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_input/1"},{"type":"function","title":"Attributes - LightningWeb.Live.Helpers.TableHelpers.filter_input/1","doc":"- `filter` - The current filter value\n- `placeholder` - Placeholder text for the input\n- `target` - Optional phx-target for the events\n- All other attributes are passed through to the input","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_input/1-attributes"},{"type":"function","title":"Attributes - LightningWeb.Live.Helpers.TableHelpers.filter_input/1","doc":"* `filter` (`:string`) (required)\n* `placeholder` (`:string`) - Defaults to `\"Filter...\"`.\n* `target` (`:any`) - Defaults to `nil`.\n* Global attributes are accepted. Supports all globals plus: `[\"class\", \"phx-keyup\", \"phx-debounce\"]`.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_input/1-attributes-1"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.filter_items/3","doc":"Filters a list of items based on searchable fields and a filter term.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_items/3"},{"type":"function","title":"Examples - LightningWeb.Live.Helpers.TableHelpers.filter_items/3","doc":"users = [%{name: \"Alice\", email: \"alice@example.com\"}]\n    search_fields = [:name, :email]\n    filter_items(users, \"alice\", search_fields)\n    # => [%{name: \"Alice\", email: \"alice@example.com\"}]","ref":"LightningWeb.Live.Helpers.TableHelpers.html#filter_items/3-examples"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.sort_compare_fn/1","doc":"Creates a sort function based on direction string.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#sort_compare_fn/1"},{"type":"function","title":"Examples - LightningWeb.Live.Helpers.TableHelpers.sort_compare_fn/1","doc":"iex> sort_compare_fn(\"asc\")\n    &<=/2\n\n    iex> sort_compare_fn(\"desc\")\n    &>=/2","ref":"LightningWeb.Live.Helpers.TableHelpers.html#sort_compare_fn/1-examples"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.sort_items/4","doc":"Sorts items by a given field and direction.","ref":"LightningWeb.Live.Helpers.TableHelpers.html#sort_items/4"},{"type":"function","title":"Examples - LightningWeb.Live.Helpers.TableHelpers.sort_items/4","doc":"users = [%{name: \"Bob\"}, %{name: \"Alice\"}]\n    sort_items(users, \"name\", \"asc\", %{\"name\" => :name})\n    # => [%{name: \"Alice\"}, %{name: \"Bob\"}]","ref":"LightningWeb.Live.Helpers.TableHelpers.html#sort_items/4-examples"},{"type":"function","title":"LightningWeb.Live.Helpers.TableHelpers.toggle_sort_direction/3","doc":"Toggles sort direction between \"asc\" and \"desc\".","ref":"LightningWeb.Live.Helpers.TableHelpers.html#toggle_sort_direction/3"},{"type":"function","title":"Examples - LightningWeb.Live.Helpers.TableHelpers.toggle_sort_direction/3","doc":"iex> toggle_sort_direction(\"asc\", \"name\", \"name\")\n    {\"name\", \"desc\"}\n\n    iex> toggle_sort_direction(\"desc\", \"name\", \"name\")\n    {\"name\", \"asc\"}\n\n    iex> toggle_sort_direction(\"asc\", \"name\", \"email\")\n    {\"email\", \"asc\"}","ref":"LightningWeb.Live.Helpers.TableHelpers.html#toggle_sort_direction/3-examples"},{"type":"module","title":"LightningWeb.Live.MemoryDebug","doc":"Memory debugging utilities for LiveViews to track memory usage and help\ndiagnose OOM issues.\n\nUsage in a LiveView:\n\n    import LightningWeb.Live.MemoryDebug\n\n    def mount(params, session, socket) do\n      log_memory(\"mount start\")\n\n      # ... your code ...\n\n      socket = assign(socket, :data, large_data)\n      log_memory(\"after loading large data\", socket: socket)\n\n      {:ok, socket}\n    end","ref":"LightningWeb.Live.MemoryDebug.html"},{"type":"function","title":"LightningWeb.Live.MemoryDebug.compare_snapshots/3","doc":"Compares two memory snapshots and logs the difference.","ref":"LightningWeb.Live.MemoryDebug.html#compare_snapshots/3"},{"type":"function","title":"LightningWeb.Live.MemoryDebug.log_memory/2","doc":"Logs current memory usage for the calling process and optionally the socket assigns.","ref":"LightningWeb.Live.MemoryDebug.html#log_memory/2"},{"type":"function","title":"Options - LightningWeb.Live.MemoryDebug.log_memory/2","doc":"* `:socket` - Phoenix.LiveView.Socket to measure assigns memory\n  * `:assigns` - List of assign keys to measure individually (e.g., [:dataclip, :workflow])","ref":"LightningWeb.Live.MemoryDebug.html#log_memory/2-options"},{"type":"function","title":"LightningWeb.Live.MemoryDebug.measure/2","doc":"Wraps a function call with before/after memory logging.","ref":"LightningWeb.Live.MemoryDebug.html#measure/2"},{"type":"function","title":"Examples - LightningWeb.Live.MemoryDebug.measure/2","doc":"measure(\"load dataclip\", fn ->\n      Invocation.get_dataclip!(id)\n    end)","ref":"LightningWeb.Live.MemoryDebug.html#measure/2-examples"},{"type":"function","title":"LightningWeb.Live.MemoryDebug.measure_assigns/2","doc":"Measures memory of specific socket assigns.","ref":"LightningWeb.Live.MemoryDebug.html#measure_assigns/2"},{"type":"function","title":"LightningWeb.Live.MemoryDebug.snapshot/0","doc":"Gets a memory snapshot as a map (useful for comparing before/after).","ref":"LightningWeb.Live.MemoryDebug.html#snapshot/0"},{"type":"module","title":"LightningWeb.LiveComponentPortal","doc":"Component for rendering content inside layout without full DOM patch.\nUse this when you want to render a LiveComponent outside of the elements parent,\nmaybe because of an existing form","ref":"LightningWeb.LiveComponentPortal.html"},{"type":"function","title":"LightningWeb.LiveComponentPortal.handle_event/3","doc":"Callback implementation for  Phoenix.LiveComponent.handle_event/3 .","ref":"LightningWeb.LiveComponentPortal.html#handle_event/3"},{"type":"function","title":"LightningWeb.LiveComponentPortal.remove_component/0","doc":"","ref":"LightningWeb.LiveComponentPortal.html#remove_component/0"},{"type":"function","title":"LightningWeb.LiveComponentPortal.remove_component_js/1","doc":"","ref":"LightningWeb.LiveComponentPortal.html#remove_component_js/1"},{"type":"function","title":"LightningWeb.LiveComponentPortal.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.LiveComponentPortal.html#render/1"},{"type":"function","title":"LightningWeb.LiveComponentPortal.show_component/2","doc":"","ref":"LightningWeb.LiveComponentPortal.html#show_component/2"},{"type":"function","title":"LightningWeb.LiveComponentPortal.update/2","doc":"Callback implementation for  Phoenix.LiveComponent.update/2 .","ref":"LightningWeb.LiveComponentPortal.html#update/2"},{"type":"module","title":"LightningWeb.LiveHelpers","doc":"General purpose LiveView helper functions","ref":"LightningWeb.LiveHelpers.html"},{"type":"function","title":"LightningWeb.LiveHelpers.book_demo_banner/1","doc":"","ref":"LightningWeb.LiveHelpers.html#book_demo_banner/1"},{"type":"function","title":"Attributes - LightningWeb.LiveHelpers.book_demo_banner/1","doc":"* `current_user` (`Lightning.Accounts.User`) (required)","ref":"LightningWeb.LiveHelpers.html#book_demo_banner/1-attributes"},{"type":"function","title":"LightningWeb.LiveHelpers.check_limits/2","doc":"","ref":"LightningWeb.LiveHelpers.html#check_limits/2"},{"type":"function","title":"LightningWeb.LiveHelpers.display_short_uuid/1","doc":"","ref":"LightningWeb.LiveHelpers.html#display_short_uuid/1"},{"type":"function","title":"LightningWeb.LiveHelpers.fade_in/1","doc":"","ref":"LightningWeb.LiveHelpers.html#fade_in/1"},{"type":"function","title":"LightningWeb.LiveHelpers.fade_out/1","doc":"","ref":"LightningWeb.LiveHelpers.html#fade_out/1"},{"type":"function","title":"LightningWeb.LiveHelpers.live_error_block/1","doc":"","ref":"LightningWeb.LiveHelpers.html#live_error_block/1"},{"type":"function","title":"Attributes - LightningWeb.LiveHelpers.live_error_block/1","doc":"* `flash` (`:map`) (required)\n* `myself` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.LiveHelpers.html#live_error_block/1-attributes"},{"type":"function","title":"LightningWeb.LiveHelpers.live_info_block/1","doc":"","ref":"LightningWeb.LiveHelpers.html#live_info_block/1"},{"type":"function","title":"Attributes - LightningWeb.LiveHelpers.live_info_block/1","doc":"* `flash` (`:map`) (required)\n* `myself` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.LiveHelpers.html#live_info_block/1-attributes"},{"type":"function","title":"LightningWeb.LiveHelpers.live_nav_block/1","doc":"","ref":"LightningWeb.LiveHelpers.html#live_nav_block/1"},{"type":"function","title":"Attributes - LightningWeb.LiveHelpers.live_nav_block/1","doc":"* `flash` (`:map`) (required)","ref":"LightningWeb.LiveHelpers.html#live_nav_block/1-attributes"},{"type":"function","title":"Slots - LightningWeb.LiveHelpers.live_nav_block/1","doc":"* `inner_block`","ref":"LightningWeb.LiveHelpers.html#live_nav_block/1-slots"},{"type":"function","title":"LightningWeb.LiveHelpers.upcase_first/1","doc":"","ref":"LightningWeb.LiveHelpers.html#upcase_first/1"},{"type":"module","title":"LightningWeb.OauthController","doc":"","ref":"LightningWeb.OauthController.html"},{"type":"function","title":"LightningWeb.OauthController.new/2","doc":"","ref":"LightningWeb.OauthController.html#new/2"},{"type":"module","title":"LightningWeb.OauthCredentialHelper","doc":"A set of helper functions to encodes state and coordinate OAuth callbacks\nback to a LiveView component.","ref":"LightningWeb.OauthCredentialHelper.html"},{"type":"function","title":"LightningWeb.OauthCredentialHelper.broadcast/2","doc":"","ref":"LightningWeb.OauthCredentialHelper.html#broadcast/2"},{"type":"function","title":"LightningWeb.OauthCredentialHelper.broadcast_forward/3","doc":"Broadcast a message specifically for forwarding a message to a component.\nIt expects a `subscription_id`, the module of the component and `opts`\nbeing a keyword list containing an `:id` key of the specific component.\n\nSee: `Phoenix.LiveView.send_update/3` for more info.\n\nA corresponding LiveView (that is subscribed) is expected to have a matching\n`handle_info/2` that looks like this:\n\n```\ndef handle_info({:forward, mod, opts}, socket) do\n  send_update(mod, opts)\n  {:noreply, socket}\nend\n```","ref":"LightningWeb.OauthCredentialHelper.html#broadcast_forward/3"},{"type":"function","title":"LightningWeb.OauthCredentialHelper.build_state/4","doc":"Encode and encrypt the callback data which will be sent so a provider\nas the `state` key in the request.\n\nThe values are:\n\n- `subscription_id`\n  The same ID used to subscribe.\n- The component module\n  The LiveView component that is going to receive update\n- The component id\n  The ID of the component\n- The current tab (environment name)\n  Which environment/tab is being authorized","ref":"LightningWeb.OauthCredentialHelper.html#build_state/4"},{"type":"function","title":"LightningWeb.OauthCredentialHelper.decode_state/1","doc":"","ref":"LightningWeb.OauthCredentialHelper.html#decode_state/1"},{"type":"function","title":"LightningWeb.OauthCredentialHelper.subscribe/1","doc":"Subscribe to the `oauth_credential` topic.\nIt expects the a unique ID for the topic, usually the LiveView's `socket.id`.","ref":"LightningWeb.OauthCredentialHelper.html#subscribe/1"},{"type":"module","title":"LightningWeb.OidcController","doc":"","ref":"LightningWeb.OidcController.html"},{"type":"function","title":"LightningWeb.OidcController.new/2","doc":"Once the user has completed the authorization flow from above, they are\nreturned here, and the authorization code is used to log them in.","ref":"LightningWeb.OidcController.html#new/2"},{"type":"function","title":"LightningWeb.OidcController.show/2","doc":"Given a known provider, redirect them to the authorize url on the provider","ref":"LightningWeb.OidcController.html#show/2"},{"type":"module","title":"LightningWeb.PageView","doc":"","ref":"LightningWeb.PageView.html"},{"type":"function","title":"LightningWeb.PageView.__resource__/0","doc":"The resource name, as an atom, for this view","ref":"LightningWeb.PageView.html#__resource__/0"},{"type":"function","title":"LightningWeb.PageView.render/2","doc":"Renders the given template locally.","ref":"LightningWeb.PageView.html#render/2"},{"type":"function","title":"LightningWeb.PageView.template_not_found/2","doc":"Callback invoked when no template is found.\nBy default it raises but can be customized\nto render a particular template.","ref":"LightningWeb.PageView.html#template_not_found/2"},{"type":"module","title":"LightningWeb.Pagination","doc":"Pagination Components\n\nThis has been extracted and adapted from `scrivener_html`.\nSee: https://github.com/mgwidmann/scrivener_html","ref":"LightningWeb.Pagination.html"},{"type":"function","title":"LightningWeb.Pagination.page_link/1","doc":"","ref":"LightningWeb.Pagination.html#page_link/1"},{"type":"function","title":"LightningWeb.Pagination.pagination_bar/1","doc":"","ref":"LightningWeb.Pagination.html#pagination_bar/1"},{"type":"function","title":"Attributes - LightningWeb.Pagination.pagination_bar/1","doc":"* `async_page` (`Phoenix.LiveView.AsyncResult`) - Defaults to `nil`.\n* `page` (`:map`) (required)\n* `url` (`:any`) (required)\n* `help_text` (`:string`) - Defaults to `nil`.\n* `rounded` (`:string`) - Border radius size (sm, md, lg, xl, 2xl, etc.). Defaults to `\"lg\"`.","ref":"LightningWeb.Pagination.html#pagination_bar/1-attributes"},{"type":"function","title":"Slots - LightningWeb.Pagination.pagination_bar/1","doc":"* `action`","ref":"LightningWeb.Pagination.html#pagination_bar/1-slots"},{"type":"function","title":"LightningWeb.Pagination.raw_pagination_links/2","doc":"Returns the raw data in order to generate the proper HTML for pagination links. Data\nis returned in a `{text, page_number}` format where `text` is intended to be the text\nof the link and `page_number` is the page it should go to. Defaults are already supplied\nand they are as follows:\n    [distance: 5, next: :next, previous: :previous, first: true, last: true, ellipsis: :ellipsis]\n`distance` must be a positive non-zero integer or an exception is raised. `next` and `previous` should be\nstrings but can be anything you want as long as it is truthy, falsey values will remove\nthem from the output. `first` and `last` are only booleans, and they just include/remove\ntheir respective link from output. An example of the data returned:\n    iex> Scrivener.HTML.raw_pagination_links(%{total_pages: 10, page_number: 5})\n    [{\"<<\", 4}, {1, 1}, {2, 2}, {3, 3}, {4, 4}, {5, 5}, {6, 6}, {7, 7}, {8, 8}, {9, 9}, {10, 10}, {\">>\", 6}]\n    iex> Scrivener.HTML.raw_pagination_links(%{total_pages: 20, page_number: 10}, first: [\"\"], last: [\"\"])\n    [{\"<<\", 9}, {[\"\"], 1}, {:ellipsis, {:safe, \"&hellip;\"}}, {5, 5}, {6, 6},{7, 7}, {8, 8}, {9, 9}, {10, 10}, {11, 11}, {12, 12}, {13, 13}, {14, 14},{15, 15}, {:ellipsis, {:safe, \"&hellip;\"}}, {[\"\"], 20}, {\">>\", 11}]\nSimply loop and pattern match over each item and transform it to your custom HTML.","ref":"LightningWeb.Pagination.html#raw_pagination_links/2"},{"type":"module","title":"LightningWeb.PlugConfigs","doc":"Dynamically initialize Plugs that don't accept dynamic configs in :prod ENV.","ref":"LightningWeb.PlugConfigs.html"},{"type":"function","title":"LightningWeb.PlugConfigs.plug_parsers/0","doc":"","ref":"LightningWeb.PlugConfigs.html#plug_parsers/0"},{"type":"module","title":"LightningWeb.Plugs.ApiAuth","doc":"Authenticates api calls based on JWT bearer token.","ref":"LightningWeb.Plugs.ApiAuth.html"},{"type":"module","title":"LightningWeb.Plugs.BlockRoutes","doc":"Plug to conditionally block specified routes based on configuration flags and custom messages.","ref":"LightningWeb.Plugs.BlockRoutes.html"},{"type":"module","title":"LightningWeb.Plugs.FirstSetup","doc":"Plug to redirect HTTP requests to `/first_setup` if there are no\nsuperusers in the system yet.","ref":"LightningWeb.Plugs.FirstSetup.html"},{"type":"module","title":"LightningWeb.Plugs.MetricsAuth","doc":"Implements Bearer token authorization for /metrics endpoint that is managed by\nPromEx.","ref":"LightningWeb.Plugs.MetricsAuth.html"},{"type":"function","title":"LightningWeb.Plugs.MetricsAuth.call/2","doc":"","ref":"LightningWeb.Plugs.MetricsAuth.html#call/2"},{"type":"function","title":"LightningWeb.Plugs.MetricsAuth.init/1","doc":"","ref":"LightningWeb.Plugs.MetricsAuth.html#init/1"},{"type":"module","title":"LightningWeb.Plugs.PromexWrapper","doc":"Ensures that the MetricsAuth plug always comes before the PromEx plug.","ref":"LightningWeb.Plugs.PromexWrapper.html"},{"type":"function","title":"LightningWeb.Plugs.PromexWrapper.call/2","doc":"Callback implementation for  Plug.call/2 .","ref":"LightningWeb.Plugs.PromexWrapper.html#call/2"},{"type":"function","title":"LightningWeb.Plugs.PromexWrapper.init/1","doc":"Callback implementation for  Plug.init/1 .","ref":"LightningWeb.Plugs.PromexWrapper.html#init/1"},{"type":"module","title":"LightningWeb.Plugs.Redirect","doc":"A plug for redirecting requests to a specified URL.\n\nThis plug takes an option `:to` which specifies the target URL for the redirection.","ref":"LightningWeb.Plugs.Redirect.html"},{"type":"function","title":"LightningWeb.Plugs.Redirect.call/2","doc":"Redirects the connection to the specified URL.","ref":"LightningWeb.Plugs.Redirect.html#call/2"},{"type":"function","title":"Parameters - LightningWeb.Plugs.Redirect.call/2","doc":"- conn: The connection struct.\n  - opts: A keyword list of options. Must include `:to` key specifying the target URL.","ref":"LightningWeb.Plugs.Redirect.html#call/2-parameters"},{"type":"function","title":"Examples - LightningWeb.Plugs.Redirect.call/2","doc":"iex> conn = %Plug.Conn{}\n    iex> opts = [to: \"/new_path\"]\n    iex> LightningWeb.Plugs.Redirect.call(conn, opts)\n    %Plug.Conn{...}","ref":"LightningWeb.Plugs.Redirect.html#call/2-examples"},{"type":"function","title":"Raises - LightningWeb.Plugs.Redirect.call/2","doc":"`KeyError` if the `:to` key is not present in options.","ref":"LightningWeb.Plugs.Redirect.html#call/2-raises"},{"type":"function","title":"LightningWeb.Plugs.Redirect.init/1","doc":"Initializes the plug options.","ref":"LightningWeb.Plugs.Redirect.html#init/1"},{"type":"function","title":"Parameters - LightningWeb.Plugs.Redirect.init/1","doc":"- opts: A keyword list of options.","ref":"LightningWeb.Plugs.Redirect.html#init/1-parameters"},{"type":"function","title":"Returns - LightningWeb.Plugs.Redirect.init/1","doc":"The provided options are returned as they are.","ref":"LightningWeb.Plugs.Redirect.html#init/1-returns"},{"type":"function","title":"Examples - LightningWeb.Plugs.Redirect.init/1","doc":"iex> LightningWeb.Plugs.Redirect.init(to: \"/new_path\")\n    [to: \"/new_path\"]","ref":"LightningWeb.Plugs.Redirect.html#init/1-examples"},{"type":"module","title":"LightningWeb.Plugs.WebhookAuth","doc":"A Plug to authenticate and authorize requests based on paths starting with '/i/'.\nIt verifies the presence of correct API keys or Basic Authentication credentials.","ref":"LightningWeb.Plugs.WebhookAuth.html"},{"type":"function","title":"LightningWeb.Plugs.WebhookAuth.call/2","doc":"Handles webhook auth for `/i/:webhook` requests.\n\n- **CORS preflight:** If the request method is `OPTIONS`, this plug is a no-op\n  and returns the connection unchanged so upstream CORS handling can respond.\n  This avoids doing DB lookups or emitting 401/404 on preflight requests.\n\n- **Auth flow:** For non-`OPTIONS` requests whose path matches `/i/:webhook`,\n  this plug:\n    1. Looks up the webhook trigger (with `workflow` and `edges`) and its\n       `webhook_auth_methods`, wrapped in `Lightning.Retry.with_webhook_retry/2`\n       so transient DB errors are retried.\n    2. If the trigger is missing  responds **404** `{\"error\":\"webhook_not_found\"}`.\n    3. If auth methods are configured:\n       - If credentials match  assigns `:trigger` and continues.\n       - If credentials are present but wrong  responds **404** (hide existence).\n       - If credentials are missing  responds **401**.\n    4. If retries exhaust due to DB issues  responds **503** with `Retry-After`\n       based on `WEBHOOK_RETRY_TIMEOUT_MS`.\n\nReturns the (possibly halted) connection.","ref":"LightningWeb.Plugs.WebhookAuth.html#call/2"},{"type":"function","title":"LightningWeb.Plugs.WebhookAuth.init/1","doc":"Initializes the options.","ref":"LightningWeb.Plugs.WebhookAuth.html#init/1"},{"type":"module","title":"LightningWeb.ProfileLive.Components","doc":"","ref":"LightningWeb.ProfileLive.Components.html"},{"type":"function","title":"LightningWeb.ProfileLive.Components.action_cards/1","doc":"","ref":"LightningWeb.ProfileLive.Components.html#action_cards/1"},{"type":"function","title":"Attributes - LightningWeb.ProfileLive.Components.action_cards/1","doc":"* `page_title` (`:string`) (required)\n* `live_action` (`:atom`) (required)\n* `current_user` (`Lightning.Accounts.User`) (required)\n* `user_deletion_modal` (`:atom`) - Defaults to `LightningWeb.Components.UserDeletionModal`.\n* `delete_user_url` (`:string`) (required)","ref":"LightningWeb.ProfileLive.Components.html#action_cards/1-attributes"},{"type":"function","title":"LightningWeb.ProfileLive.Components.user_info/1","doc":"","ref":"LightningWeb.ProfileLive.Components.html#user_info/1"},{"type":"function","title":"Attributes - LightningWeb.ProfileLive.Components.user_info/1","doc":"* `current_user` (`Lightning.Accounts.User`) (required)","ref":"LightningWeb.ProfileLive.Components.html#user_info/1-attributes"},{"type":"module","title":"LightningWeb.ProfileLive.Edit","doc":"LiveView for user profile page.","ref":"LightningWeb.ProfileLive.Edit.html"},{"type":"function","title":"LightningWeb.ProfileLive.Edit.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.ProfileLive.Edit.html#render/1"},{"type":"module","title":"LightningWeb.ProfileLive.ExperimentalFeaturesComponent","doc":"Component to manage experimental features on a User's profile","ref":"LightningWeb.ProfileLive.ExperimentalFeaturesComponent.html"},{"type":"function","title":"LightningWeb.ProfileLive.ExperimentalFeaturesComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.ProfileLive.ExperimentalFeaturesComponent.html#render/1"},{"type":"module","title":"LightningWeb.ProfileLive.FormComponent","doc":"Form component update profile email and password","ref":"LightningWeb.ProfileLive.FormComponent.html"},{"type":"function","title":"LightningWeb.ProfileLive.FormComponent.enum_options/2","doc":"","ref":"LightningWeb.ProfileLive.FormComponent.html#enum_options/2"},{"type":"function","title":"LightningWeb.ProfileLive.FormComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.ProfileLive.FormComponent.html#render/1"},{"type":"module","title":"LightningWeb.ProfileLive.MfaComponent","doc":"Component to enable MFA on a User's account","ref":"LightningWeb.ProfileLive.MfaComponent.html"},{"type":"function","title":"LightningWeb.ProfileLive.MfaComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.ProfileLive.MfaComponent.html#render/1"},{"type":"module","title":"LightningWeb.ProjectFileController","doc":"","ref":"LightningWeb.ProjectFileController.html"},{"type":"function","title":"LightningWeb.ProjectFileController.download/2","doc":"","ref":"LightningWeb.ProjectFileController.html#download/2"},{"type":"module","title":"LightningWeb.ProjectLive.Collaborators","doc":"This schema is used for building the changeset for adding new collaborators to a project.\nIt is mirroring the `Project -> ProjectUser` relationship.","ref":"LightningWeb.ProjectLive.Collaborators.html"},{"type":"function","title":"LightningWeb.ProjectLive.Collaborators.changeset/2","doc":"","ref":"LightningWeb.ProjectLive.Collaborators.html#changeset/2"},{"type":"function","title":"LightningWeb.ProjectLive.Collaborators.prepare_for_insertion/3","doc":"","ref":"LightningWeb.ProjectLive.Collaborators.html#prepare_for_insertion/3"},{"type":"module","title":"LightningWeb.ProjectLive.Collaborators.Collaborator","doc":"","ref":"LightningWeb.ProjectLive.Collaborators.Collaborator.html"},{"type":"module","title":"LightningWeb.ProjectLive.ConcurrencyInputComponent","doc":"","ref":"LightningWeb.ProjectLive.ConcurrencyInputComponent.html"},{"type":"function","title":"LightningWeb.ProjectLive.ConcurrencyInputComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.ProjectLive.ConcurrencyInputComponent.html#render/1"},{"type":"function","title":"LightningWeb.ProjectLive.ConcurrencyInputComponent.update/2","doc":"Callback implementation for  Phoenix.LiveComponent.update/2 .","ref":"LightningWeb.ProjectLive.ConcurrencyInputComponent.html#update/2"},{"type":"module","title":"LightningWeb.ProjectLive.FormComponent","doc":"Form Component for working with a single Job\n\nA Job's `adaptor` field is a combination of the module name and the version.\nIt's formatted as an NPM style string.\n\nThe form allows the user to select a module by name and then it's version,\nwhile the version dropdown itself references `adaptor` directly.\n\nMeaning the `adaptor_name` dropdown and assigns value is not persisted.","ref":"LightningWeb.ProjectLive.FormComponent.html"},{"type":"function","title":"LightningWeb.ProjectLive.FormComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.ProjectLive.FormComponent.html#render/1"},{"type":"module","title":"LightningWeb.ProjectLive.Index","doc":"LiveView for listing and managing Projects","ref":"LightningWeb.ProjectLive.Index.html"},{"type":"function","title":"LightningWeb.ProjectLive.Index.delete_action/1","doc":"","ref":"LightningWeb.ProjectLive.Index.html#delete_action/1"},{"type":"function","title":"LightningWeb.ProjectLive.Index.get_project_owner_name/1","doc":"","ref":"LightningWeb.ProjectLive.Index.html#get_project_owner_name/1"},{"type":"function","title":"LightningWeb.ProjectLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.ProjectLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.ProjectLive.InvitedCollaborators","doc":"This schema is used for building the changeset for adding new collaborators to a project.\nIt is mirroring the `Project -> ProjectUser` relationship.","ref":"LightningWeb.ProjectLive.InvitedCollaborators.html"},{"type":"function","title":"LightningWeb.ProjectLive.InvitedCollaborators.changeset/2","doc":"","ref":"LightningWeb.ProjectLive.InvitedCollaborators.html#changeset/2"},{"type":"function","title":"LightningWeb.ProjectLive.InvitedCollaborators.validate_collaborators/2","doc":"","ref":"LightningWeb.ProjectLive.InvitedCollaborators.html#validate_collaborators/2"},{"type":"module","title":"LightningWeb.ProjectLive.InvitedCollaborators.InvitedCollaborator","doc":"","ref":"LightningWeb.ProjectLive.InvitedCollaborators.InvitedCollaborator.html"},{"type":"module","title":"LightningWeb.ProjectLive.MFARequired","doc":"Liveview for project access denied error messages","ref":"LightningWeb.ProjectLive.MFARequired.html"},{"type":"function","title":"LightningWeb.ProjectLive.MFARequired.on_mount/4","doc":"","ref":"LightningWeb.ProjectLive.MFARequired.html#on_mount/4"},{"type":"function","title":"LightningWeb.ProjectLive.MFARequired.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.ProjectLive.MFARequired.html#render/1"},{"type":"module","title":"LightningWeb.ProjectLive.Settings","doc":"Index Liveview for project settings","ref":"LightningWeb.ProjectLive.Settings.html"},{"type":"function","title":"LightningWeb.ProjectLive.Settings.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.ProjectLive.Settings.html#render/1"},{"type":"function","title":"LightningWeb.ProjectLive.Settings.support_access_toggle/1","doc":"","ref":"LightningWeb.ProjectLive.Settings.html#support_access_toggle/1"},{"type":"function","title":"Attributes - LightningWeb.ProjectLive.Settings.support_access_toggle/1","doc":"* `can_edit_project` (`:boolean`) (required)\n* `project` (`:any`) (required)","ref":"LightningWeb.ProjectLive.Settings.html#support_access_toggle/1-attributes"},{"type":"module","title":"LightningWeb.ReAuthenticateLive.New","doc":"LiveView for re-authentication page.","ref":"LightningWeb.ReAuthenticateLive.New.html"},{"type":"function","title":"LightningWeb.ReAuthenticateLive.New.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.ReAuthenticateLive.New.html#render/1"},{"type":"module","title":"LightningWeb.RouteHelpers","doc":"Convenience functions for generating paths.","ref":"LightningWeb.RouteHelpers.html"},{"type":"function","title":"LightningWeb.RouteHelpers.oidc_callback_url/0","doc":"","ref":"LightningWeb.RouteHelpers.html#oidc_callback_url/0"},{"type":"function","title":"LightningWeb.RouteHelpers.project_dashboard_url/1","doc":"","ref":"LightningWeb.RouteHelpers.html#project_dashboard_url/1"},{"type":"module","title":"LightningWeb.Router","doc":"The router for Lightning.","ref":"LightningWeb.Router.html"},{"type":"function","title":"LightningWeb.Router.api/2","doc":"","ref":"LightningWeb.Router.html#api/2"},{"type":"function","title":"LightningWeb.Router.authenticated_api/2","doc":"","ref":"LightningWeb.Router.html#authenticated_api/2"},{"type":"function","title":"LightningWeb.Router.authenticated_json/2","doc":"","ref":"LightningWeb.Router.html#authenticated_json/2"},{"type":"function","title":"LightningWeb.Router.browser/2","doc":"","ref":"LightningWeb.Router.html#browser/2"},{"type":"function","title":"LightningWeb.Router.call/2","doc":"Callback invoked by Plug on every request.","ref":"LightningWeb.Router.html#call/2"},{"type":"function","title":"LightningWeb.Router.init/1","doc":"Callback required by Plug that initializes the router\nfor serving web requests.","ref":"LightningWeb.Router.html#init/1"},{"type":"function","title":"LightningWeb.Router.storybook_assets/2","doc":"","ref":"LightningWeb.Router.html#storybook_assets/2"},{"type":"function","title":"LightningWeb.Router.storybook_browser/2","doc":"","ref":"LightningWeb.Router.html#storybook_browser/2"},{"type":"module","title":"LightningWeb.RunChannel","doc":"Phoenix channel to interact with Runs.","ref":"LightningWeb.RunChannel.html"},{"type":"function","title":"LightningWeb.RunChannel.child_spec/1","doc":"","ref":"LightningWeb.RunChannel.html#child_spec/1"},{"type":"function","title":"LightningWeb.RunChannel.handle_in/3","doc":"For the time being, calls to `fetch:dataclip` will return dataclips that are\npreformatted for use as \"initial state\" in a run.\n\nThis means that the body of http requests will be nested inside a \"data\" key.\n\nThere is an open discussion on the community that may impact how we\nstore HTTP requests in the database as dataclips and how we send the body\nof those HTTP requests to the worker to use as initial state.","ref":"LightningWeb.RunChannel.html#handle_in/3"},{"type":"function","title":"LightningWeb.RunChannel.start_link/1","doc":"","ref":"LightningWeb.RunChannel.html#start_link/1"},{"type":"module","title":"LightningWeb.RunLive.ExportConfirmationModal","doc":"","ref":"LightningWeb.RunLive.ExportConfirmationModal.html"},{"type":"module","title":"LightningWeb.RunLive.Index","doc":"Index Liveview for Runs","ref":"LightningWeb.RunLive.Index.html"},{"type":"function","title":"LightningWeb.RunLive.Index.checked?/2","doc":"Takes a changeset used for querying workorders and checks to see if the given\nfilter is present in that changeset. Returns true or false.","ref":"LightningWeb.RunLive.Index.html#checked?/2"},{"type":"function","title":"LightningWeb.RunLive.Index.filters_changeset/1","doc":"Creates a changeset based on given parameters and the fixed workorder filter types.","ref":"LightningWeb.RunLive.Index.html#filters_changeset/1"},{"type":"function","title":"LightningWeb.RunLive.Index.handle_info/2","doc":"When a WorkOrderCreated event is detected, we first check to see if the new\nwork order is admissible on the page, given the current filters. If it is, we\nadd it to the top of the page. If not, nothing happens.","ref":"LightningWeb.RunLive.Index.html#handle_info/2"},{"type":"function","title":"LightningWeb.RunLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.RunLive.Index.html#render/1"},{"type":"function","title":"LightningWeb.RunLive.Index.validate_bulk_rerun/2","doc":"","ref":"LightningWeb.RunLive.Index.html#validate_bulk_rerun/2"},{"type":"module","title":"LightningWeb.RunLive.RerunJobComponent","doc":"Rerun job component","ref":"LightningWeb.RunLive.RerunJobComponent.html"},{"type":"module","title":"LightningWeb.RunLive.RunViewerLive","doc":"","ref":"LightningWeb.RunLive.RunViewerLive.html"},{"type":"function","title":"LightningWeb.RunLive.RunViewerLive.apply_selected_step_id/2","doc":"","ref":"LightningWeb.RunLive.RunViewerLive.html#apply_selected_step_id/2"},{"type":"function","title":"LightningWeb.RunLive.RunViewerLive.handle_steps_change/1","doc":"","ref":"LightningWeb.RunLive.RunViewerLive.html#handle_steps_change/1"},{"type":"module","title":"LightningWeb.RunLive.Show","doc":"","ref":"LightningWeb.RunLive.Show.html"},{"type":"function","title":"LightningWeb.RunLive.Show.apply_selected_step_id/2","doc":"","ref":"LightningWeb.RunLive.Show.html#apply_selected_step_id/2"},{"type":"function","title":"LightningWeb.RunLive.Show.handle_steps_change/1","doc":"","ref":"LightningWeb.RunLive.Show.html#handle_steps_change/1"},{"type":"module","title":"LightningWeb.RunLive.Streaming","doc":"","ref":"LightningWeb.RunLive.Streaming.html"},{"type":"function","title":"LightningWeb.RunLive.Streaming.add_or_update_step/2","doc":"","ref":"LightningWeb.RunLive.Streaming.html#add_or_update_step/2"},{"type":"function","title":"LightningWeb.RunLive.Streaming.get_dataclip/2","doc":"","ref":"LightningWeb.RunLive.Streaming.html#get_dataclip/2"},{"type":"function","title":"LightningWeb.RunLive.Streaming.get_run_async/2","doc":"Starts an async process that will fetch the run with the given ID.","ref":"LightningWeb.RunLive.Streaming.html#get_run_async/2"},{"type":"function","title":"LightningWeb.RunLive.Streaming.maybe_load_input_dataclip/1","doc":"","ref":"LightningWeb.RunLive.Streaming.html#maybe_load_input_dataclip/1"},{"type":"function","title":"LightningWeb.RunLive.Streaming.maybe_load_output_dataclip/1","doc":"","ref":"LightningWeb.RunLive.Streaming.html#maybe_load_output_dataclip/1"},{"type":"function","title":"LightningWeb.RunLive.Streaming.sort_steps/1","doc":"","ref":"LightningWeb.RunLive.Streaming.html#sort_steps/1"},{"type":"function","title":"LightningWeb.RunLive.Streaming.unselect_step/1","doc":"","ref":"LightningWeb.RunLive.Streaming.html#unselect_step/1"},{"type":"module","title":"LightningWeb.RunLive.WorkOrderComponent","doc":"Work Order component","ref":"LightningWeb.RunLive.WorkOrderComponent.html"},{"type":"function","title":"LightningWeb.RunLive.WorkOrderComponent.render/1","doc":"","ref":"LightningWeb.RunLive.WorkOrderComponent.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.RunLive.WorkOrderComponent.render/1","doc":"* `show_details` (`:boolean`) - Defaults to `false`.\n* `show_prev_runs` (`:boolean`) - Defaults to `false`.\n* `entry_selected` (`:boolean`) - Defaults to `false`.","ref":"LightningWeb.RunLive.WorkOrderComponent.html#render/1-attributes"},{"type":"module","title":"LightningWeb.SandboxLive.Components","doc":"","ref":"LightningWeb.SandboxLive.Components.html"},{"type":"function","title":"LightningWeb.SandboxLive.Components.color_palette/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#color_palette/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.color_palette/1","doc":"* `id` (`:string`) (required)\n* `field` (`Phoenix.HTML.FormField`) (required)\n* `palette` (`:list`) - Defaults to `[\"#870d4c\", \"#E33D63\", \"#E64A2E\", \"#F39B33\", \"#F4C644\", \"#fcde32\", \"#d6e819\", \"#9AD04E\", \"#E040FB\", \"#8E3FB1\", \"#5E3FB8\", \"#5AA1F0\", \"#68d6e2\", \"#4AC1CE\", \"#2E9B92\", \"#56B15A\"]`.\n* `label` (`:string`) - Defaults to `\"Color\"`.\n* `class` (`:string`) - Defaults to `\"\"`.\n* `disabled` (`:boolean`) - Defaults to `false`.","ref":"LightningWeb.SandboxLive.Components.html#color_palette/1-attributes"},{"type":"function","title":"LightningWeb.SandboxLive.Components.color_palette_hex_colors/0","doc":"","ref":"LightningWeb.SandboxLive.Components.html#color_palette_hex_colors/0"},{"type":"function","title":"LightningWeb.SandboxLive.Components.confirm_delete_modal/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#confirm_delete_modal/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.confirm_delete_modal/1","doc":"* `open?` (`:boolean`) (required)\n* `sandbox` (`Lightning.Projects.Project`) (required)\n* `changeset` (`:any`) (required)\n* `root_project` (`Lightning.Projects.Project`) (required)","ref":"LightningWeb.SandboxLive.Components.html#confirm_delete_modal/1-attributes"},{"type":"function","title":"LightningWeb.SandboxLive.Components.create_button/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#create_button/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.create_button/1","doc":"* `current_project` (`Lightning.Projects.Project`) (required)\n* `disabled` (`:boolean`) (required)\n* `tooltip` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.SandboxLive.Components.html#create_button/1-attributes"},{"type":"function","title":"LightningWeb.SandboxLive.Components.header/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#header/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.header/1","doc":"* `current_project` (`Lightning.Projects.Project`) (required)\n* `enable_create_button` (`:boolean`) (required)\n* `disabled_button_tooltip` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.SandboxLive.Components.html#header/1-attributes"},{"type":"function","title":"LightningWeb.SandboxLive.Components.merge_modal/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#merge_modal/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.merge_modal/1","doc":"* `open?` (`:boolean`) (required)\n* `sandbox` (`Lightning.Projects.Project`) (required)\n* `target_options` (`:list`) (required)\n* `changeset` (`:any`) (required)\n* `descendants` (`:list`) - Defaults to `[]`.\n* `has_diverged` (`:boolean`) - Defaults to `false`.","ref":"LightningWeb.SandboxLive.Components.html#merge_modal/1-attributes"},{"type":"function","title":"LightningWeb.SandboxLive.Components.workspace_list/1","doc":"","ref":"LightningWeb.SandboxLive.Components.html#workspace_list/1"},{"type":"function","title":"Attributes - LightningWeb.SandboxLive.Components.workspace_list/1","doc":"* `root_project` (`Lightning.Projects.Project`) - Defaults to `nil`.\n* `current_project` (`Lightning.Projects.Project`) (required)\n* `sandboxes` (`:list`) (required)\n* `enable_create_button` (`:boolean`) (required)\n* `disabled_button_tooltip` (`:string`) - Defaults to `nil`.","ref":"LightningWeb.SandboxLive.Components.html#workspace_list/1-attributes"},{"type":"module","title":"LightningWeb.SandboxLive.FormComponent","doc":"","ref":"LightningWeb.SandboxLive.FormComponent.html"},{"type":"type","title":"LightningWeb.SandboxLive.FormComponent.mode/0","doc":"","ref":"LightningWeb.SandboxLive.FormComponent.html#t:mode/0"},{"type":"module","title":"LightningWeb.SandboxLive.Index","doc":"","ref":"LightningWeb.SandboxLive.Index.html"},{"type":"module","title":"LightningWeb.Telemetry","doc":"Assorted metrics to collect during runtime.\n\nSee https://hexdocs.pm/phoenix/telemetry.html","ref":"LightningWeb.Telemetry.html"},{"type":"function","title":"LightningWeb.Telemetry.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"LightningWeb.Telemetry.html#child_spec/1"},{"type":"function","title":"LightningWeb.Telemetry.metrics/0","doc":"","ref":"LightningWeb.Telemetry.html#metrics/0"},{"type":"function","title":"LightningWeb.Telemetry.start_link/1","doc":"","ref":"LightningWeb.Telemetry.html#start_link/1"},{"type":"function","title":"LightningWeb.Telemetry.with_span/3","doc":"Convenience function that wraps `:telemetry.span/3`.\n\nGiven a function with an arity of zero, it passes the `metadata` argument\nout with the result of the function.\n\nIf you need to control the `metadata`, pass in a function with an arity of\none. It will be called with the metadata provided and expects the result and\nthe updated metadata to be returned in a tuple.\n\nExample:\n\n    with_span([:my, span], %{project_id: 123}, fn -> get_project(456) end)\n\nOr when you want to extend the metadata:\n\n    with_span([:my, :span], %{user_id: 123}, fn _metadata ->\n      project = get_project(456)\n      {project, %{project_id: project.id}}\n    end)","ref":"LightningWeb.Telemetry.html#with_span/3"},{"type":"module","title":"LightningWeb.TokensLive.Index","doc":"LiveView for listing and managing tokens","ref":"LightningWeb.TokensLive.Index.html"},{"type":"function","title":"LightningWeb.TokensLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.TokensLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.UiMetrics","doc":"A temporary measure to allow WorkflowEditor and JobEditor UI components to\nreport selected metrics and have these logged.","ref":"LightningWeb.UiMetrics.html"},{"type":"function","title":"LightningWeb.UiMetrics.log_job_editor_metrics/2","doc":"","ref":"LightningWeb.UiMetrics.html#log_job_editor_metrics/2"},{"type":"function","title":"LightningWeb.UiMetrics.log_workflow_editor_metrics/2","doc":"","ref":"LightningWeb.UiMetrics.html#log_workflow_editor_metrics/2"},{"type":"module","title":"LightningWeb.UserAuth","doc":"The UserAuth controller.","ref":"LightningWeb.UserAuth.html"},{"type":"function","title":"LightningWeb.UserAuth.authenticate_bearer/2","doc":"","ref":"LightningWeb.UserAuth.html#authenticate_bearer/2"},{"type":"function","title":"LightningWeb.UserAuth.fetch_current_user/2","doc":"Authenticates the user by looking into the session\nand remember me token.","ref":"LightningWeb.UserAuth.html#fetch_current_user/2"},{"type":"function","title":"LightningWeb.UserAuth.get_bearer/1","doc":"","ref":"LightningWeb.UserAuth.html#get_bearer/1"},{"type":"function","title":"LightningWeb.UserAuth.log_in_user/2","doc":"Logs the user in by creating a new session token.","ref":"LightningWeb.UserAuth.html#log_in_user/2"},{"type":"function","title":"LightningWeb.UserAuth.log_out_user/1","doc":"Logs the user out.\n\nIt clears all session data for safety. See renew_session.","ref":"LightningWeb.UserAuth.html#log_out_user/1"},{"type":"function","title":"LightningWeb.UserAuth.mark_totp_pending/1","doc":"","ref":"LightningWeb.UserAuth.html#mark_totp_pending/1"},{"type":"function","title":"LightningWeb.UserAuth.new_session/2","doc":"Assigns the token to a new session.\n\nIt renews the session ID and clears the whole session\nto avoid fixation attacks. See the renew_session\nfunction to customize this behaviour.\n\nIt also sets a `:live_socket_id` key in the session,\nso LiveView sessions are identified and automatically\ndisconnected on log out. The line can be safely removed\nif you are not using LiveView.","ref":"LightningWeb.UserAuth.html#new_session/2"},{"type":"function","title":"LightningWeb.UserAuth.on_mount/4","doc":"Used for LiveView routes that require the user to be reauthenticated.","ref":"LightningWeb.UserAuth.html#on_mount/4"},{"type":"function","title":"LightningWeb.UserAuth.reauth_sudo_mode/2","doc":"Reauthenticate the user by using the sudo token","ref":"LightningWeb.UserAuth.html#reauth_sudo_mode/2"},{"type":"function","title":"LightningWeb.UserAuth.redirect_if_user_is_authenticated/2","doc":"Used for routes that require the user to not be authenticated.","ref":"LightningWeb.UserAuth.html#redirect_if_user_is_authenticated/2"},{"type":"function","title":"LightningWeb.UserAuth.redirect_with_return_to/2","doc":"Returns to or redirects to the dashboard and potentially set remember_me token.","ref":"LightningWeb.UserAuth.html#redirect_with_return_to/2"},{"type":"function","title":"LightningWeb.UserAuth.require_authenticated_api_resource/2","doc":"Used for API routes that require the resource to be authenticated.\nA resource can be a `User` or a `ProjectRepoConnection`","ref":"LightningWeb.UserAuth.html#require_authenticated_api_resource/2"},{"type":"function","title":"LightningWeb.UserAuth.require_authenticated_user/2","doc":"Used for routes that require the user to be authenticated.\n\nIf you want to enforce the user email is confirmed before\nthey use the application at all, here would be a good place.","ref":"LightningWeb.UserAuth.html#require_authenticated_user/2"},{"type":"function","title":"LightningWeb.UserAuth.require_sudo_user/2","doc":"Used for routes that require the user to be reauthenticated.","ref":"LightningWeb.UserAuth.html#require_sudo_user/2"},{"type":"function","title":"LightningWeb.UserAuth.require_superuser/2","doc":"Require that the user has the `superuser` role","ref":"LightningWeb.UserAuth.html#require_superuser/2"},{"type":"function","title":"LightningWeb.UserAuth.totp_pending?/1","doc":"","ref":"LightningWeb.UserAuth.html#totp_pending?/1"},{"type":"function","title":"LightningWeb.UserAuth.totp_validated/1","doc":"","ref":"LightningWeb.UserAuth.html#totp_validated/1"},{"type":"module","title":"LightningWeb.UserConfirmationController","doc":"","ref":"LightningWeb.UserConfirmationController.html"},{"type":"function","title":"LightningWeb.UserConfirmationController.confirm_email/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#confirm_email/2"},{"type":"function","title":"LightningWeb.UserConfirmationController.create/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#create/2"},{"type":"function","title":"LightningWeb.UserConfirmationController.edit/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#edit/2"},{"type":"function","title":"LightningWeb.UserConfirmationController.new/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#new/2"},{"type":"function","title":"LightningWeb.UserConfirmationController.send_email/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#send_email/2"},{"type":"function","title":"LightningWeb.UserConfirmationController.update/2","doc":"","ref":"LightningWeb.UserConfirmationController.html#update/2"},{"type":"module","title":"LightningWeb.UserLive.Components","doc":"","ref":"LightningWeb.UserLive.Components.html"},{"type":"function","title":"LightningWeb.UserLive.Components.users_table/1","doc":"","ref":"LightningWeb.UserLive.Components.html#users_table/1"},{"type":"function","title":"Attributes - LightningWeb.UserLive.Components.users_table/1","doc":"* `socket` (`:map`) (required)\n* `users` (`:list`) (required)\n* `live_action` (`:atom`) (required)\n* `sort_key` (`:string`) - Defaults to `\"email\"`.\n* `sort_direction` (`:string`) - Defaults to `\"asc\"`.\n* `target` (`:any`) - Defaults to `nil`.\n* `filter` (`:string`) - Defaults to `\"\"`.\n* `user_deletion_modal` (`:atom`) - Defaults to `LightningWeb.Components.UserDeletionModal`.\n* `delete_user` (`Lightning.Accounts.User`) - Defaults to `nil`.","ref":"LightningWeb.UserLive.Components.html#users_table/1-attributes"},{"type":"module","title":"LightningWeb.UserLive.Edit","doc":"LiveView for editing a single job, which inturn uses `LightningWeb.JobLive.BigFormComponent`\nfor common functionality.","ref":"LightningWeb.UserLive.Edit.html"},{"type":"function","title":"LightningWeb.UserLive.Edit.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.UserLive.Edit.html#render/1"},{"type":"module","title":"LightningWeb.UserLive.FormComponent","doc":"Form component for creating and editing users","ref":"LightningWeb.UserLive.FormComponent.html"},{"type":"function","title":"LightningWeb.UserLive.FormComponent.render/1","doc":"Callback implementation for  Phoenix.LiveComponent.render/1 .","ref":"LightningWeb.UserLive.FormComponent.html#render/1"},{"type":"function","title":"LightningWeb.UserLive.FormComponent.user_options/0","doc":"","ref":"LightningWeb.UserLive.FormComponent.html#user_options/0"},{"type":"module","title":"LightningWeb.UserLive.Index","doc":"Index page for listing users","ref":"LightningWeb.UserLive.Index.html"},{"type":"function","title":"LightningWeb.UserLive.Index.render/1","doc":"Callback implementation for  Phoenix.LiveView.render/1 .","ref":"LightningWeb.UserLive.Index.html#render/1"},{"type":"module","title":"LightningWeb.UserRegistrationController","doc":"","ref":"LightningWeb.UserRegistrationController.html"},{"type":"function","title":"LightningWeb.UserRegistrationController.create/2","doc":"","ref":"LightningWeb.UserRegistrationController.html#create/2"},{"type":"function","title":"LightningWeb.UserRegistrationController.new/2","doc":"","ref":"LightningWeb.UserRegistrationController.html#new/2"},{"type":"module","title":"LightningWeb.UserResetPasswordController","doc":"","ref":"LightningWeb.UserResetPasswordController.html"},{"type":"function","title":"LightningWeb.UserResetPasswordController.create/2","doc":"","ref":"LightningWeb.UserResetPasswordController.html#create/2"},{"type":"function","title":"LightningWeb.UserResetPasswordController.edit/2","doc":"","ref":"LightningWeb.UserResetPasswordController.html#edit/2"},{"type":"function","title":"LightningWeb.UserResetPasswordController.new/2","doc":"","ref":"LightningWeb.UserResetPasswordController.html#new/2"},{"type":"function","title":"LightningWeb.UserResetPasswordController.update/2","doc":"","ref":"LightningWeb.UserResetPasswordController.html#update/2"},{"type":"module","title":"LightningWeb.UserSessionController","doc":"","ref":"LightningWeb.UserSessionController.html"},{"type":"function","title":"LightningWeb.UserSessionController.auth_handler_url/0","doc":"","ref":"LightningWeb.UserSessionController.html#auth_handler_url/0"},{"type":"function","title":"LightningWeb.UserSessionController.create/2","doc":"","ref":"LightningWeb.UserSessionController.html#create/2"},{"type":"function","title":"LightningWeb.UserSessionController.delete/2","doc":"","ref":"LightningWeb.UserSessionController.html#delete/2"},{"type":"function","title":"LightningWeb.UserSessionController.exchange_token/2","doc":"","ref":"LightningWeb.UserSessionController.html#exchange_token/2"},{"type":"function","title":"LightningWeb.UserSessionController.new/2","doc":"","ref":"LightningWeb.UserSessionController.html#new/2"},{"type":"module","title":"LightningWeb.UserSocket","doc":"","ref":"LightningWeb.UserSocket.html"},{"type":"function","title":"LightningWeb.UserSocket.handle_error/2","doc":"","ref":"LightningWeb.UserSocket.html#handle_error/2"},{"type":"module","title":"LightningWeb.UserTOTPController","doc":"","ref":"LightningWeb.UserTOTPController.html"},{"type":"function","title":"LightningWeb.UserTOTPController.create/2","doc":"","ref":"LightningWeb.UserTOTPController.html#create/2"},{"type":"function","title":"LightningWeb.UserTOTPController.new/2","doc":"","ref":"LightningWeb.UserTOTPController.html#new/2"},{"type":"module","title":"LightningWeb.Utils","doc":"Helper functions to deal with forms, query params, and dynamic plug setups.\n\nThis module contains:\n\n  * Functions to build and decode query parameters (`build_params_for_field/3` and `decode_one/2`)\n  * A macro to set up multiple plugs dynamically (`add_dynamic_plugs/1`)","ref":"LightningWeb.Utils.html"},{"type":"macro","title":"LightningWeb.Utils.add_dynamic_plugs/1","doc":"Sets up multiple plugs using `Replug`.\n\nAccepts a list of plug configurations, where each configuration is a tuple:\n\n    {PlugModule, opts}\n\n* `PlugModule` is the module implementing the plug.\n* `opts` can be a keyword list of options or a tuple like `{module, function}`\n  for dynamic plug configuration.\n\nThis macro will iterate over the provided list, calling `plug Replug, plug: plug, opts: opts`\nfor each item.","ref":"LightningWeb.Utils.html#add_dynamic_plugs/1"},{"type":"macro","title":"Examples - LightningWeb.Utils.add_dynamic_plugs/1","doc":"@pre_session_plugs Application.compile_env(:my_app, :pre_session_plugs, [])\n    add_dynamic_plugs(@pre_session_plugs)","ref":"LightningWeb.Utils.html#add_dynamic_plugs/1-examples"},{"type":"function","title":"LightningWeb.Utils.build_params_for_field/3","doc":"Builds nested parameters for the given `form` field with the specified `value`.\n\nInternally:\n\n  1. Obtains the param name for the `field` using `Form.input_name(form, field)`.\n  2. Uses `decode_one/2` to decode the `{param_name, value}` tuple into a map.","ref":"LightningWeb.Utils.html#build_params_for_field/3"},{"type":"function","title":"Examples - LightningWeb.Utils.build_params_for_field/3","doc":"iex> form = # some %Phoenix.HTML.Form{} struct\n    iex> LightningWeb.Utils.build_params_for_field(form, :username, \"jane_doe\")\n    %{\"user\" => %{\"username\" => \"jane_doe\"}}","ref":"LightningWeb.Utils.html#build_params_for_field/3-examples"},{"type":"function","title":"LightningWeb.Utils.decode_one/2","doc":"Decodes a single `{key, value}` pair into a nested map suitable for query/form data.\n\nThis function leverages `Plug.Conn.Query.decode_each/2` and `Query.decode_done/2`\nto parse the key and value into the expected nested structure.\n\nIf an accumulator (`acc`) is provided, it will merge the newly decoded structure\ninto `acc`. Otherwise, a new map is returned.","ref":"LightningWeb.Utils.html#decode_one/2"},{"type":"function","title":"Examples - LightningWeb.Utils.decode_one/2","doc":"iex> LightningWeb.Utils.decode_one({\"user[username]\", \"jane_doe\"})\n    %{\"user\" => %{\"username\" => \"jane_doe\"}}\n\n    iex> LightningWeb.Utils.decode_one({\"user[username]\", \"jane_doe\"}, %{\"user\" => %{\"admin\" => false}})\n    %{\"user\" => %{\"admin\" => false, \"username\" => \"jane_doe\"}}","ref":"LightningWeb.Utils.html#decode_one/2-examples"},{"type":"function","title":"LightningWeb.Utils.noreply/1","doc":"","ref":"LightningWeb.Utils.html#noreply/1"},{"type":"function","title":"LightningWeb.Utils.ok/1","doc":"","ref":"LightningWeb.Utils.html#ok/1"},{"type":"function","title":"LightningWeb.Utils.pluralize_with_s/2","doc":"","ref":"LightningWeb.Utils.html#pluralize_with_s/2"},{"type":"function","title":"LightningWeb.Utils.reply/1","doc":"","ref":"LightningWeb.Utils.html#reply/1"},{"type":"function","title":"LightningWeb.Utils.respond_service_unavailable/4","doc":"Standard **503 Service Unavailable** response for transient DB outages\nduring webhook handling.\n\nThis function is typically called inside a `with_webhook_retry/2` error branch\nwhen retries against the database have been exhausted.","ref":"LightningWeb.Utils.html#respond_service_unavailable/4"},{"type":"function","title":"Options - LightningWeb.Utils.respond_service_unavailable/4","doc":"* `:message`  custom response message, may include `\"%{s}\"` placeholder\n    which will be replaced with the retry-after value.\n  * `:halt?`  whether to halt the connection after sending the response.\n    Defaults to `true`.","ref":"LightningWeb.Utils.html#respond_service_unavailable/4-options"},{"type":"module","title":"LightningWeb.VersionControlController","doc":"","ref":"LightningWeb.VersionControlController.html"},{"type":"function","title":"LightningWeb.VersionControlController.index/2","doc":"","ref":"LightningWeb.VersionControlController.html#index/2"},{"type":"module","title":"LightningWeb.WebhooksController","doc":"","ref":"LightningWeb.WebhooksController.html"},{"type":"function","title":"LightningWeb.WebhooksController.check/2","doc":"","ref":"LightningWeb.WebhooksController.html#check/2"},{"type":"function","title":"LightningWeb.WebhooksController.create/2","doc":"","ref":"LightningWeb.WebhooksController.html#create/2"},{"type":"module","title":"LightningWeb.WorkListener","doc":"Updates workers when there are runs to be executed","ref":"LightningWeb.WorkListener.html"},{"type":"function","title":"LightningWeb.WorkListener.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"LightningWeb.WorkListener.html#child_spec/1"},{"type":"function","title":"LightningWeb.WorkListener.start_link/1","doc":"","ref":"LightningWeb.WorkListener.html#start_link/1"},{"type":"module","title":"LightningWeb.WorkerChannel","doc":"Websocket channel to handle when workers join or claim something to run.","ref":"LightningWeb.WorkerChannel.html"},{"type":"function","title":"LightningWeb.WorkerChannel.child_spec/1","doc":"","ref":"LightningWeb.WorkerChannel.html#child_spec/1"},{"type":"function","title":"LightningWeb.WorkerChannel.start_link/1","doc":"","ref":"LightningWeb.WorkerChannel.html#start_link/1"},{"type":"module","title":"LightningWeb.WorkerPresence","doc":"Handles worker presence tracking for connected workers.\n\nThis module leverages Phoenix.Presence to track worker connections,\nallowing the system to dynamically calculate available worker capacity.","ref":"LightningWeb.WorkerPresence.html"},{"type":"function","title":"LightningWeb.WorkerPresence.child_spec/1","doc":"","ref":"LightningWeb.WorkerPresence.html#child_spec/1"},{"type":"function","title":"LightningWeb.WorkerPresence.fetch/2","doc":"Callback implementation for  Phoenix.Presence.fetch/2 .","ref":"LightningWeb.WorkerPresence.html#fetch/2"},{"type":"function","title":"LightningWeb.WorkerPresence.fetchers_pids/0","doc":"","ref":"LightningWeb.WorkerPresence.html#fetchers_pids/0"},{"type":"function","title":"LightningWeb.WorkerPresence.get_by_key/2","doc":"Callback implementation for  Phoenix.Presence.get_by_key/2 .","ref":"LightningWeb.WorkerPresence.html#get_by_key/2"},{"type":"function","title":"LightningWeb.WorkerPresence.list/1","doc":"Callback implementation for  Phoenix.Presence.list/1 .","ref":"LightningWeb.WorkerPresence.html#list/1"},{"type":"function","title":"LightningWeb.WorkerPresence.total_worker_capacity/0","doc":"Calculates the total worker capacity across all connected workers.\n\nReturns the sum of all worker capacities currently tracked in Presence.","ref":"LightningWeb.WorkerPresence.html#total_worker_capacity/0"},{"type":"function","title":"Examples - LightningWeb.WorkerPresence.total_worker_capacity/0","doc":"iex> LightningWeb.WorkerPresence.total_worker_capacity()\n    10","ref":"LightningWeb.WorkerPresence.html#total_worker_capacity/0-examples"},{"type":"function","title":"LightningWeb.WorkerPresence.track/3","doc":"Callback implementation for  Phoenix.Presence.track/3 .","ref":"LightningWeb.WorkerPresence.html#track/3"},{"type":"function","title":"LightningWeb.WorkerPresence.track/4","doc":"Callback implementation for  Phoenix.Presence.track/4 .","ref":"LightningWeb.WorkerPresence.html#track/4"},{"type":"function","title":"LightningWeb.WorkerPresence.track_worker/3","doc":"Tracks a worker's presence when they connect.","ref":"LightningWeb.WorkerPresence.html#track_worker/3"},{"type":"function","title":"Parameters - LightningWeb.WorkerPresence.track_worker/3","doc":"- `pid`: The process identifier for the worker's channel.\n  - `worker_id`: A unique identifier for the worker.\n  - `capacity`: The number of concurrent runs this worker can handle.","ref":"LightningWeb.WorkerPresence.html#track_worker/3-parameters"},{"type":"function","title":"Examples - LightningWeb.WorkerPresence.track_worker/3","doc":"iex> LightningWeb.WorkerPresence.track_worker(self(), \"worker-123\", 5)\n    {:ok, _ref}","ref":"LightningWeb.WorkerPresence.html#track_worker/3-examples"},{"type":"function","title":"LightningWeb.WorkerPresence.untrack/2","doc":"Callback implementation for  Phoenix.Presence.untrack/2 .","ref":"LightningWeb.WorkerPresence.html#untrack/2"},{"type":"function","title":"LightningWeb.WorkerPresence.untrack/3","doc":"Callback implementation for  Phoenix.Presence.untrack/3 .","ref":"LightningWeb.WorkerPresence.html#untrack/3"},{"type":"function","title":"LightningWeb.WorkerPresence.update/3","doc":"Callback implementation for  Phoenix.Presence.update/3 .","ref":"LightningWeb.WorkerPresence.html#update/3"},{"type":"function","title":"LightningWeb.WorkerPresence.update/4","doc":"Callback implementation for  Phoenix.Presence.update/4 .","ref":"LightningWeb.WorkerPresence.html#update/4"},{"type":"module","title":"LightningWeb.WorkerSocket","doc":"","ref":"LightningWeb.WorkerSocket.html"},{"type":"function","title":"LightningWeb.WorkerSocket.handle_error/2","doc":"","ref":"LightningWeb.WorkerSocket.html#handle_error/2"},{"type":"module","title":"LightningWeb.WorkflowChannel","doc":"Phoenix Channel for handling binary Yjs collaboration messages.\n\nUnlike LiveView events, Phoenix Channels properly support binary data\ntransmission without JSON serialization.","ref":"LightningWeb.WorkflowChannel.html"},{"type":"function","title":"LightningWeb.WorkflowChannel.child_spec/1","doc":"","ref":"LightningWeb.WorkflowChannel.html#child_spec/1"},{"type":"function","title":"LightningWeb.WorkflowChannel.handle_in/3","doc":"Handles explicit workflow save requests from the collaborative editor.\n\nThe save operation:\n1. Asks Session to extract and save the current Y.Doc state\n2. Session handles all Y.Doc interaction internally\n3. Returns success/error to the client\n\nNote: By the time this message is processed, all prior Y.js sync messages\nhave been processed due to Phoenix Channel's synchronous per-socket handling.\n\nSuccess response: {:ok, %{saved_at: DateTime, lock_version: integer}}\nError response: {:error, %{errors: map, type: string}}","ref":"LightningWeb.WorkflowChannel.html#handle_in/3"},{"type":"function","title":"LightningWeb.WorkflowChannel.start_link/1","doc":"","ref":"LightningWeb.WorkflowChannel.html#start_link/1"},{"type":"module","title":"LightningWeb.WorkflowController","doc":"","ref":"LightningWeb.WorkflowController.html"},{"type":"function","title":"LightningWeb.WorkflowController.create_run/2","doc":"Create a manual workflow run.\n\nBody:\n- job_id: Job to start from (required)\n- trigger_id: Trigger to start from (alternative to job_id)\n- dataclip_id: Existing dataclip ID (optional)\n- custom_body: Custom JSON input (optional)\n\nNote: Either job_id or trigger_id must be provided.\nEither dataclip_id or custom_body can be provided, but not both.","ref":"LightningWeb.WorkflowController.html#create_run/2"},{"type":"function","title":"LightningWeb.WorkflowController.get_run_steps/2","doc":"Get steps for a run filtered by job_id.\n\nQuery params:\n- job_id: Filter steps for a specific job (required)\n\nReturns the step data including id, input_dataclip_id, and job_id.\nUsed by the frontend to determine if a retry is available.","ref":"LightningWeb.WorkflowController.html#get_run_steps/2"},{"type":"function","title":"LightningWeb.WorkflowController.retry_run/2","doc":"Retry an existing run from a specific step.\n\nBody:\n- step_id: The step ID to retry from (required)\n\nCreates a new run on the same work order, copying independent upstream steps.","ref":"LightningWeb.WorkflowController.html#retry_run/2"},{"type":"module","title":"LightningWeb.WorkflowLive.Collaborate","doc":"LiveView for collaborative workflow editing using shared Y.js documents.\n\nThis LiveView handles both creating new workflows and editing existing ones:\n- For new workflows: Creates an ephemeral workflow with a temporary UUID\n- For existing workflows: Loads the workflow from the database\n\nSupports credential creation modal for both new and existing workflows.","ref":"LightningWeb.WorkflowLive.Collaborate.html"},{"type":"module","title":"LightningWeb.WorkflowLive.EditorPane","doc":"","ref":"LightningWeb.WorkflowLive.EditorPane.html"},{"type":"function","title":"LightningWeb.WorkflowLive.EditorPane.render/1","doc":"","ref":"LightningWeb.WorkflowLive.EditorPane.html#render/1"},{"type":"function","title":"Attributes - LightningWeb.WorkflowLive.EditorPane.render/1","doc":"* `id` (`:string`) (required)\n* `disabled` (`:boolean`) - Defaults to `false`.\n* `disabled_message` (`:string`) (required)\n* `class` (`:string`) - Defaults to `\"\"`.\n* `on_change` (`:any`) (required)\n* `adaptor` (`:string`) (required)\n* `source` (`:string`) (required)\n* `job_id` (`:string`) (required)","ref":"LightningWeb.WorkflowLive.EditorPane.html#render/1-attributes"},{"type":"module","title":"LightningWeb.WorkflowLive.Helpers","doc":"Helper functions for the Workflow LiveViews.","ref":"LightningWeb.WorkflowLive.Helpers.html"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.broadcast_updated_params/2","doc":"","ref":"LightningWeb.WorkflowLive.Helpers.html#broadcast_updated_params/2"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.build_url/2","doc":"Builds a URL with query parameters based on parameter definitions.","ref":"LightningWeb.WorkflowLive.Helpers.html#build_url/2"},{"type":"function","title":"Parameters - LightningWeb.WorkflowLive.Helpers.build_url/2","doc":"* `assigns` - The assigns from the LiveView\n  * `params` - List of parameter definitions. Each definition is a keyword list with:\n    * `:name` - The parameter name in the URL (required)\n    * `:value` - The value or a function that receives (assigns, params) (required)\n    * `:when` - Condition as boolean or function that receives (assigns, params) (default: true)\n    * `:transform` - Optional transformation function applied to the value","ref":"LightningWeb.WorkflowLive.Helpers.html#build_url/2-parameters"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.chat_params/0","doc":"Creates chat-related parameters","ref":"LightningWeb.WorkflowLive.Helpers.html#chat_params/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.code_view_params/0","doc":"Creates code view parameters","ref":"LightningWeb.WorkflowLive.Helpers.html#code_view_params/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.collaborative_editor_url/2","doc":"Builds a URL to the collaborative editor with converted query parameters.\n\nThis function uses a data-driven approach with the `@param_mappings` configuration\nto convert classical editor parameters to collaborative editor equivalents.","ref":"LightningWeb.WorkflowLive.Helpers.html#collaborative_editor_url/2"},{"type":"function","title":"Conversion Rules - LightningWeb.WorkflowLive.Helpers.collaborative_editor_url/2","doc":"- `a` (followed run)  `run`\n- `s` (selected step)  `job`/`trigger`/`edge` (context-aware based on selection)\n- `m=expand`  `panel=editor`\n- `m=workflow_input`  `panel=run`\n- `m=settings`  `panel=settings`\n- Preserves: `v`, `method`, `w-chat`, `j-chat`, `code`\n- Skips: `panel` (collaborative-only)","ref":"LightningWeb.WorkflowLive.Helpers.html#collaborative_editor_url/2-conversion-rules"},{"type":"function","title":"Parameters - LightningWeb.WorkflowLive.Helpers.collaborative_editor_url/2","doc":"- `params` - Route parameters map containing:\n  - `\"project_id\"` - Project UUID (required)\n  - `\"id\"` - Workflow UUID (required for `:edit`, absent for `:new`)\n  - Additional query parameters to preserve (e.g., `\"s\"`, `\"m\"`, `\"v\"`)\n- `live_action` - Current LiveView action (`:new` or `:edit`)","ref":"LightningWeb.WorkflowLive.Helpers.html#collaborative_editor_url/2-parameters"},{"type":"function","title":"Returns - LightningWeb.WorkflowLive.Helpers.collaborative_editor_url/2","doc":"A complete URL string for the collaborative editor with transformed query parameters","ref":"LightningWeb.WorkflowLive.Helpers.html#collaborative_editor_url/2-returns"},{"type":"function","title":"Examples - LightningWeb.WorkflowLive.Helpers.collaborative_editor_url/2","doc":"# Edit existing workflow with query params\n    iex> collaborative_editor_url(%{\n    ...>   \"project_id\" => \"proj-1\",\n    ...>   \"id\" => \"wf-1\",\n    ...>   \"s\" => \"job-abc\",\n    ...>   \"m\" => \"expand\"\n    ...> }, :edit)\n    \"/projects/proj-1/w/wf-1/collaborate?job=job-abc&panel=editor\"\n\n    # New workflow\n    iex> collaborative_editor_url(%{\n    ...>   \"project_id\" => \"proj-1\"\n    ...> }, :new)\n    \"/projects/proj-1/w/new/collaborate\"\n\n    # With multiple query params\n    iex> collaborative_editor_url(%{\n    ...>   \"project_id\" => \"proj-1\",\n    ...>   \"id\" => \"wf-1\",\n    ...>   \"s\" => \"job-123\",\n    ...>   \"v\" => \"42\",\n    ...>   \"custom\" => \"value\"\n    ...> }, :edit)\n    \"/projects/proj-1/w/wf-1/collaborate?custom=value&job=job-123&v=42\"","ref":"LightningWeb.WorkflowLive.Helpers.html#collaborative_editor_url/2-examples"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.orthogonal_params/0","doc":"Creates orthogonal parameters (excludes mode and selection)","ref":"LightningWeb.WorkflowLive.Helpers.html#orthogonal_params/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.param/3","doc":"Creates a parameter definition with common defaults.","ref":"LightningWeb.WorkflowLive.Helpers.html#param/3"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.params_without_mode_selection/0","doc":"Creates parameters excluding mode and selection","ref":"LightningWeb.WorkflowLive.Helpers.html#params_without_mode_selection/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.query_param/1","doc":"Creates a parameter that pulls from query_params","ref":"LightningWeb.WorkflowLive.Helpers.html#query_param/1"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.run_workflow/3","doc":"","ref":"LightningWeb.WorkflowLive.Helpers.html#run_workflow/3"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.save_workflow/2","doc":"","ref":"LightningWeb.WorkflowLive.Helpers.html#save_workflow/2"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.standard_params/0","doc":"Creates standard URL parameters (all common params)","ref":"LightningWeb.WorkflowLive.Helpers.html#standard_params/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.subscribe_to_params_update/1","doc":"","ref":"LightningWeb.WorkflowLive.Helpers.html#subscribe_to_params_update/1"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.to_latest_params/0","doc":"Creates URL parameters ignoring v (all common params except version tag)","ref":"LightningWeb.WorkflowLive.Helpers.html#to_latest_params/0"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.with_params/1","doc":"Creates parameters with custom overrides","ref":"LightningWeb.WorkflowLive.Helpers.html#with_params/1"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.workflow_enabled?/1","doc":"Determines if a workflow is enabled based on its triggers.\nAccepts either a Workflow struct or an Ecto.Changeset.","ref":"LightningWeb.WorkflowLive.Helpers.html#workflow_enabled?/1"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.workflow_input_params/1","doc":"Creates workflow input run parameters","ref":"LightningWeb.WorkflowLive.Helpers.html#workflow_input_params/1"},{"type":"function","title":"LightningWeb.WorkflowLive.Helpers.workflow_state_tooltip/1","doc":"Generates a tooltip describing the workflow's state.\nAccepts either a Workflow struct or an Ecto.Changeset.","ref":"LightningWeb.WorkflowLive.Helpers.html#workflow_state_tooltip/1"},{"type":"module","title":"LightningWeb.WorkflowLive.JobView","doc":"","ref":"LightningWeb.WorkflowLive.JobView.html"},{"type":"function","title":"LightningWeb.WorkflowLive.JobView.container/1","doc":"","ref":"LightningWeb.WorkflowLive.JobView.html#container/1"},{"type":"function","title":"Attributes - LightningWeb.WorkflowLive.JobView.container/1","doc":"* `id` (`:string`) (required)","ref":"LightningWeb.WorkflowLive.JobView.html#container/1-attributes"},{"type":"function","title":"Slots - LightningWeb.WorkflowLive.JobView.container/1","doc":"* `top`\n* `inner_block`\n* `bottom`\n* `column` - Accepts attributes:\n\n  * `class` (`:string`) - Extra CSS classes for the column.","ref":"LightningWeb.WorkflowLive.JobView.html#container/1-slots"},{"type":"function","title":"LightningWeb.WorkflowLive.JobView.job_edit_view/1","doc":"","ref":"LightningWeb.WorkflowLive.JobView.html#job_edit_view/1"},{"type":"function","title":"Attributes - LightningWeb.WorkflowLive.JobView.job_edit_view/1","doc":"* `job` (`:map`) (required)\n* `form` (`:map`) (required) - A form built from a job.\n* `current_user` (`:map`) (required)\n* `project` (`:map`) (required)\n* `close_url` (`:any`) (required)\n* `socket` (`:any`) (required)\n* `follow_run_id` (`:any`) - Defaults to `nil`.\n* `snapshot` (`:any`) (required)\n* `snapshot_version` (`:any`) (required)\n* `display_banner` (`:boolean`) - Defaults to `false`.\n* `banner_message` (`:string`) - Defaults to `\"\"`.\n* `presences` (`:list`) (required)\n* `prior_user_presence` (`:any`) (required)\n* `query_params` (`:map`) - Defaults to `%{}`.","ref":"LightningWeb.WorkflowLive.JobView.html#job_edit_view/1-attributes"},{"type":"function","title":"Slots - LightningWeb.WorkflowLive.JobView.job_edit_view/1","doc":"* `footer`\n* `collapsible_panel` - Accepts attributes:\n\n  * `id` (`:string`) (required)\n  * `panel_title` (`:string`) (required)\n  * `class` (`:string`) - Extra CSS classes for the column.","ref":"LightningWeb.WorkflowLive.JobView.html#job_edit_view/1-slots"},{"type":"module","title":"LightningWeb.WorkflowLive.NewManualRun","doc":"This module helps with the rewrite of the Workflow editor.\nIt implements the backend API for the React frontend.","ref":"LightningWeb.WorkflowLive.NewManualRun.html"},{"type":"function","title":"LightningWeb.WorkflowLive.NewManualRun.get_dataclips_filters/1","doc":"","ref":"LightningWeb.WorkflowLive.NewManualRun.html#get_dataclips_filters/1"},{"type":"function","title":"LightningWeb.WorkflowLive.NewManualRun.search_selectable_dataclips/4","doc":"","ref":"LightningWeb.WorkflowLive.NewManualRun.html#search_selectable_dataclips/4"},{"type":"module","title":"LightningWeb.WorkflowLive.NewWorkflowComponent","doc":"Comprehensive LiveView component for creating new workflows through multiple methods.\n\nThis component provides a unified interface for workflow creation, supporting three\ndistinct creation methods while maintaining a consistent user experience and\nvalidation pipeline. It serves as the primary entry point for all workflow\ncreation workflows within Lightning.","ref":"LightningWeb.WorkflowLive.NewWorkflowComponent.html"},{"type":"module","title":"LightningWeb.WorkflowLive.WorkflowAiChatComponent","doc":"LiveView component for the persistent workflow AI chat panel.\n\nThis component provides AI assistance for existing workflows, allowing users to\nmodify workflows using natural language descriptions while preserving existing\njob code.","ref":"LightningWeb.WorkflowLive.WorkflowAiChatComponent.html"},{"type":"module","title":"LightningWeb.WorkflowNewLive.WorkflowParams","doc":"Various function for reconciling changes to a workflow params map.\n\nThe front end editor uses JSON patches to represent changes to the workflow.","ref":"LightningWeb.WorkflowNewLive.WorkflowParams.html"},{"type":"function","title":"LightningWeb.WorkflowNewLive.WorkflowParams.apply_form_params/2","doc":"Produce a new set of params by applying the given form params to the current\nparams.","ref":"LightningWeb.WorkflowNewLive.WorkflowParams.html#apply_form_params/2"},{"type":"function","title":"LightningWeb.WorkflowNewLive.WorkflowParams.apply_patches/2","doc":"Produce a new set of params by applying the given patches to the current parms","ref":"LightningWeb.WorkflowNewLive.WorkflowParams.html#apply_patches/2"},{"type":"function","title":"LightningWeb.WorkflowNewLive.WorkflowParams.to_map/1","doc":"Convert a changeset to a serializable map of workflow params, suitable for\nsending to the front end editor.\n\nIt uses `Lightning.Helpers.json_safe/1` to ensure that the map is safe to\nserialize to JSON. This is necessary because the underlying model may\ncontain atom values.","ref":"LightningWeb.WorkflowNewLive.WorkflowParams.html#to_map/1"},{"type":"function","title":"LightningWeb.WorkflowNewLive.WorkflowParams.to_patches/2","doc":"Produce a set of patches that represent the difference between the initial\nparams and the target params.\n\nThis usually is used to produce a set of patches that represent the changes\nintroduced by a changeset.","ref":"LightningWeb.WorkflowNewLive.WorkflowParams.html#to_patches/2"},{"type":"module","title":"Lightning.API","doc":"Behaviour for implementing the Lightning interface.\n\nThis behaviour is used to mock specific functions in tests.","ref":"Lightning.API.html"},{"type":"module","title":"Lightning.AdaptorRegistry","doc":"Registry process to query and maintain a list of adaptors available for\nwriting jobs.\n\nCurrently it queries NPM for all modules in the `@openfn` organization and\nfilters out modules that are known not to be adaptors.\n\n**Usage**\n\n```\n# Starting the process\nAdaptorRegistry.start_link()\n# Getting a list of all adaptors\nLightning.AdaptorRegistry.AdaptorRegistry.all()\n```\n\n**Caching**\n\nBy default the results are cached to disk, and will be reused every start.\n\nIn order to disable or configure caching pass see: `start_link/1`.\n\nThe process uses `:continue` to return before the adaptors have been queried.\nThis does mean that the first call to the process will be delayed until\nthe `handle_continue/2` has finished.\n\n**Timeouts**\n\nThere is a 'general' timeout of 30s, this is used for GenServer calls like\n`all/1` and also internally when the modules are being queried. NPM can\nbe extremely fast to respond if the package is cached on their side, but\ncan take a couple of seconds if not cached.","ref":"Lightning.AdaptorRegistry.html"},{"type":"function","title":"Lightning.AdaptorRegistry.all/1","doc":"Get the current in-process list of adaptors.\nThis call will wait behind the `:continue` message when the process starts\nup, so it may take a while the first time it is called (and the list hasn't\nbeen fetched yet).","ref":"Lightning.AdaptorRegistry.html#all/1"},{"type":"function","title":"Lightning.AdaptorRegistry.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.AdaptorRegistry.html#child_spec/1"},{"type":"function","title":"Lightning.AdaptorRegistry.fetch/0","doc":"Fetch a list of packages for the @openfn organisation","ref":"Lightning.AdaptorRegistry.html#fetch/0"},{"type":"function","title":"Lightning.AdaptorRegistry.latest_for/2","doc":"Get a latest version for a given module.","ref":"Lightning.AdaptorRegistry.html#latest_for/2"},{"type":"function","title":"Lightning.AdaptorRegistry.local_adaptors_enabled?/0","doc":"","ref":"Lightning.AdaptorRegistry.html#local_adaptors_enabled?/0"},{"type":"function","title":"Lightning.AdaptorRegistry.resolve_adaptor/1","doc":"","ref":"Lightning.AdaptorRegistry.html#resolve_adaptor/1"},{"type":"function","title":"Lightning.AdaptorRegistry.resolve_package_name/1","doc":"Destructures an NPM style package name into module name and version.\n\n**Example**\n\n    iex> resolve_package_name(\"@openfn/language-salesforce@1.2.3\")\n    { \"@openfn/language-salesforce\", \"1.2.3\" }\n    iex> resolve_package_name(\"@openfn/language-salesforce\")\n    { \"@openfn/language-salesforce\", nil }","ref":"Lightning.AdaptorRegistry.html#resolve_package_name/1"},{"type":"function","title":"Lightning.AdaptorRegistry.resolve_package_name!/1","doc":"Same as `resolve_package_name/1` except will throw an exception if a package\nname cannot be matched.","ref":"Lightning.AdaptorRegistry.html#resolve_package_name!/1"},{"type":"function","title":"Lightning.AdaptorRegistry.start_link/1","doc":"Starts the AdaptorRegistry\n\n**Options**\n\n- `:use_cache` (defaults to false) - stores the last set of results on disk\n  and uses the cached file for every subsequent start.\n  It can either be a boolean, or a string - the latter being a file path\n  to set where the cache file is located.\n- `:name` (defaults to AdaptorRegistry) - the name of the process, useful\n  for testing and/or running multiple versions of the registry","ref":"Lightning.AdaptorRegistry.html#start_link/1"},{"type":"function","title":"Lightning.AdaptorRegistry.versions_for/2","doc":"Get a list of versions for a given module.","ref":"Lightning.AdaptorRegistry.html#versions_for/2"},{"type":"module","title":"Lightning.AdaptorRegistry.Npm","doc":"NPM API functions","ref":"Lightning.AdaptorRegistry.Npm.html"},{"type":"function","title":"Lightning.AdaptorRegistry.Npm.client/0","doc":"","ref":"Lightning.AdaptorRegistry.Npm.html#client/0"},{"type":"function","title":"Lightning.AdaptorRegistry.Npm.package_detail/1","doc":"Retrieve all details for an NPM package","ref":"Lightning.AdaptorRegistry.Npm.html#package_detail/1"},{"type":"function","title":"Lightning.AdaptorRegistry.Npm.user_packages/1","doc":"Retrieve all packages for a given user or organization. Return empty list if\napplication cannot connect to NPM. (E.g., because it's started offline.)","ref":"Lightning.AdaptorRegistry.Npm.html#user_packages/1"},{"type":"module","title":"Lightning.AdaptorService","doc":"The Adaptor Service is use to query and install adaptors in order to run jobs.\n\nOn startup, it queries the filesystem for `package.json` files and builds up\na list of available adaptors.","ref":"Lightning.AdaptorService.html"},{"type":"module","title":"Configuration - Lightning.AdaptorService","doc":"The service requires at least `:adaptors_path`, which is used to both query\nwhich adaptors are installed and when to install new adaptors.\n\nAnother optional setting is: `:repo`, which must point at a module that will be\nused to do the querying and installing.","ref":"Lightning.AdaptorService.html#module-configuration"},{"type":"module","title":"Installing Adaptors - Lightning.AdaptorService","doc":"Using the `install/2` function an adaptor can be installed, which will also\nadd it to the list of available adaptors.\n\nThe adaptor is marked as `:installing`, to allow for conditional behaviour\nelsewhere such as delaying or rejecting processing until the adaptor becomes\navailable.","ref":"Lightning.AdaptorService.html#module-installing-adaptors"},{"type":"module","title":"Looking up adaptors - Lightning.AdaptorService","doc":"The module leans on Elixir's built-in `Version` module to provide version\nlookups.\n\nWhen looking up an adaptor, either a string or a tuple can be used.\nIn the case of requesting the latest version, any one of these will return\nthe latest version the service is aware of.\n\n- `@openfn/language-http`\n- `@openfn/language-http@latest`\n- `{\"@openfn/language-http\", nil}`\n- `{\"@openfn/language-http\", \"latest\"}`\n- `{~r/language-http/, \"latest\"}`\n\nYou can also request a specific version, or use a range specification:\n\n- `@openfn/language-http@1.2.3`\n- `{\"@openfn/language-http\", \"~> 1.2.0\"}`\n- `{\"@openfn/language-http\", \"< 2.0.0\"}`\n\n> **NOTE**\n> More complex npm style install strings like: `\">=0.1.0 <0.2.0\"`\n> are not supported.\n> Generally the tuple style is preferred when using range specifications as\n> the npm style strings have a simplistic regex splitter.\n\nSee [Version](https://hexdocs.pm/elixir/Version.html) for more details on\nmatching versions.","ref":"Lightning.AdaptorService.html#module-looking-up-adaptors"},{"type":"type","title":"Lightning.AdaptorService.package_spec/0","doc":"","ref":"Lightning.AdaptorService.html#t:package_spec/0"},{"type":"function","title":"Lightning.AdaptorService.build_aliased_name/1","doc":"Turns a package name and version into a string for NPM.\n\nSince multiple versions of the same package can be installed, it's important\nto rely on npms built-in package aliasing.\n\nE.g. `@openfn/language-http@1.2.8` turns into:\n     `@openfn/language-http-1.2.8@npm:@openfn/language-http@1.2.8`\n\nWhich is pretty long winded but necessary for the reason above.\n\nIf using this module as a base, it's likely you would need to adaptor this\nto suit your particular naming strategy.","ref":"Lightning.AdaptorService.html#build_aliased_name/1"},{"type":"function","title":"Lightning.AdaptorService.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.AdaptorService.html#child_spec/1"},{"type":"function","title":"Lightning.AdaptorService.find_adaptor/2","doc":"","ref":"Lightning.AdaptorService.html#find_adaptor/2"},{"type":"function","title":"Lightning.AdaptorService.get_adaptors/1","doc":"","ref":"Lightning.AdaptorService.html#get_adaptors/1"},{"type":"function","title":"Lightning.AdaptorService.install/2","doc":"","ref":"Lightning.AdaptorService.html#install/2"},{"type":"function","title":"Lightning.AdaptorService.install!/2","doc":"","ref":"Lightning.AdaptorService.html#install!/2"},{"type":"function","title":"Lightning.AdaptorService.installed?/2","doc":"","ref":"Lightning.AdaptorService.html#installed?/2"},{"type":"function","title":"Lightning.AdaptorService.resolve_package_name/1","doc":"","ref":"Lightning.AdaptorService.html#resolve_package_name/1"},{"type":"function","title":"Lightning.AdaptorService.start_link/1","doc":"","ref":"Lightning.AdaptorService.html#start_link/1"},{"type":"module","title":"Lightning.AiAssistant","doc":"The AI assistant context module for Lightning workflows.\n\nThis module provides a comprehensive interface for managing AI-powered chat sessions\nwithin the Lightning platform. It handles two main types of AI assistance:\n\n1. **Job-specific assistance** - Helps users with coding tasks, debugging, and\n   adaptor-specific guidance for individual workflow jobs\n2. **Workflow template generation** - Assists in creating complete workflow\n   templates from natural language descriptions","ref":"Lightning.AiAssistant.html"},{"type":"type","title":"Lightning.AiAssistant.opts/0","doc":"","ref":"Lightning.AiAssistant.html#t:opts/0"},{"type":"function","title":"Lightning.AiAssistant.associate_workflow/2","doc":"Associates a workflow with a chat session.\n\nLinks a generated workflow to the session that created it, enabling tracking\nand future modifications through the same conversation context.","ref":"Lightning.AiAssistant.html#associate_workflow/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.associate_workflow/2","doc":"- `session` - The `%ChatSession{}` that generated the workflow\n- `workflow` - The `%Workflow{}` struct to associate","ref":"Lightning.AiAssistant.html#associate_workflow/2-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.associate_workflow/2","doc":"- `{:ok, session}` - Successfully linked workflow to session\n- `{:error, changeset}` - Association failed with validation errors","ref":"Lightning.AiAssistant.html#associate_workflow/2-returns"},{"type":"function","title":"Lightning.AiAssistant.cleanup_unsaved_job_sessions/1","doc":"Cleans up unsaved job data in AI sessions after workflow is saved.\n\nWhen a workflow is saved and jobs get database IDs, this function:\n1. Finds all sessions with matching Y.Doc job IDs in meta[\"unsaved_job\"]\n2. Updates those sessions to set job_id to the real database ID\n3. Removes the meta[\"unsaved_job\"] data","ref":"Lightning.AiAssistant.html#cleanup_unsaved_job_sessions/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.cleanup_unsaved_job_sessions/1","doc":"- `workflow` - The saved `%Workflow{}` with jobs that have database IDs","ref":"Lightning.AiAssistant.html#cleanup_unsaved_job_sessions/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.cleanup_unsaved_job_sessions/1","doc":"- `{:ok, updated_count}` - Number of sessions updated\n- `{:error, reason}` - If update fails","ref":"Lightning.AiAssistant.html#cleanup_unsaved_job_sessions/1-returns"},{"type":"function","title":"Example - Lightning.AiAssistant.cleanup_unsaved_job_sessions/1","doc":"iex> cleanup_unsaved_job_sessions(workflow)\n    {:ok, 3}  # Updated 3 sessions","ref":"Lightning.AiAssistant.html#cleanup_unsaved_job_sessions/1-example"},{"type":"function","title":"Lightning.AiAssistant.cleanup_unsaved_workflow_sessions/1","doc":"Cleans up unsaved workflow data in AI sessions after workflow is saved.\n\nWhen a workflow in create mode is saved for the first time, this function:\n1. Finds all sessions with matching temporary workflow IDs in meta[\"unsaved_workflow\"]\n2. Updates those sessions to set workflow_id to the real database ID\n3. Removes the meta[\"unsaved_workflow\"] data","ref":"Lightning.AiAssistant.html#cleanup_unsaved_workflow_sessions/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.cleanup_unsaved_workflow_sessions/1","doc":"- `workflow` - The saved `%Workflow{}` with a database ID","ref":"Lightning.AiAssistant.html#cleanup_unsaved_workflow_sessions/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.cleanup_unsaved_workflow_sessions/1","doc":"- `{:ok, updated_count}` - Number of sessions updated\n- `{:error, reason}` - If update fails","ref":"Lightning.AiAssistant.html#cleanup_unsaved_workflow_sessions/1-returns"},{"type":"function","title":"Example - Lightning.AiAssistant.cleanup_unsaved_workflow_sessions/1","doc":"iex> cleanup_unsaved_workflow_sessions(workflow)\n    {:ok, 2}  # Updated 2 sessions","ref":"Lightning.AiAssistant.html#cleanup_unsaved_workflow_sessions/1-example"},{"type":"function","title":"Lightning.AiAssistant.create_session/4","doc":"Creates a new chat session for job-specific AI assistance.\n\nInitializes a new session with:\n- Association with the specified job and user\n- Auto-generated title from the initial message content\n- Job's expression and adaptor context (virtual fields)\n- The initial user message","ref":"Lightning.AiAssistant.html#create_session/4"},{"type":"function","title":"Parameters - Lightning.AiAssistant.create_session/4","doc":"- `job` - The `%Job{}` struct this session will assist with\n- `user` - The `%User{}` creating the session\n- `content` - Initial message content that will become the session title\n- `opts` - Keyword list of options:\n  - `:meta` - Optional metadata for the session\n  - `:code` - Optional workflow code for the initial message","ref":"Lightning.AiAssistant.html#create_session/4-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.create_session/4","doc":"- `{:ok, session}` - Successfully created session with initial message\n- `{:error, changeset}` - Validation errors during creation","ref":"Lightning.AiAssistant.html#create_session/4-returns"},{"type":"function","title":"Lightning.AiAssistant.create_session_for_unsaved_job/3","doc":"Creates a new chat session for an unsaved job (exists in Y.Doc but not DB).\n\nThis is used during collaborative editing when users want AI assistance\nfor jobs they've created but haven't saved to the database yet.","ref":"Lightning.AiAssistant.html#create_session_for_unsaved_job/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.create_session_for_unsaved_job/3","doc":"- `user` - The `%User{}` creating the session\n- `content` - Initial message content that will become the session title\n- `meta` - Metadata including unsaved job data with keys:\n  - `\"unsaved_job\"` - Map with job data:\n    - `\"id\"` - The Y.Doc job ID (for future linking when saved)\n    - `\"name\"` - Job name\n    - `\"body\"` - Job expression code\n    - `\"adaptor\"` - Job adaptor\n    - `\"workflow_id\"` - Workflow the job belongs to","ref":"Lightning.AiAssistant.html#create_session_for_unsaved_job/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.create_session_for_unsaved_job/3","doc":"- `{:ok, session}` - Successfully created session with initial message\n- `{:error, changeset}` - Validation errors during creation","ref":"Lightning.AiAssistant.html#create_session_for_unsaved_job/3-returns"},{"type":"function","title":"Lightning.AiAssistant.create_workflow_session/5","doc":"Creates a new chat session for workflow template generation.\n\nInitializes a session specifically for creating workflow templates:\n- Associates with a project and optionally an existing workflow\n- Sets session type to \"workflow_template\"\n- Includes the initial user message describing the desired workflow","ref":"Lightning.AiAssistant.html#create_workflow_session/5"},{"type":"function","title":"Parameters - Lightning.AiAssistant.create_workflow_session/5","doc":"- `project` - The `%Project{}` struct where the workflow will be created\n- `workflow` - The `%Workflow{}` struct to associate with the session, or `nil` for new workflows\n- `user` - The `%User{}` requesting the workflow template\n- `content` - Description of the desired workflow functionality\n- `opts` - Keyword list of options:\n  - `:meta` - Optional metadata for the session\n  - `:code` - Optional workflow code for the initial message","ref":"Lightning.AiAssistant.html#create_workflow_session/5-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.create_workflow_session/5","doc":"- `{:ok, session}` - Successfully created workflow session with initial message\n- `{:error, changeset}` - Validation errors during creation","ref":"Lightning.AiAssistant.html#create_workflow_session/5-returns"},{"type":"function","title":"Lightning.AiAssistant.enabled?/0","doc":"Checks if the AI assistant feature is enabled via application configuration.\n\nVerifies that both the Apollo endpoint URL and API key are properly configured,\nwhich are required for AI functionality.","ref":"Lightning.AiAssistant.html#enabled?/0"},{"type":"function","title":"Returns - Lightning.AiAssistant.enabled?/0","doc":"`true` if AI assistant is properly configured and enabled, `false` otherwise.","ref":"Lightning.AiAssistant.html#enabled?/0-returns"},{"type":"function","title":"Lightning.AiAssistant.endpoint_available?/0","doc":"Checks if the Apollo AI service endpoint is reachable and responding.\n\nPerforms a connectivity test to ensure the external AI service is available\nbefore attempting to make actual queries.","ref":"Lightning.AiAssistant.html#endpoint_available?/0"},{"type":"function","title":"Returns - Lightning.AiAssistant.endpoint_available?/0","doc":"`true` if the Apollo endpoint responds successfully, `false` otherwise.","ref":"Lightning.AiAssistant.html#endpoint_available?/0-returns"},{"type":"function","title":"Lightning.AiAssistant.enrich_session_with_job_context/1","doc":"Enriches a chat session with job-specific context.\n\nLoads the associated job and enriches the session with:\n- Job expression code and adaptor information\n- Run logs if following a specific run (via session.meta[\"follow_run_id\"])\n\nFor unsaved jobs (job_id is nil), uses job data from session.meta.","ref":"Lightning.AiAssistant.html#enrich_session_with_job_context/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.enrich_session_with_job_context/1","doc":"- `session` - The chat session to enrich","ref":"Lightning.AiAssistant.html#enrich_session_with_job_context/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.enrich_session_with_job_context/1","doc":"The enriched session with job context loaded","ref":"Lightning.AiAssistant.html#enrich_session_with_job_context/1-returns"},{"type":"function","title":"Lightning.AiAssistant.find_pending_user_messages/1","doc":"Finds all pending user messages in a chat session.\n\nRetrieves messages that have been sent by users but are still waiting\nfor processing or AI responses. Useful for identifying stuck or failed requests.","ref":"Lightning.AiAssistant.html#find_pending_user_messages/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.find_pending_user_messages/1","doc":"- `session` - The `%ChatSession{}` to search","ref":"Lightning.AiAssistant.html#find_pending_user_messages/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.find_pending_user_messages/1","doc":"List of `%ChatMessage{}` structs with `:role` of `:user` and `:status` of `:pending`.","ref":"Lightning.AiAssistant.html#find_pending_user_messages/1-returns"},{"type":"function","title":"Lightning.AiAssistant.get_session/1","doc":"","ref":"Lightning.AiAssistant.html#get_session/1"},{"type":"function","title":"Lightning.AiAssistant.get_session!/1","doc":"Retrieves a chat session by ID with all related data preloaded.\n\nFetches a complete chat session including:\n- All non-cancelled messages ordered by creation time\n- User information for each message\n- Session metadata\n- Project information (for workflow template sessions)","ref":"Lightning.AiAssistant.html#get_session!/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.get_session!/1","doc":"- `id` - UUID string of the session to retrieve","ref":"Lightning.AiAssistant.html#get_session!/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.get_session!/1","doc":"A `ChatSession` struct with preloaded `:messages` and nested `:user` data.\nFor workflow template sessions, the `:project` association is also preloaded.","ref":"Lightning.AiAssistant.html#get_session!/1-returns"},{"type":"function","title":"Raises - Lightning.AiAssistant.get_session!/1","doc":"`Ecto.NoResultsError` if no session exists with the given ID.","ref":"Lightning.AiAssistant.html#get_session!/1-raises"},{"type":"function","title":"Lightning.AiAssistant.has_more_sessions?/2","doc":"Checks if additional sessions are available beyond the current count.\n\nThis is a convenience function to determine if there are more sessions\nto load without fetching the actual data. Useful for \"Load More\" UI patterns.","ref":"Lightning.AiAssistant.html#has_more_sessions?/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.has_more_sessions?/2","doc":"- `resource` - A `%Project{}` or `%Job{}` struct\n- `current_count` - Number of sessions already loaded","ref":"Lightning.AiAssistant.html#has_more_sessions?/2-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.has_more_sessions?/2","doc":"`true` if more sessions exist, `false` otherwise.","ref":"Lightning.AiAssistant.html#has_more_sessions?/2-returns"},{"type":"function","title":"Lightning.AiAssistant.list_sessions/3","doc":"Returns paginated chat sessions with metadata for improved user experience.\n\nRetrieves chat sessions associated with either a Project (workflow template sessions)\nor a Job (job-specific sessions). Results are paginated and include total counts\nand navigation metadata.","ref":"Lightning.AiAssistant.html#list_sessions/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.list_sessions/3","doc":"- `resource` - A `%Project{}`, `%Job{}`, or `%Snapshot.Job{}` struct to filter sessions by\n- `sort_direction` - Sort order, either `:asc` or `:desc` (default: `:desc`)\n- `opts` - Keyword list of options:\n  - `:offset` - Number of records to skip (default: 0)\n  - `:limit` - Maximum number of records to return (default: 20)","ref":"Lightning.AiAssistant.html#list_sessions/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.list_sessions/3","doc":"A map containing:\n- `:sessions` - List of `ChatSession` structs with preloaded data\n- `:pagination` - `PaginationMeta` struct with navigation information","ref":"Lightning.AiAssistant.html#list_sessions/3-returns"},{"type":"function","title":"Lightning.AiAssistant.mark_disclaimer_read/1","doc":"Records that a user has read and accepted the AI assistant disclaimer.\n\nUpdates the user's preferences with a timestamp indicating when they\nacknowledged the AI assistant terms and conditions.","ref":"Lightning.AiAssistant.html#mark_disclaimer_read/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.mark_disclaimer_read/1","doc":"- `user` - The `%User{}` who read the disclaimer","ref":"Lightning.AiAssistant.html#mark_disclaimer_read/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.mark_disclaimer_read/1","doc":"`{:ok, user}` - Successfully recorded disclaimer acceptance.","ref":"Lightning.AiAssistant.html#mark_disclaimer_read/1-returns"},{"type":"function","title":"Lightning.AiAssistant.put_expression_and_adaptor/3","doc":"Adds job-specific context to a chat session for enhanced AI assistance.\n\nEnriches a session with the job's expression code and adaptor information,\nenabling the AI to provide more targeted and relevant assistance.","ref":"Lightning.AiAssistant.html#put_expression_and_adaptor/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.put_expression_and_adaptor/3","doc":"- `session` - The `%ChatSession{}` to enhance\n- `expression` - The job's expression code as a string\n- `adaptor` - The adaptor name/identifier for the job","ref":"Lightning.AiAssistant.html#put_expression_and_adaptor/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.put_expression_and_adaptor/3","doc":"An updated `ChatSession` struct with `:expression` and `:adaptor` fields populated.\nThe adaptor is resolved through `Lightning.AdaptorRegistry`.","ref":"Lightning.AiAssistant.html#put_expression_and_adaptor/3-returns"},{"type":"function","title":"Lightning.AiAssistant.query/3","doc":"Queries the AI assistant for job-specific code assistance.\n\nSends a user query to the Apollo AI service along with job context (expression and adaptor)\nand conversation history. The AI provides targeted assistance for coding tasks, debugging,\nand adaptor-specific guidance.","ref":"Lightning.AiAssistant.html#query/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.query/3","doc":"- `session` - The job-specific `%ChatSession{}` with expression and adaptor context\n- `content` - User's question or request for assistance","ref":"Lightning.AiAssistant.html#query/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.query/3","doc":"- `{:ok, session}` - AI responded successfully, session updated with response\n- `{:error, reason}` - Query failed, reason is either a string error message or changeset","ref":"Lightning.AiAssistant.html#query/3-returns"},{"type":"function","title":"Lightning.AiAssistant.query_workflow/3","doc":"Queries the AI service for workflow template generation.\n\nSends a request to generate or modify workflow templates based on user requirements.\nCan include validation errors from previous attempts to help the AI provide corrections.","ref":"Lightning.AiAssistant.html#query_workflow/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.query_workflow/3","doc":"- `session` - The workflow template `%ChatSession{}`\n- `content` - User's description of desired workflow functionality or modifications\n- `opts` - Keyword list of options:\n  - `:code` - Current YAML to modify (default: uses latest from session)\n  - `:errors` - Validation errors from previous workflow attempts\n  - `:meta` - Additional metadata to pass to the AI service (default: session.meta)","ref":"Lightning.AiAssistant.html#query_workflow/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.query_workflow/3","doc":"- `{:ok, session}` - Workflow template generated successfully\n- `{:error, reason}` - Generation failed, reason is either a string error message or changeset","ref":"Lightning.AiAssistant.html#query_workflow/3-returns"},{"type":"function","title":"Lightning.AiAssistant.retry_message/1","doc":"Resets a message status to pending and enqueues it for reprocessing.\nHandles both the database update and Oban job creation atomically.","ref":"Lightning.AiAssistant.html#retry_message/1"},{"type":"function","title":"Lightning.AiAssistant.save_message/3","doc":"Saves a message to an existing chat session.\n\nAdds a new message to the session's message history and updates the session.\nFor assistant messages, this also triggers AI usage tracking and limit enforcement.","ref":"Lightning.AiAssistant.html#save_message/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.save_message/3","doc":"- `session` - The target `%ChatSession{}`\n- `message_attrs` - Map containing message data with keys like `:role`, `:content`, `:user`\n- `opts` - Keyword list of options:\n  - `:usage` - Map containing AI usage metrics (default: `%{}`)\n  - `:meta` - Session metadata to update (default: keeps existing)\n  - `:code` - Optional workflow code to attach to the message","ref":"Lightning.AiAssistant.html#save_message/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.save_message/3","doc":"- `{:ok, session}` - Successfully saved message and updated session\n- `{:error, changeset}` - Validation or database errors","ref":"Lightning.AiAssistant.html#save_message/3-returns"},{"type":"function","title":"Lightning.AiAssistant.title_max_length/0","doc":"Returns the maximum allowed length for chat session titles.","ref":"Lightning.AiAssistant.html#title_max_length/0"},{"type":"function","title":"Lightning.AiAssistant.update_message_status/3","doc":"Updates the status of a specific message within a chat session.\n\nChanges the status of an individual message (e.g., from `:pending` to `:success` or `:error`)\nand returns the refreshed session with updated data.","ref":"Lightning.AiAssistant.html#update_message_status/3"},{"type":"function","title":"Parameters - Lightning.AiAssistant.update_message_status/3","doc":"- `session` - The `%ChatSession{}` containing the message\n- `message` - The specific `%ChatMessage{}` to update\n- `status` - New status atom (e.g., `:pending`, `:success`, `:error`, `:cancelled`)","ref":"Lightning.AiAssistant.html#update_message_status/3-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.update_message_status/3","doc":"- `{:ok, session}` - Successfully updated message, returns refreshed session\n- `{:error, changeset}` - Update failed with validation errors","ref":"Lightning.AiAssistant.html#update_message_status/3-returns"},{"type":"function","title":"Lightning.AiAssistant.user_has_read_disclaimer?/1","doc":"Checks if a user has acknowledged the AI assistant disclaimer recently.\n\nVerifies that the user has read and accepted the AI assistant terms and conditions\nwithin the last 24 hours. This ensures users are aware of AI limitations and usage terms.","ref":"Lightning.AiAssistant.html#user_has_read_disclaimer?/1"},{"type":"function","title":"Parameters - Lightning.AiAssistant.user_has_read_disclaimer?/1","doc":"- `user` - The `%User{}` struct to check","ref":"Lightning.AiAssistant.html#user_has_read_disclaimer?/1-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.user_has_read_disclaimer?/1","doc":"`true` if disclaimer was read within 24 hours, `false` otherwise.","ref":"Lightning.AiAssistant.html#user_has_read_disclaimer?/1-returns"},{"type":"module","title":"Lightning.AiAssistant.ChatMessage","doc":"Represents a message within an AI chat session.\n\nMessages can be from users (role: :user) or from the AI assistant (role: :assistant).\nUser messages start with :pending status and are updated based on processing results.\nAssistant messages typically have :success status when created.","ref":"Lightning.AiAssistant.ChatMessage.html"},{"type":"module","title":"Schema Fields - Lightning.AiAssistant.ChatMessage","doc":"* `content` - The text content of the message (required, 1-10,000 characters)\n* `code` - Optional code associated with the message (e.g., generated workflows)\n* `role` - Who sent the message: `:user` or `:assistant`\n* `status` - Processing status: `:pending`, `:success`, `:error`, or `:cancelled`\n* `is_deleted` - Soft deletion flag (defaults to false)\n* `is_public` - Whether the message is publicly visible (defaults to true)\n* `chat_session_id` - Reference to the parent chat session\n* `user_id` - Reference to the user who sent the message (required for user messages)","ref":"Lightning.AiAssistant.ChatMessage.html#module-schema-fields"},{"type":"type","title":"Lightning.AiAssistant.ChatMessage.role/0","doc":"","ref":"Lightning.AiAssistant.ChatMessage.html#t:role/0"},{"type":"type","title":"Lightning.AiAssistant.ChatMessage.status/0","doc":"","ref":"Lightning.AiAssistant.ChatMessage.html#t:status/0"},{"type":"type","title":"Lightning.AiAssistant.ChatMessage.t/0","doc":"","ref":"Lightning.AiAssistant.ChatMessage.html#t:t/0"},{"type":"function","title":"Lightning.AiAssistant.ChatMessage.changeset/2","doc":"Creates a changeset for a chat message.","ref":"Lightning.AiAssistant.ChatMessage.html#changeset/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.ChatMessage.changeset/2","doc":"* `chat_message` - The ChatMessage struct to update (typically `%ChatMessage{}`)\n* `attrs` - Map of attributes to set/update","ref":"Lightning.AiAssistant.ChatMessage.html#changeset/2-parameters"},{"type":"function","title":"Validation Rules - Lightning.AiAssistant.ChatMessage.changeset/2","doc":"* `content` and `role` are required\n* `content` must be between 1 and 10,000 characters\n* User messages (role: `:user`) require an associated user\n* Status defaults based on role: `:pending` for users, `:success` for assistant\n* If status is explicitly provided, it takes precedence over role-based defaults","ref":"Lightning.AiAssistant.ChatMessage.html#changeset/2-validation-rules"},{"type":"function","title":"Lightning.AiAssistant.ChatMessage.status_changeset/2","doc":"Creates a changeset for updating message status.\n\nThis is a focused changeset that only updates the status field,\nuseful for updating message state during processing.","ref":"Lightning.AiAssistant.ChatMessage.html#status_changeset/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.ChatMessage.status_changeset/2","doc":"* `chat_message` - The existing ChatMessage struct\n* `status` - New status (`:pending`, `:success`, `:error`, or `:cancelled`)","ref":"Lightning.AiAssistant.ChatMessage.html#status_changeset/2-parameters"},{"type":"function","title":"Examples - Lightning.AiAssistant.ChatMessage.status_changeset/2","doc":"# Mark message as successful\n    ChatMessage.status_changeset(message, :success)\n\n    # Mark message as failed\n    ChatMessage.status_changeset(message, :error)","ref":"Lightning.AiAssistant.ChatMessage.html#status_changeset/2-examples"},{"type":"module","title":"Lightning.AiAssistant.ChatSession","doc":"Represents a chat session for AI assistance, including job code and workflow templates.\n\nThis module defines the schema and changeset for chat sessions, including\nrelationships to users, jobs, projects, and workflows. It also includes custom\nvalidation logic to ensure that the correct fields are populated based on the session type.","ref":"Lightning.AiAssistant.ChatSession.html"},{"type":"type","title":"Lightning.AiAssistant.ChatSession.t/0","doc":"","ref":"Lightning.AiAssistant.ChatSession.html#t:t/0"},{"type":"module","title":"Lightning.AiAssistant.Limiter","doc":"The AI assistant limiter to check for AI query quota.","ref":"Lightning.AiAssistant.Limiter.html"},{"type":"function","title":"Lightning.AiAssistant.Limiter.validate_quota/1","doc":"Checks if has not reached the limit of the project ai queries quota.","ref":"Lightning.AiAssistant.Limiter.html#validate_quota/1"},{"type":"module","title":"Lightning.AiAssistant.MessageProcessor","doc":"Asynchronous message processor for AI Assistant using Oban.\n\nThis module handles the background processing of AI chat messages, ensuring\nreliable and scalable AI interactions. It processes messages outside of the\nweb request lifecycle, providing better user experience and system resilience.","ref":"Lightning.AiAssistant.MessageProcessor.html"},{"type":"function","title":"Lightning.AiAssistant.MessageProcessor.handle_ai_assistant_exception/2","doc":"Handles exceptions for `ai_assistant` Oban jobs.","ref":"Lightning.AiAssistant.MessageProcessor.html#handle_ai_assistant_exception/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.MessageProcessor.handle_ai_assistant_exception/2","doc":"* `measure`  A map containing job execution metrics (`duration`, `memory`, `reductions`).\n  * `meta`  A map containing job metadata (`job`, `error`, `stacktrace`, etc.).","ref":"Lightning.AiAssistant.MessageProcessor.html#handle_ai_assistant_exception/2-parameters"},{"type":"function","title":"Lightning.AiAssistant.MessageProcessor.handle_ai_assistant_stop/2","doc":"Handles `:stop` events for `ai_assistant` Oban jobs.\n\nThis function is invoked when a job in the `ai_assistant` queue stops with a non-success state\n(e.g., `:discard`, `:cancelled`, or other custom stop reasons).\n\nJobs with the `:success` state are ignored.","ref":"Lightning.AiAssistant.MessageProcessor.html#handle_ai_assistant_stop/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.MessageProcessor.handle_ai_assistant_stop/2","doc":"* `measure`  A map containing job execution metrics (`duration`, `memory`, `reductions`).\n  * `meta`  A map containing job metadata (`job`, `state`, etc.).","ref":"Lightning.AiAssistant.MessageProcessor.html#handle_ai_assistant_stop/2-parameters"},{"type":"function","title":"Lightning.AiAssistant.MessageProcessor.perform/1","doc":"Processes an AI assistant message asynchronously.\n\nThis is the main entry point called by Oban. It handles the complete\nlifecycle of message processing including status updates and broadcasting.","ref":"Lightning.AiAssistant.MessageProcessor.html#perform/1"},{"type":"function","title":"Arguments - Lightning.AiAssistant.MessageProcessor.perform/1","doc":"- `job` - Oban job containing `message_id` and `session_id` in args","ref":"Lightning.AiAssistant.MessageProcessor.html#perform/1-arguments"},{"type":"function","title":"Returns - Lightning.AiAssistant.MessageProcessor.perform/1","doc":"Always returns `:ok` to prevent Oban retries, even on errors.\nErrors are handled by updating message status and logging.","ref":"Lightning.AiAssistant.MessageProcessor.html#perform/1-returns"},{"type":"function","title":"Lightning.AiAssistant.MessageProcessor.timeout/1","doc":"Defines the job timeout based on Apollo configuration.\n\nAdds a 10-second buffer to the Apollo timeout to account for\nnetwork overhead and processing time.","ref":"Lightning.AiAssistant.MessageProcessor.html#timeout/1"},{"type":"function","title":"Returns - Lightning.AiAssistant.MessageProcessor.timeout/1","doc":"Timeout in milliseconds","ref":"Lightning.AiAssistant.MessageProcessor.html#timeout/1-returns"},{"type":"function","title":"Lightning.AiAssistant.MessageProcessor.update_message_status/2","doc":"Updates a message's status and broadcasts the change.\n\nThis function updates the message status in the database, fetches the updated\nsession with all associations, and broadcasts the status change to connected\nclients via Phoenix PubSub.","ref":"Lightning.AiAssistant.MessageProcessor.html#update_message_status/2"},{"type":"function","title":"Parameters - Lightning.AiAssistant.MessageProcessor.update_message_status/2","doc":"- `message` - The `ChatMessage` struct to update\n  - `status` - The new status atom (`:processing`, `:success`, or `:error`)","ref":"Lightning.AiAssistant.MessageProcessor.html#update_message_status/2-parameters"},{"type":"function","title":"Returns - Lightning.AiAssistant.MessageProcessor.update_message_status/2","doc":"`{:ok, updated_session, updated_message}` - Tuple with the updated session\n  and message structs","ref":"Lightning.AiAssistant.MessageProcessor.html#update_message_status/2-returns"},{"type":"module","title":"Lightning.ApolloClient","doc":"HTTP client for communicating with the Apollo AI service.\n\nThis module provides a Tesla-based HTTP client for interacting with Apollo,\nan external AI service that powers Lightning's intelligent assistance features.\nApollo offers two main AI services:\n\n1. **Job Chat** - Provides AI assistance for coding tasks, debugging, and\n   adaptor-specific guidance within individual workflow jobs\n2. **Workflow Chat** - Generates complete workflow templates from natural\n   language descriptions","ref":"Lightning.ApolloClient.html"},{"type":"module","title":"Configuration - Lightning.ApolloClient","doc":"The Apollo client requires the following configuration values:\n- `:endpoint` - Base URL of the Apollo service\n- `:ai_assistant_api_key` - Authentication key for API access","ref":"Lightning.ApolloClient.html#module-configuration"},{"type":"type","title":"Lightning.ApolloClient.context/0","doc":"Context information for job-specific AI assistance.\n\nContains the job's expression code and adaptor information to help the AI\nprovide more targeted and relevant assistance.","ref":"Lightning.ApolloClient.html#t:context/0"},{"type":"type","title":"Lightning.ApolloClient.opts/0","doc":"","ref":"Lightning.ApolloClient.html#t:opts/0"},{"type":"function","title":"Lightning.ApolloClient.job_chat/2","doc":"Requests AI assistance for job-specific coding tasks and debugging.\n\nSends user queries along with job context (expression code and adaptor) to the\nApollo job_chat service. The AI provides targeted assistance for coding tasks,\nerror debugging, adaptor-specific guidance, and best practices.","ref":"Lightning.ApolloClient.html#job_chat/2"},{"type":"function","title":"Parameters - Lightning.ApolloClient.job_chat/2","doc":"- `content` - User's question or request for assistance\n- `opts` - Keyword list of options:\n  - `:context` - Job context including expression code and adaptor info (default: %{})\n  - `:history` - Previous conversation messages for context (default: [])\n  - `:meta` - Additional metadata like session IDs or user preferences (default: %{})","ref":"Lightning.ApolloClient.html#job_chat/2-parameters"},{"type":"function","title":"Returns - Lightning.ApolloClient.job_chat/2","doc":"`Tesla.Env.result()` with response body containing:\n- `\"history\"` - Updated conversation including AI response\n- `\"usage\"` - Token usage and cost information\n- `\"meta\"` - Updated metadata","ref":"Lightning.ApolloClient.html#job_chat/2-returns"},{"type":"function","title":"Lightning.ApolloClient.test/0","doc":"Performs a health check on the Apollo service endpoint.\n\nSends a GET request to the root endpoint to verify the service is running\nand accessible. This should be called before attempting AI operations to\nensure graceful degradation when the service is unavailable.","ref":"Lightning.ApolloClient.html#test/0"},{"type":"function","title":"Returns - Lightning.ApolloClient.test/0","doc":"- `:ok` - Service responded with 2xx status code\n- `:error` - Service unavailable, network error, or non-2xx response","ref":"Lightning.ApolloClient.html#test/0-returns"},{"type":"function","title":"Lightning.ApolloClient.workflow_chat/2","doc":"Generates or improves workflow templates using AI assistance.\n\nSends requests to the Apollo workflow_chat service to create complete workflow\nYAML definitions from natural language descriptions. Can also iteratively improve\nexisting workflows based on validation errors or user feedback.","ref":"Lightning.ApolloClient.html#workflow_chat/2"},{"type":"function","title":"Parameters - Lightning.ApolloClient.workflow_chat/2","doc":"- `content` - Natural language description of desired workflow functionality\n- `opts` - Keyword list of options:\n  - `:code` - Optional existing workflow YAML to modify or improve\n  - `:errors` - Optional validation errors from previous workflow attempts\n  - `:history` - Previous conversation messages for context (default: [])\n  - `:meta` - Additional metadata (default: %{})","ref":"Lightning.ApolloClient.html#workflow_chat/2-parameters"},{"type":"function","title":"Returns - Lightning.ApolloClient.workflow_chat/2","doc":"`Tesla.Env.result()` with response body containing:\n- `\"response\"` - Human-readable explanation of the generated workflow\n- `\"response_yaml\"` - Complete workflow YAML definition\n- `\"usage\"` - Token usage and cost information","ref":"Lightning.ApolloClient.html#workflow_chat/2-returns"},{"type":"module","title":"Lightning.Auditing","doc":"Context for working with Audit records.","ref":"Lightning.Auditing.html"},{"type":"function","title":"Lightning.Auditing.list_all/1","doc":"","ref":"Lightning.Auditing.html#list_all/1"},{"type":"behaviour","title":"Lightning.Auditing.Audit","doc":"Macro module to add common model behaviour to a given Ecto model","ref":"Lightning.Auditing.Audit.html"},{"type":"callback","title":"Lightning.Auditing.Audit.update_changes/1","doc":"Callback to update changes before saving to the database.","ref":"Lightning.Auditing.Audit.html#c:update_changes/1"},{"type":"function","title":"Lightning.Auditing.Audit.event/7","doc":"Creates a `changeset` for the `event` identified by `item_id` and caused\nby `actor`.\n\nThe given `changes` can be either `nil`, `Ecto.Changeset`, struct or map.\n\nIt returns `:no_changes` in case of an `Ecto.Changeset` changes that changed nothing\nor an `Ecto.Changeset` with the event ready to be inserted.","ref":"Lightning.Auditing.Audit.html#event/7"},{"type":"function","title":"Lightning.Auditing.Audit.save/2","doc":"Saves the event to the `Repo`.\n\nIn case of nothing changes, do nothing.\n\nIt returns `{:ok, :no_changes}` if nothing changed, `{:ok, struct}` if the log\nhas been successfully saved or `{:error, changeset}` in case of error.","ref":"Lightning.Auditing.Audit.html#save/2"},{"type":"module","title":"Lightning.AuthProviders","doc":"Context module for dealing with external Auth Providers.","ref":"Lightning.AuthProviders.html"},{"type":"function","title":"Lightning.AuthProviders.build_handler/2","doc":"","ref":"Lightning.AuthProviders.html#build_handler/2"},{"type":"function","title":"Lightning.AuthProviders.create/1","doc":"","ref":"Lightning.AuthProviders.html#create/1"},{"type":"function","title":"Lightning.AuthProviders.create_handler/1","doc":"","ref":"Lightning.AuthProviders.html#create_handler/1"},{"type":"function","title":"Lightning.AuthProviders.delete!/1","doc":"","ref":"Lightning.AuthProviders.html#delete!/1"},{"type":"function","title":"Lightning.AuthProviders.get_authorize_url/1","doc":"Retrieve the authorization url for a given handler or handler name.","ref":"Lightning.AuthProviders.html#get_authorize_url/1"},{"type":"function","title":"Lightning.AuthProviders.get_existing/0","doc":"","ref":"Lightning.AuthProviders.html#get_existing/0"},{"type":"function","title":"Lightning.AuthProviders.get_existing/1","doc":"","ref":"Lightning.AuthProviders.html#get_existing/1"},{"type":"function","title":"Lightning.AuthProviders.get_handler/1","doc":"","ref":"Lightning.AuthProviders.html#get_handler/1"},{"type":"function","title":"Lightning.AuthProviders.get_handlers/0","doc":"","ref":"Lightning.AuthProviders.html#get_handlers/0"},{"type":"function","title":"Lightning.AuthProviders.new/0","doc":"","ref":"Lightning.AuthProviders.html#new/0"},{"type":"function","title":"Lightning.AuthProviders.remove_handler/1","doc":"","ref":"Lightning.AuthProviders.html#remove_handler/1"},{"type":"function","title":"Lightning.AuthProviders.update/2","doc":"","ref":"Lightning.AuthProviders.html#update/2"},{"type":"module","title":"Lightning.AuthProviders.AuthConfig","doc":"AuthProvider model","ref":"Lightning.AuthProviders.AuthConfig.html"},{"type":"type","title":"Lightning.AuthProviders.AuthConfig.t/0","doc":"","ref":"Lightning.AuthProviders.AuthConfig.html#t:t/0"},{"type":"module","title":"Lightning.AuthProviders.CacheWarmer","doc":"Dummy warmer which caches database rows every 30s.","ref":"Lightning.AuthProviders.CacheWarmer.html"},{"type":"function","title":"Lightning.AuthProviders.CacheWarmer.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.AuthProviders.CacheWarmer.html#child_spec/1"},{"type":"function","title":"Lightning.AuthProviders.CacheWarmer.execute/1","doc":"Executes this cache warmer with a connection.","ref":"Lightning.AuthProviders.CacheWarmer.html#execute/1"},{"type":"function","title":"Lightning.AuthProviders.CacheWarmer.interval/0","doc":"Returns the interval for this warmer.","ref":"Lightning.AuthProviders.CacheWarmer.html#interval/0"},{"type":"function","title":"Lightning.AuthProviders.CacheWarmer.provisions/0","doc":"Return the provisions warmers require.","ref":"Lightning.AuthProviders.CacheWarmer.html#provisions/0"},{"type":"module","title":"Lightning.AuthProviders.Common","doc":"Provides common functionality for handling OAuth authentication across different providers.","ref":"Lightning.AuthProviders.Common.html"},{"type":"function","title":"Lightning.AuthProviders.Common.authorize_url/4","doc":"Constructs the authorization URL with the given client, state, scopes, and options.","ref":"Lightning.AuthProviders.Common.html#authorize_url/4"},{"type":"function","title":"Lightning.AuthProviders.Common.build_client/3","doc":"Builds a new OAuth client with the specified configuration, authorization URL, token URL, and options.","ref":"Lightning.AuthProviders.Common.html#build_client/3"},{"type":"function","title":"Lightning.AuthProviders.Common.get_token/2","doc":"Requests an authentication token from the OAuth provider.","ref":"Lightning.AuthProviders.Common.html#get_token/2"},{"type":"function","title":"Lightning.AuthProviders.Common.get_userinfo/3","doc":"Retrieves user information from the OAuth provider.","ref":"Lightning.AuthProviders.Common.html#get_userinfo/3"},{"type":"function","title":"Lightning.AuthProviders.Common.get_wellknown/1","doc":"Fetches the well-known configuration from the OAuth provider.","ref":"Lightning.AuthProviders.Common.html#get_wellknown/1"},{"type":"function","title":"Lightning.AuthProviders.Common.get_wellknown!/1","doc":"Fetches the well-known configuration from the OAuth provider and raises an error if not successful.","ref":"Lightning.AuthProviders.Common.html#get_wellknown!/1"},{"type":"function","title":"Lightning.AuthProviders.Common.introspect/3","doc":"","ref":"Lightning.AuthProviders.Common.html#introspect/3"},{"type":"function","title":"Lightning.AuthProviders.Common.refresh_token/2","doc":"Refreshes the authentication token using the OAuth provider.","ref":"Lightning.AuthProviders.Common.html#refresh_token/2"},{"type":"function","title":"Lightning.AuthProviders.Common.still_fresh/3","doc":"Checks if a token is still valid or must be refreshed. If expires_at is nil,\nit will return `false`, forcing a refresh. If the token has already expired or\nwill expire before the default buffer (in the next 5 minutes) we return\n`false`, forcing a refresh.","ref":"Lightning.AuthProviders.Common.html#still_fresh/3"},{"type":"module","title":"Lightning.AuthProviders.Common.TokenBody","doc":"Defines a schema for OAuth token information.","ref":"Lightning.AuthProviders.Common.TokenBody.html"},{"type":"function","title":"Lightning.AuthProviders.Common.TokenBody.from_oauth2_token/1","doc":"Converts an OAuth2 token to a TokenBody struct.","ref":"Lightning.AuthProviders.Common.TokenBody.html#from_oauth2_token/1"},{"type":"function","title":"Lightning.AuthProviders.Common.TokenBody.new/1","doc":"Creates a new TokenBody struct with the given attributes.","ref":"Lightning.AuthProviders.Common.TokenBody.html#new/1"},{"type":"module","title":"Lightning.AuthProviders.Google","doc":"Handles the specifics of the Google OAuth authentication process.","ref":"Lightning.AuthProviders.Google.html"},{"type":"function","title":"Lightning.AuthProviders.Google.provider_name/0","doc":"","ref":"Lightning.AuthProviders.Google.html#provider_name/0"},{"type":"function","title":"Lightning.AuthProviders.Google.scopes/0","doc":"","ref":"Lightning.AuthProviders.Google.html#scopes/0"},{"type":"function","title":"Lightning.AuthProviders.Google.scopes_doc_url/0","doc":"","ref":"Lightning.AuthProviders.Google.html#scopes_doc_url/0"},{"type":"function","title":"Lightning.AuthProviders.Google.wellknown_url/1","doc":"","ref":"Lightning.AuthProviders.Google.html#wellknown_url/1"},{"type":"module","title":"Lightning.AuthProviders.Handler","doc":"Module which wraps Oauth configuration and a WellKnown document\ninto a convenient struct that can be used to authenticate users against\nany OIDC compliant provider.","ref":"Lightning.AuthProviders.Handler.html"},{"type":"type","title":"Lightning.AuthProviders.Handler.opts/0","doc":"","ref":"Lightning.AuthProviders.Handler.html#t:opts/0"},{"type":"type","title":"Lightning.AuthProviders.Handler.t/0","doc":"","ref":"Lightning.AuthProviders.Handler.html#t:t/0"},{"type":"function","title":"Lightning.AuthProviders.Handler.authorize_url/1","doc":"","ref":"Lightning.AuthProviders.Handler.html#authorize_url/1"},{"type":"function","title":"Lightning.AuthProviders.Handler.from_model/1","doc":"Returns a Handler from a given AuthConfig","ref":"Lightning.AuthProviders.Handler.html#from_model/1"},{"type":"function","title":"Lightning.AuthProviders.Handler.get_token/2","doc":"","ref":"Lightning.AuthProviders.Handler.html#get_token/2"},{"type":"function","title":"Lightning.AuthProviders.Handler.get_userinfo/2","doc":"","ref":"Lightning.AuthProviders.Handler.html#get_userinfo/2"},{"type":"function","title":"Lightning.AuthProviders.Handler.new/2","doc":"Create a new Provider struct, expects a name and opts:\n\n- `:client_id` - The providers issued id\n- `:client_secret` - Secret for the client\n- `:redirect_uri` - The URI for redirecting after authentication,\n  usually the callback url in the router.\n- `:wellknown` - A AuthProviders.WellKnown struct with the providers\n  `.well-known/openid-configuration`.","ref":"Lightning.AuthProviders.Handler.html#new/2"},{"type":"behaviour","title":"Lightning.AuthProviders.OAuthBehaviour","doc":"Defines a behaviour for OAuth providers within the Lightning application,\nspecifying a common interface for OAuth operations.\nThis interface ensures consistency and interoperability among different\nauthentication providers (e.g., Google, Salesforce)\nby defining a set of required functions that each provider must implement.","ref":"Lightning.AuthProviders.OAuthBehaviour.html"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.authorize_url/4","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:authorize_url/4"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.build_client/1","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:build_client/1"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.get_token/3","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:get_token/3"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.get_userinfo/3","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:get_userinfo/3"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.refresh_token/2","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:refresh_token/2"},{"type":"callback","title":"Lightning.AuthProviders.OAuthBehaviour.refresh_token/3","doc":"","ref":"Lightning.AuthProviders.OAuthBehaviour.html#c:refresh_token/3"},{"type":"module","title":"Lightning.AuthProviders.OauthHTTPClient","doc":"Handles OAuth interactions for generic providers, including token fetching,\nrefreshing, and user information retrieval. This module uses Tesla to make HTTP\nrequests configured with middleware appropriate for OAuth specific tasks.\n\nReturns structured error responses that integrate well with the audit system.","ref":"Lightning.AuthProviders.OauthHTTPClient.html"},{"type":"type","title":"Lightning.AuthProviders.OauthHTTPClient.option/0","doc":"Options that may be passed to a request function. See `request/2` for detailed descriptions.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#t:option/0"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.delete/3","doc":"Perform a DELETE request.\n\nSee `request/1` or `request/2` for options definition.\n\n    delete(\"/users\")\n    delete(\"/users\", query: [scope: \"admin\"])\n    delete(client, \"/users\")\n    delete(client, \"/users\", query: [scope: \"admin\"])\n    delete(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#delete/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.delete!/3","doc":"Perform a DELETE request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    delete!(\"/users\")\n    delete!(\"/users\", query: [scope: \"admin\"])\n    delete!(client, \"/users\")\n    delete!(client, \"/users\", query: [scope: \"admin\"])\n    delete!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#delete!/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.fetch_token/2","doc":"Fetches a new token using the authorization code provided by the OAuth provider.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_token/2"},{"type":"function","title":"Parameters - Lightning.AuthProviders.OauthHTTPClient.fetch_token/2","doc":"- `client`: The client configuration containing client_id, client_secret, and token_endpoint.\n- `code`: The authorization code received from the OAuth provider.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_token/2-parameters"},{"type":"function","title":"Returns - Lightning.AuthProviders.OauthHTTPClient.fetch_token/2","doc":"- `{:ok, token_data}` on success\n- `{:error, %{status: integer(), error: term(), details: map()}}` on failure","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_token/2-returns"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.fetch_userinfo/2","doc":"Fetches user information from the OAuth provider using a valid access token.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_userinfo/2"},{"type":"function","title":"Parameters - Lightning.AuthProviders.OauthHTTPClient.fetch_userinfo/2","doc":"- `client`: The client configuration containing userinfo_endpoint.\n- `token`: The token configuration containing access_token.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_userinfo/2-parameters"},{"type":"function","title":"Returns - Lightning.AuthProviders.OauthHTTPClient.fetch_userinfo/2","doc":"- `{:ok, user_info}` on success\n- `{:error, %{status: integer(), error: term(), details: map()}}` on failure","ref":"Lightning.AuthProviders.OauthHTTPClient.html#fetch_userinfo/2-returns"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.generate_authorize_url/2","doc":"Generates an authorization URL with specified parameters.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#generate_authorize_url/2"},{"type":"function","title":"Parameters - Lightning.AuthProviders.OauthHTTPClient.generate_authorize_url/2","doc":"- `client`: The client configuration containing client_id, and authorization_endpoint.\n- `params`: Additional parameters to include in the authorization URL.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#generate_authorize_url/2-parameters"},{"type":"function","title":"Returns - Lightning.AuthProviders.OauthHTTPClient.generate_authorize_url/2","doc":"- The fully formed authorization URL as a string.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#generate_authorize_url/2-returns"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.get/3","doc":"Perform a GET request.\n\nSee `request/1` or `request/2` for options definition.\n\n    get(\"/users\")\n    get(\"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\")\n    get(client, \"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#get/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.get!/3","doc":"Perform a GET request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    get!(\"/users\")\n    get!(\"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\")\n    get!(client, \"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#get!/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.head/3","doc":"Perform a HEAD request.\n\nSee `request/1` or `request/2` for options definition.\n\n    head(\"/users\")\n    head(\"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\")\n    head(client, \"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#head/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.head!/3","doc":"Perform a HEAD request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    head!(\"/users\")\n    head!(\"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\")\n    head!(client, \"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#head!/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.options/3","doc":"Perform a OPTIONS request.\n\nSee `request/1` or `request/2` for options definition.\n\n    options(\"/users\")\n    options(\"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\")\n    options(client, \"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#options/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.options!/3","doc":"Perform a OPTIONS request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    options!(\"/users\")\n    options!(\"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\")\n    options!(client, \"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#options!/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.patch/4","doc":"Perform a PATCH request.\n\nSee `request/1` or `request/2` for options definition.\n\n    patch(\"/users\", %{name: \"Jon\"})\n    patch(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch(client, \"/users\", %{name: \"Jon\"})\n    patch(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#patch/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.patch!/4","doc":"Perform a PATCH request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    patch!(\"/users\", %{name: \"Jon\"})\n    patch!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch!(client, \"/users\", %{name: \"Jon\"})\n    patch!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#patch!/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.post/4","doc":"Perform a POST request.\n\nSee `request/1` or `request/2` for options definition.\n\n    post(\"/users\", %{name: \"Jon\"})\n    post(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    post(client, \"/users\", %{name: \"Jon\"})\n    post(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#post/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.post!/4","doc":"Perform a POST request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    post!(\"/users\", %{name: \"Jon\"})\n    post!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    post!(client, \"/users\", %{name: \"Jon\"})\n    post!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#post!/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.put/4","doc":"Perform a PUT request.\n\nSee `request/1` or `request/2` for options definition.\n\n    put(\"/users\", %{name: \"Jon\"})\n    put(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    put(client, \"/users\", %{name: \"Jon\"})\n    put(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#put/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.put!/4","doc":"Perform a PUT request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    put!(\"/users\", %{name: \"Jon\"})\n    put!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    put!(client, \"/users\", %{name: \"Jon\"})\n    put!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.AuthProviders.OauthHTTPClient.html#put!/4"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.refresh_token/2","doc":"Refreshes an existing token using the refresh token.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#refresh_token/2"},{"type":"function","title":"Parameters - Lightning.AuthProviders.OauthHTTPClient.refresh_token/2","doc":"- `client`: The client configuration containing client_id, client_secret, and token_endpoint.\n- `token`: The token configuration containing refresh_token","ref":"Lightning.AuthProviders.OauthHTTPClient.html#refresh_token/2-parameters"},{"type":"function","title":"Returns - Lightning.AuthProviders.OauthHTTPClient.refresh_token/2","doc":"- `{:ok, refreshed_token_data}` on success with preserved refresh_token\n- `{:error, %{status: integer(), error: term(), details: map()}}` on failure","ref":"Lightning.AuthProviders.OauthHTTPClient.html#refresh_token/2-returns"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.request/2","doc":"Perform a request.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#request/2"},{"type":"function","title":"Options - Lightning.AuthProviders.OauthHTTPClient.request/2","doc":"- `:method` - the request method, one of [`:head`, `:get`, `:delete`, `:trace`, `:options`, `:post`, `:put`, `:patch`]\n- `:url` - either full url e.g. \"http://example.com/some/path\" or just \"/some/path\" if using `Tesla.Middleware.BaseUrl`\n- `:query` - a keyword list of query params, e.g. `[page: 1, per_page: 100]`\n- `:headers` - a keyword list of headers, e.g. `[{\"content-type\", \"text/plain\"}]`\n- `:body` - depends on used middleware:\n    - by default it can be a binary\n    - if using e.g. JSON encoding middleware it can be a nested map\n    - if adapter supports it it can be a Stream with any of the above\n- `:opts` - custom, per-request middleware or adapter options","ref":"Lightning.AuthProviders.OauthHTTPClient.html#request/2-options"},{"type":"function","title":"Examples - Lightning.AuthProviders.OauthHTTPClient.request/2","doc":"ExampleApi.request(method: :get, url: \"/users/path\")\n\n    # use shortcut methods\n    ExampleApi.get(\"/users/1\")\n    ExampleApi.post(client, \"/users\", %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#request/2-examples"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.request!/2","doc":"Perform request and raise in case of error.\n\nThis is similar to `request/2` behaviour from Tesla 0.x\n\nSee `request/2` for list of available options.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#request!/2"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.revoke_token/2","doc":"Revokes an OAuth token.\n\nAttempts to revoke both access_token and refresh_token for comprehensive cleanup.\nPer RFC 7009, providers should invalidate related tokens when one is revoked.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#revoke_token/2"},{"type":"function","title":"Parameters - Lightning.AuthProviders.OauthHTTPClient.revoke_token/2","doc":"- `client`: The client configuration containing client_id, client_secret, and revocation_endpoint.\n- `token`: The token data containing access_token and refresh_token.","ref":"Lightning.AuthProviders.OauthHTTPClient.html#revoke_token/2-parameters"},{"type":"function","title":"Returns - Lightning.AuthProviders.OauthHTTPClient.revoke_token/2","doc":"- `:ok` on success (any token successfully revoked)\n- `{:error, %{status: integer(), error: term(), details: map()}}` on failure","ref":"Lightning.AuthProviders.OauthHTTPClient.html#revoke_token/2-returns"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.trace/3","doc":"Perform a TRACE request.\n\nSee `request/1` or `request/2` for options definition.\n\n    trace(\"/users\")\n    trace(\"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\")\n    trace(client, \"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#trace/3"},{"type":"function","title":"Lightning.AuthProviders.OauthHTTPClient.trace!/3","doc":"Perform a TRACE request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    trace!(\"/users\")\n    trace!(\"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\")\n    trace!(client, \"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.AuthProviders.OauthHTTPClient.html#trace!/3"},{"type":"module","title":"Lightning.AuthProviders.Salesforce","doc":"Handles the specifics of the Salesforce OAuth authentication process.","ref":"Lightning.AuthProviders.Salesforce.html"},{"type":"function","title":"Lightning.AuthProviders.Salesforce.provider_name/0","doc":"","ref":"Lightning.AuthProviders.Salesforce.html#provider_name/0"},{"type":"function","title":"Lightning.AuthProviders.Salesforce.scopes/0","doc":"","ref":"Lightning.AuthProviders.Salesforce.html#scopes/0"},{"type":"function","title":"Lightning.AuthProviders.Salesforce.scopes_doc_url/0","doc":"","ref":"Lightning.AuthProviders.Salesforce.html#scopes_doc_url/0"},{"type":"function","title":"Lightning.AuthProviders.Salesforce.wellknown_url/1","doc":"","ref":"Lightning.AuthProviders.Salesforce.html#wellknown_url/1"},{"type":"module","title":"Lightning.AuthProviders.Store","doc":"Store module for caching Handlers.\n\nSince Handlers often have to fetch their `.well-known` files when being\ninitialized we cache these in order to avoid repeatedly making HTTP requests\nto a providers API.","ref":"Lightning.AuthProviders.Store.html"},{"type":"type","title":"Lightning.AuthProviders.Store.finder/0","doc":"","ref":"Lightning.AuthProviders.Store.html#t:finder/0"},{"type":"function","title":"Lightning.AuthProviders.Store.get_handler/2","doc":"","ref":"Lightning.AuthProviders.Store.html#get_handler/2"},{"type":"function","title":"Lightning.AuthProviders.Store.get_handlers/0","doc":"","ref":"Lightning.AuthProviders.Store.html#get_handlers/0"},{"type":"function","title":"Lightning.AuthProviders.Store.put_handler/2","doc":"","ref":"Lightning.AuthProviders.Store.html#put_handler/2"},{"type":"function","title":"Lightning.AuthProviders.Store.remove_handler/1","doc":"","ref":"Lightning.AuthProviders.Store.html#remove_handler/1"},{"type":"module","title":"Lightning.AuthProviders.WellKnown","doc":"A datastructure to fetch and hold information about a given OIDC/OAuth provider","ref":"Lightning.AuthProviders.WellKnown.html"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.body/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:body/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.headers/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:headers/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.method/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:method/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.options/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:options/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.params/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:params/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.request/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:request/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.t/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:t/0"},{"type":"type","title":"Lightning.AuthProviders.WellKnown.url/0","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#t:url/0"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.delete/3","doc":"Issues a DELETE request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#delete/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.delete!/3","doc":"Issues a DELETE request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#delete!/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.fetch/1","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#fetch/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.fetch!/1","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#fetch!/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.get/3","doc":"Issues a GET request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#get/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.get!/3","doc":"Issues a GET request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#get!/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.head/3","doc":"Issues a HEAD request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#head/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.head!/3","doc":"Issues a HEAD request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#head!/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.new/1","doc":"","ref":"Lightning.AuthProviders.WellKnown.html#new/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.options/3","doc":"Issues an OPTIONS request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#options/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.options!/3","doc":"Issues a OPTIONS request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#options!/3"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.patch/4","doc":"Issues a PATCH request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#patch/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.patch!/4","doc":"Issues a PATCH request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#patch!/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.post/4","doc":"Issues a POST request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#post/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.post!/4","doc":"Issues a POST request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#post!/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_headers/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_headers/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_request_body/1","doc":"Callback implementation for  HTTPoison.Base.process_request_body/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_request_body/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_request_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_request_headers/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_request_headers/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_request_options/1","doc":"Callback implementation for  HTTPoison.Base.process_request_options/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_request_options/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_request_params/1","doc":"Callback implementation for  HTTPoison.Base.process_request_params/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_request_params/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_request_url/1","doc":"Callback implementation for  HTTPoison.Base.process_request_url/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_request_url/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_response/1","doc":"Callback implementation for  HTTPoison.Base.process_response/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_response/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_response_body/1","doc":"Callback implementation for  HTTPoison.Base.process_response_body/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_response_body/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_response_chunk/1","doc":"Callback implementation for  HTTPoison.Base.process_response_chunk/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_response_chunk/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_response_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_response_headers/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_response_headers/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_response_status_code/1","doc":"Callback implementation for  HTTPoison.Base.process_response_status_code/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_response_status_code/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_status_code/1","doc":"Callback implementation for  HTTPoison.Base.process_status_code/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_status_code/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.process_url/1","doc":"Callback implementation for  HTTPoison.Base.process_url/1 .","ref":"Lightning.AuthProviders.WellKnown.html#process_url/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.put/4","doc":"Issues a PUT request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#put/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.put!/4","doc":"Issues a PUT request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#put!/4"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.request/1","doc":"Issues an HTTP request using an `HTTPoison.Request` struct.\n\nThis function returns `{:ok, response}`, `{:ok, async_response}`, or `{:ok, maybe_redirect}`\nif the request is successful, `{:error, reason}` otherwise.","ref":"Lightning.AuthProviders.WellKnown.html#request/1"},{"type":"function","title":"Redirect handling - Lightning.AuthProviders.WellKnown.request/1","doc":"If the option `:follow_redirect` is given, HTTP redirects are automatically follow if\nthe method is set to `:get` or `:head` and the response's `status_code` is `301`, `302` or\n`307`.\n\nIf the method is set to `:post`, then the only `status_code` that get's automatically\nfollowed is `303`.\n\nIf any other method or `status_code` is returned, then this function returns a\nreturns a `{:ok, %HTTPoison.MaybeRedirect{}}` containing the `redirect_url` for you to\nre-request with the method set to `:get`.","ref":"Lightning.AuthProviders.WellKnown.html#request/1-redirect-handling"},{"type":"function","title":"Examples - Lightning.AuthProviders.WellKnown.request/1","doc":"request = %HTTPoison.Request{\n      method: :post,\n      url: \"https://my.website.com\",\n      body: \"{\\\"foo\\\": 3}\",\n      headers: [{\"Accept\", \"application/json\"}]\n    }\n\n    request(request)","ref":"Lightning.AuthProviders.WellKnown.html#request/1-examples"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.request/5","doc":"Issues an HTTP request with the given method to the given url.\n\nThis function is usually used indirectly by `get/3`, `post/4`, `put/4`, etc\n\nArgs:\n  * `method` - HTTP method as an atom (`:get`, `:head`, `:post`, `:put`,\n    `:delete`, etc.)\n  * `url` - target url as a binary string or char list\n  * `body` - request body. See more below\n  * `headers` - HTTP headers as an orddict (e.g., `[{\"Accept\", \"application/json\"}]`)\n  * `options` - Keyword list of options\n\nBody: see type `HTTPoison.Request`\n\nOptions: see type `HTTPoison.Request`\n\nThis function returns `{:ok, response}`, `{:ok, async_response}`, or `{:ok, maybe_redirect}`\nif the request is successful, `{:error, reason}` otherwise.","ref":"Lightning.AuthProviders.WellKnown.html#request/5"},{"type":"function","title":"Redirect handling - Lightning.AuthProviders.WellKnown.request/5","doc":"If the option `:follow_redirect` is given, HTTP redirects are automatically follow if\nthe method is set to `:get` or `:head` and the response's `status_code` is `301`, `302` or\n`307`.\n\nIf the method is set to `:post`, then the only `status_code` that get's automatically\nfollowed is `303`.\n\nIf any other method or `status_code` is returned, then this function returns a\nreturns a `{:ok, %HTTPoison.MaybeRedirect{}}` containing the `redirect_url` for you to\nre-request with the method set to `:get`.","ref":"Lightning.AuthProviders.WellKnown.html#request/5-redirect-handling"},{"type":"function","title":"Examples - Lightning.AuthProviders.WellKnown.request/5","doc":"request(:post, \"https://my.website.com\", \"{\\\"foo\\\": 3}\", [{\"Accept\", \"application/json\"}])","ref":"Lightning.AuthProviders.WellKnown.html#request/5-examples"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.request!/1","doc":"Issues an HTTP request an `HTTPoison.Request` struct.\nexception in case of failure.\n\n`request!/1` works exactly like `request/1` but it returns just the\nresponse in case of a successful request, raising an exception in case the\nrequest fails.","ref":"Lightning.AuthProviders.WellKnown.html#request!/1"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.request!/5","doc":"Issues an HTTP request with the given method to the given url, raising an\nexception in case of failure.\n\n`request!/5` works exactly like `request/5` but it returns just the\nresponse in case of a successful request, raising an exception in case the\nrequest fails.","ref":"Lightning.AuthProviders.WellKnown.html#request!/5"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.start/0","doc":"Starts HTTPoison and its dependencies.","ref":"Lightning.AuthProviders.WellKnown.html#start/0"},{"type":"function","title":"Lightning.AuthProviders.WellKnown.stream_next/1","doc":"Requests the next message to be streamed for a given `HTTPoison.AsyncResponse`.\n\nSee `request!/5` for more detailed information.","ref":"Lightning.AuthProviders.WellKnown.html#stream_next/1"},{"type":"module","title":"Lightning.BuildMacros","doc":"Macros for building Lightning.","ref":"Lightning.BuildMacros.html"},{"type":"macro","title":"Lightning.BuildMacros.do_in/2","doc":"Conditionally evaluates the block if the current environment is in the\ngiven list of environments.","ref":"Lightning.BuildMacros.html#do_in/2"},{"type":"macro","title":"Examples - Lightning.BuildMacros.do_in/2","doc":"do_in(:dev) do\n      IO.puts(\"This will only be printed in the dev environment\")\n    end\n\n    do_in([:dev, :test]) do\n      IO.puts(\"This will only be printed in the dev and test environments\")\n    end","ref":"Lightning.BuildMacros.html#do_in/2-examples"},{"type":"module","title":"Lightning.CLI","doc":"Module providing facilities to make calls to the OpenFn CLI.\n\nSee [@openfn/cli](https://github.com/OpenFn/kit/tree/main/packages/cli#openfncli)","ref":"Lightning.CLI.html"},{"type":"function","title":"Lightning.CLI.execute/1","doc":"Execute a command in a child process and parse the results.","ref":"Lightning.CLI.html#execute/1"},{"type":"function","title":"Lightning.CLI.metadata/2","doc":"Retrieve metadata for a given adaptor and configuration.","ref":"Lightning.CLI.html#metadata/2"},{"type":"module","title":"Lightning.CLI.Result","doc":"Struct that wraps the output of an OpenFn CLI call.\n\nContaining the keys:\n\n- `start_time`\n- `end_time`\n- `status`\n- `logs`","ref":"Lightning.CLI.Result.html"},{"type":"module","title":"Logs - Lightning.CLI.Result","doc":"The OpenFn CLI returns JSON formatted log lines, which are decoded and added\nto a `Result` struct.\n\nThere are two kinds of output:\n\n```\n{\"level\":\"< >\",\"name\":\"< >\",\"message\":\"...\"],\"time\":< >}\n```\n\nThese are usually for general logging, and debugging.\n\n```\n{\"message\":[\"< >\"]}\n```\n\nThe above is the equivalent of the output of a command","ref":"Lightning.CLI.Result.html#module-logs"},{"type":"type","title":"Lightning.CLI.Result.t/0","doc":"","ref":"Lightning.CLI.Result.html#t:t/0"},{"type":"function","title":"Lightning.CLI.Result.get_messages/1","doc":"Returns `message` type log lines from a `Result`.","ref":"Lightning.CLI.Result.html#get_messages/1"},{"type":"function","title":"Lightning.CLI.Result.new/1","doc":"","ref":"Lightning.CLI.Result.html#new/1"},{"type":"function","title":"Lightning.CLI.Result.parse/2","doc":"","ref":"Lightning.CLI.Result.html#parse/2"},{"type":"module","title":"Lightning.ChangesetUtils","doc":"Extra functions for Ecto.Changeset.","ref":"Lightning.ChangesetUtils.html"},{"type":"function","title":"Lightning.ChangesetUtils.put_if_provided/3","doc":"Puts a new change in the changeset if the params have the field.\n\nUseful when params don't have a given key and you don't want to set the\nfield to `nil`.","ref":"Lightning.ChangesetUtils.html#put_if_provided/3"},{"type":"function","title":"Lightning.ChangesetUtils.put_new_change/3","doc":"Puts a new change in the changeset if the field is not already set.\n\nNOTE: This function considers a field with a `nil` value as not set.","ref":"Lightning.ChangesetUtils.html#put_new_change/3"},{"type":"module","title":"Lightning.Collaborate","doc":"Public API for starting collaborative workflow editing sessions.\n\nThis module serves as the main entry point for collaborative editing,\ncoordinating the creation and management of document and session processes\nfor workflow collaboration.\n\nAll collaborative sessions require a workflow struct.","ref":"Lightning.Collaborate.html"},{"type":"module","title":"Example - Lightning.Collaborate","doc":"# Existing workflow\n    workflow = Lightning.Workflows.get_workflow(workflow_id)\n\n    Collaborate.start(user: user, workflow: workflow)\n\n    # New workflow\n    workflow = %Lightning.Workflows.Workflow{\n      id: workflow_id,\n      project_id: project_id,\n      name: \"\",\n      positions: %{}\n    }\n\n    Collaborate.start(user: user, workflow: workflow)","ref":"Lightning.Collaborate.html#module-example"},{"type":"function","title":"Lightning.Collaborate.lookup/1","doc":"See  Lightning.Collaboration.Registry.lookup/1 .","ref":"Lightning.Collaborate.html#lookup/1"},{"type":"function","title":"Lightning.Collaborate.start/1","doc":"","ref":"Lightning.Collaborate.html#start/1"},{"type":"function","title":"Lightning.Collaborate.start_document/2","doc":"","ref":"Lightning.Collaborate.html#start_document/2"},{"type":"function","title":"Lightning.Collaborate.whereis/1","doc":"See  Lightning.Collaboration.Registry.whereis/1 .","ref":"Lightning.Collaborate.html#whereis/1"},{"type":"module","title":"Lightning.Collaboration.DocumentState","doc":"Schema for persisting Y.js collaborative document states.\n\nSupports multiple record types for batched persistence:\n- \"update\": Individual or batched updates\n- \"checkpoint\": Full document state snapshot\n- \"state_vector\": Current state vector for efficient syncing","ref":"Lightning.Collaboration.DocumentState.html"},{"type":"function","title":"Lightning.Collaboration.DocumentState.changeset/2","doc":"","ref":"Lightning.Collaboration.DocumentState.html#changeset/2"},{"type":"module","title":"Lightning.Collaboration.DocumentSupervisor","doc":"Manages the lifecycle of collaborative workflow document processes.\n\nThis GenServer coordinates a SharedDoc and PersistenceWriter for each\ncollaborative workflow document. It starts both processes with proper\ndependencies, registers the SharedDoc with the `:pg` process group for\ncluster-wide coordination, and handles graceful shutdown by ensuring\nthe SharedDoc flushes data to the PersistenceWriter before termination.\n\nUses a transient restart strategy, only restarting if the supervisor\nitself crashes, not when child processes exit normally. Monitors both\nchild processes and stops itself if either child crashes.","ref":"Lightning.Collaboration.DocumentSupervisor.html"},{"type":"function","title":"Lightning.Collaboration.DocumentSupervisor.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Collaboration.DocumentSupervisor.html#child_spec/1"},{"type":"function","title":"Lightning.Collaboration.DocumentSupervisor.start_link/2","doc":"","ref":"Lightning.Collaboration.DocumentSupervisor.html#start_link/2"},{"type":"module","title":"Lightning.Collaboration.Persistence","doc":"Persistence implementation for collaborative workflow documents.\n\nStores Y.js document updates in the database and provides\nefficient loading and saving of document state.","ref":"Lightning.Collaboration.Persistence.html"},{"type":"module","title":"Lightning.Collaboration.PersistenceWriter","doc":"A GenServer that accumulates Yjs document updates and batches them for\nefficient database writes.\n\nThis process handles the batched persistence strategy using debouncing,\nsize limits, and time limits to determine optimal flush timing. It monitors\nthe SharedDoc process for proper cleanup and lifecycle management.\n\nThe writer uses several strategies for efficient persistence:\n- Debouncing: Waits for activity to settle before saving\n- Batching: Combines multiple updates into a single database write\n- Checkpointing: Periodically consolidates updates for faster loading\n- Cleanup: Removes old updates after checkpoints","ref":"Lightning.Collaboration.PersistenceWriter.html"},{"type":"function","title":"Lightning.Collaboration.PersistenceWriter.add_update/2","doc":"Adds a Yjs update to the pending batch for persistence.","ref":"Lightning.Collaboration.PersistenceWriter.html#add_update/2"},{"type":"function","title":"Lightning.Collaboration.PersistenceWriter.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Collaboration.PersistenceWriter.html#child_spec/1"},{"type":"function","title":"Lightning.Collaboration.PersistenceWriter.flush_and_stop/1","doc":"Flushes all pending updates and stops the writer.\n\nThis is called when the document is being unbound and ensures all\nupdates are persisted before cleanup.","ref":"Lightning.Collaboration.PersistenceWriter.html#flush_and_stop/1"},{"type":"function","title":"Lightning.Collaboration.PersistenceWriter.start_link/1","doc":"Starts the PersistenceWriter GenServer for a specific document.\n\nRegisters the process in the Registry with key {:persistence_writer, document_name}.","ref":"Lightning.Collaboration.PersistenceWriter.html#start_link/1"},{"type":"module","title":"Lightning.Collaboration.Registry","doc":"Registry for collaboration processes.\n\nThis Registry provides local process tracking for the collaboration system,\ncomplementing the cluster-wide :pg process groups. It supports the following\nkey patterns:","ref":"Lightning.Collaboration.Registry.html"},{"type":"module","title":"Supported Key Patterns - Lightning.Collaboration.Registry","doc":"- `{:shared_doc, document_name}` - SharedDoc processes for documents (e.g., \"workflow:workflow_id\")\n- `{:persistence_writer, document_name}` - PersistenceWriter processes (future use)\n- `{:doc_supervisor, workflow_id}` - DocumentSupervisor processes (future use)\n\nSession processes are not registered here as there may be multiple sessions\nfor the same workflow and the same user.","ref":"Lightning.Collaboration.Registry.html#module-supported-key-patterns"},{"type":"module","title":"Registry vs Process Groups - Lightning.Collaboration.Registry","doc":"This Registry is used for local node process lookup and coordination, while\n`:pg` (process groups) remains for cluster-wide SharedDoc uniqueness. The\nRegistry provides faster local lookups and better integration with supervision\ntrees.","ref":"Lightning.Collaboration.Registry.html#module-registry-vs-process-groups"},{"type":"module","title":"Usage - Lightning.Collaboration.Registry","doc":"Processes can register themselves either in their init callback or using via tuples\nin their child_spec:\n\n    # Session registration in init callback\n    Lightning.Collaboration.Registry.register({:session, \"workflow_123\", \"user_456\"})\n\n    # SharedDoc registration via child_spec\n    {SharedDoc, [\n      doc_name: \"workflow:workflow_123\",\n      name: {:via, Registry, {Lightning.Collaboration.Registry.registry_name(), {:shared_doc, \"workflow:workflow_123\"}}}\n    ]}","ref":"Lightning.Collaboration.Registry.html#module-usage"},{"type":"function","title":"Lightning.Collaboration.Registry.child_spec/1","doc":"Child specification for starting the Registry.","ref":"Lightning.Collaboration.Registry.html#child_spec/1"},{"type":"function","title":"Lightning.Collaboration.Registry.count/1","doc":"","ref":"Lightning.Collaboration.Registry.html#count/1"},{"type":"function","title":"Lightning.Collaboration.Registry.get_group/1","doc":"","ref":"Lightning.Collaboration.Registry.html#get_group/1"},{"type":"function","title":"Lightning.Collaboration.Registry.lookup/1","doc":"Look up all processes registered with the given key.\n\nReturns a list of {pid, value} tuples. Since we use unique keys,\nthis will typically return a single-item list or an empty list.","ref":"Lightning.Collaboration.Registry.html#lookup/1"},{"type":"function","title":"Examples - Lightning.Collaboration.Registry.lookup/1","doc":"Lightning.Collaboration.Registry.lookup({:session, \"workflow_123\"})\n    # => [{#PID<0.123.0>, nil}]\n\n    Lightning.Collaboration.Registry.lookup({:session, \"nonexistent\"})\n    # => []","ref":"Lightning.Collaboration.Registry.html#lookup/1-examples"},{"type":"function","title":"Lightning.Collaboration.Registry.register/1","doc":"Register the current process with the given key.","ref":"Lightning.Collaboration.Registry.html#register/1"},{"type":"function","title":"Examples - Lightning.Collaboration.Registry.register/1","doc":"Lightning.Collaboration.Registry.register({:session, \"workflow_123\"})\n    # => {:ok, #PID<0.123.0>}\n\n    Lightning.Collaboration.Registry.register({:shared_doc, \"workflow:workflow_123\"})\n    # => {:ok, #PID<0.123.0>}","ref":"Lightning.Collaboration.Registry.html#register/1-examples"},{"type":"function","title":"Error Cases - Lightning.Collaboration.Registry.register/1","doc":"Lightning.Collaboration.Registry.register({:session, \"workflow_123\"})\n    # => {:error, {:already_registered, #PID<0.456.0>}}","ref":"Lightning.Collaboration.Registry.html#register/1-error-cases"},{"type":"function","title":"Lightning.Collaboration.Registry.select/1","doc":"Select processes registered with the given key (prefix).\n\nThe key pattern expected is:\n- `{:type, key}`\n- `{:type, key, any()}`.\n\nWe do a select with any key that _starts with_ the given key.","ref":"Lightning.Collaboration.Registry.html#select/1"},{"type":"function","title":"Lightning.Collaboration.Registry.via/1","doc":"","ref":"Lightning.Collaboration.Registry.html#via/1"},{"type":"function","title":"Lightning.Collaboration.Registry.whereis/1","doc":"Find the pid registered with the given key.\n\nThis is a convenience function that returns just the pid, or nil\nif no process is registered.","ref":"Lightning.Collaboration.Registry.html#whereis/1"},{"type":"function","title":"Examples - Lightning.Collaboration.Registry.whereis/1","doc":"Lightning.Collaboration.Registry.whereis({:session, \"workflow_123\"})\n    # => #PID<0.123.0>\n\n    Lightning.Collaboration.Registry.whereis({:session, \"nonexistent\"})\n    # => nil","ref":"Lightning.Collaboration.Registry.html#whereis/1-examples"},{"type":"module","title":"Lightning.Collaboration.Session","doc":"Manages individual user sessions for collaborative workflow editing.\n\nA Session acts as a bridge between a parent process (typically a Phoenix\nchannel) and a SharedDoc process that manages the Y.js CRDT document. Each\nuser editing a workflow has their own Session process that handles:\n\n* User presence tracking via `Lightning.Workflows.Presence`\n* Bi-directional Y.js message routing between parent and SharedDoc\n* Connection management to existing SharedDoc processes via Registry lookup\n* Workflow document initialization with database data when needed\n* Cleanup when the parent process disconnects\n\nSessions are temporary processes that monitor their parent and terminate\nwhen the parent disconnects, ensuring proper cleanup of presence tracking\nand SharedDoc observers.","ref":"Lightning.Collaboration.Session.html"},{"type":"type","title":"Lightning.Collaboration.Session.start_opts/0","doc":"","ref":"Lightning.Collaboration.Session.html#t:start_opts/0"},{"type":"function","title":"Lightning.Collaboration.Session.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Collaboration.Session.html#child_spec/1"},{"type":"function","title":"Lightning.Collaboration.Session.get_doc/1","doc":"Get the current document.","ref":"Lightning.Collaboration.Session.html#get_doc/1"},{"type":"function","title":"Lightning.Collaboration.Session.initialize_workflow_document/2","doc":"","ref":"Lightning.Collaboration.Session.html#initialize_workflow_document/2"},{"type":"function","title":"Lightning.Collaboration.Session.lookup_shared_doc/1","doc":"","ref":"Lightning.Collaboration.Session.html#lookup_shared_doc/1"},{"type":"function","title":"Lightning.Collaboration.Session.reset_workflow/2","doc":"Resets the workflow document to the latest snapshot from the database.\n\nThis operation:\n1. Fetches the latest workflow from the database\n2. Clears all Y.Doc collections (jobs, edges, triggers arrays)\n3. Re-serializes the workflow to the Y.Doc\n4. Broadcasts updates to all connected clients via SharedDoc\n\nAll collaborative editing history in the Y.Doc is preserved (operation log),\nbut the document content is replaced with the database state.","ref":"Lightning.Collaboration.Session.html#reset_workflow/2"},{"type":"function","title":"Parameters - Lightning.Collaboration.Session.reset_workflow/2","doc":"- `session_pid`: The Session process PID\n- `user`: The user performing the reset (for authorization logging)","ref":"Lightning.Collaboration.Session.html#reset_workflow/2-parameters"},{"type":"function","title":"Returns - Lightning.Collaboration.Session.reset_workflow/2","doc":"- `{:ok, workflow}` - Successfully reset with updated workflow\n- `{:error, :workflow_deleted}` - Workflow has been deleted from database\n- `{:error, :internal_error}` - SharedDoc not available","ref":"Lightning.Collaboration.Session.html#reset_workflow/2-returns"},{"type":"function","title":"Examples - Lightning.Collaboration.Session.reset_workflow/2","doc":"iex> Session.reset_workflow(session_pid, user)\n    {:ok, %Workflow{lock_version: 5}}\n\n    iex> Session.reset_workflow(session_pid, user)\n    {:error, :workflow_deleted}","ref":"Lightning.Collaboration.Session.html#reset_workflow/2-examples"},{"type":"function","title":"Lightning.Collaboration.Session.save_workflow/2","doc":"Saves the current workflow state from the Y.Doc to the database.\n\nThis function:\n1. Extracts the current workflow data from the SharedDoc's Y.Doc\n2. Converts Y.js types to Elixir maps suitable for Ecto\n3. Calls Lightning.Workflows.save_workflow/3 for validation and persistence\n4. Returns the saved workflow\n\nNote: This assumes all Y.js updates have been processed before this call,\nwhich is guaranteed by Phoenix Channel's synchronous message handling.","ref":"Lightning.Collaboration.Session.html#save_workflow/2"},{"type":"function","title":"Parameters - Lightning.Collaboration.Session.save_workflow/2","doc":"- `session_pid`: The Session process PID\n- `user`: The user performing the save (for authorization and auditing)","ref":"Lightning.Collaboration.Session.html#save_workflow/2-parameters"},{"type":"function","title":"Returns - Lightning.Collaboration.Session.save_workflow/2","doc":"- `{:ok, workflow}` - Successfully saved\n- `{:error, :workflow_deleted}` - Workflow has been deleted\n- `{:error, changeset}` - Validation or persistence error","ref":"Lightning.Collaboration.Session.html#save_workflow/2-returns"},{"type":"function","title":"Examples - Lightning.Collaboration.Session.save_workflow/2","doc":"iex> Session.save_workflow(session_pid, user)\n    {:ok, %Workflow{}}\n\n    iex> Session.save_workflow(session_pid, user)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Collaboration.Session.html#save_workflow/2-examples"},{"type":"function","title":"Lightning.Collaboration.Session.send_yjs_message/2","doc":"","ref":"Lightning.Collaboration.Session.html#send_yjs_message/2"},{"type":"function","title":"Lightning.Collaboration.Session.start_link/2","doc":"","ref":"Lightning.Collaboration.Session.html#start_link/2"},{"type":"function","title":"Lightning.Collaboration.Session.start_sync/2","doc":"","ref":"Lightning.Collaboration.Session.html#start_sync/2"},{"type":"function","title":"Lightning.Collaboration.Session.stop/1","doc":"Start a new session for a workflow.\n\nThe session will be started as a child of the `Collaboration.Supervisor`.","ref":"Lightning.Collaboration.Session.html#stop/1"},{"type":"function","title":"Options - Lightning.Collaboration.Session.stop/1","doc":"- `workflow` - The workflow struct to start the session for.\n- `user` - The user to start the session for.\n- `parent_pid` - The pid of the parent process.\n   Defaults to the current process.","ref":"Lightning.Collaboration.Session.html#stop/1-options"},{"type":"function","title":"Lightning.Collaboration.Session.stop_shared_doc/1","doc":"","ref":"Lightning.Collaboration.Session.html#stop_shared_doc/1"},{"type":"function","title":"Lightning.Collaboration.Session.update_doc/2","doc":"","ref":"Lightning.Collaboration.Session.html#update_doc/2"},{"type":"module","title":"Lightning.Collaboration.Supervisor","doc":"Supervisor for workflow collaboration infrastructure.\n\nManages the collaboration Registry, :pg process group, and a dynamic\nsupervisor for workflow collaboration processes.\n\nThe Registry must be started first to ensure processes can register\nthemselves during startup.","ref":"Lightning.Collaboration.Supervisor.html"},{"type":"function","title":"Lightning.Collaboration.Supervisor.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Collaboration.Supervisor.html#child_spec/1"},{"type":"function","title":"Lightning.Collaboration.Supervisor.start_child/1","doc":"","ref":"Lightning.Collaboration.Supervisor.html#start_child/1"},{"type":"function","title":"Lightning.Collaboration.Supervisor.start_link/1","doc":"","ref":"Lightning.Collaboration.Supervisor.html#start_link/1"},{"type":"function","title":"Lightning.Collaboration.Supervisor.terminate_child/1","doc":"","ref":"Lightning.Collaboration.Supervisor.html#terminate_child/1"},{"type":"module","title":"Lightning.Collaboration.WorkflowReconciler","doc":"Handles reconciliation of workflow changes between LiveView saves and\ncollaborative YDoc instances. Converts Ecto changeset operations to\nYDoc-compatible operations and applies them to any running SharedDoc.","ref":"Lightning.Collaboration.WorkflowReconciler.html"},{"type":"function","title":"Lightning.Collaboration.WorkflowReconciler.reconcile_workflow_changes/2","doc":"Takes a changeset that was used to update a workflow and reconciles it with\nthe active SharedDocs for that workflow.\n\nNote: This always reconciles to the latest (unversioned) document only.\nVersioned snapshots (e.g., \"workflow:123:v22\") are read-only historical views\nand should never receive live updates from saves.","ref":"Lightning.Collaboration.WorkflowReconciler.html#reconcile_workflow_changes/2"},{"type":"module","title":"Lightning.Collaboration.WorkflowSerializer","doc":"Serializes Lightning Workflow structs to/from Y.Doc CRDT documents.\n\nThis module handles bidirectional conversion:\n- `serialize_to_ydoc/2` - Write workflow data into a Y.Doc (workflow  Y.Doc)\n- `deserialize_from_ydoc/2` - Extract workflow data from a Y.Doc (Y.Doc  workflow)\n\nThese functions maintain consistent field mappings between the two formats.","ref":"Lightning.Collaboration.WorkflowSerializer.html"},{"type":"module","title":"Y.Doc Structure - Lightning.Collaboration.WorkflowSerializer","doc":"The Y.Doc contains six top-level collections:\n\n- `workflow` (Map): Core workflow metadata (id, name, lock_version,\n  deleted_at, concurrency, enable_job_logs)\n- `jobs` (Array): Array of job objects with Y.Text body field\n- `edges` (Array): Array of edge objects connecting jobs/triggers\n- `triggers` (Array): Array of trigger objects (webhook, cron, kafka)\n- `positions` (Map): Canvas positions for visual editor (node_id  {x, y})\n- `errors` (Map): Field-level validation errors (field_path  error_message)","ref":"Lightning.Collaboration.WorkflowSerializer.html#module-y-doc-structure"},{"type":"module","title":"Field Mappings - Lightning.Collaboration.WorkflowSerializer","doc":"","ref":"Lightning.Collaboration.WorkflowSerializer.html#module-field-mappings"},{"type":"module","title":"Special Type Conversions - Lightning.Collaboration.WorkflowSerializer","doc":"- Job `body`: Stored as Y.Text (for collaborative editing)\n- Atoms (condition_type, trigger type): Converted to/from strings\n- Nil values: Coalesced to empty strings or defaults where appropriate","ref":"Lightning.Collaboration.WorkflowSerializer.html#module-special-type-conversions"},{"type":"function","title":"Lightning.Collaboration.WorkflowSerializer.deserialize_from_ydoc/2","doc":"Extracts workflow data from a Y.Doc.\n\nThis reads the Y.Doc structure and converts it to a map suitable for\npassing to Lightning.Workflows.save_workflow/2.","ref":"Lightning.Collaboration.WorkflowSerializer.html#deserialize_from_ydoc/2"},{"type":"function","title":"Parameters - Lightning.Collaboration.WorkflowSerializer.deserialize_from_ydoc/2","doc":"- `doc`: The Y.Doc to read from\n- `workflow_id`: The workflow ID (needed for the returned map)","ref":"Lightning.Collaboration.WorkflowSerializer.html#deserialize_from_ydoc/2-parameters"},{"type":"function","title":"Returns - Lightning.Collaboration.WorkflowSerializer.deserialize_from_ydoc/2","doc":"- A map with workflow data in the format expected by Workflows.save_workflow/2","ref":"Lightning.Collaboration.WorkflowSerializer.html#deserialize_from_ydoc/2-returns"},{"type":"function","title":"Lightning.Collaboration.WorkflowSerializer.serialize_to_ydoc/2","doc":"Writes a workflow's data into a Y.Doc.\n\nThis initializes the Y.Doc structure with:\n- `workflow` map: Core workflow metadata (id, name, lock_version, deleted_at,\n  concurrency, enable_job_logs)\n- `jobs` array: Array of job objects\n- `edges` array: Array of edge objects\n- `triggers` array: Array of trigger objects\n- `positions` map: Canvas positions for visual editor\n\nThis function is a refactored version of Session.initialize_workflow_data/2\nwith no behavioral changes.","ref":"Lightning.Collaboration.WorkflowSerializer.html#serialize_to_ydoc/2"},{"type":"function","title":"Parameters - Lightning.Collaboration.WorkflowSerializer.serialize_to_ydoc/2","doc":"- `doc`: The Y.Doc to write into\n- `workflow`: The workflow struct to serialize","ref":"Lightning.Collaboration.WorkflowSerializer.html#serialize_to_ydoc/2-parameters"},{"type":"function","title":"Returns - Lightning.Collaboration.WorkflowSerializer.serialize_to_ydoc/2","doc":"- The doc (for chaining convenience)","ref":"Lightning.Collaboration.WorkflowSerializer.html#serialize_to_ydoc/2-returns"},{"type":"module","title":"Lightning.Collections","doc":"Access to collections of unique key-value pairs shared across multiple workflows.","ref":"Lightning.Collections.html"},{"type":"function","title":"Lightning.Collections.create_collection/1","doc":"Creates a new collection with the given attributes.","ref":"Lightning.Collections.html#create_collection/1"},{"type":"function","title":"Parameters - Lightning.Collections.create_collection/1","doc":"- `attrs`: A map of attributes to create the collection.","ref":"Lightning.Collections.html#create_collection/1-parameters"},{"type":"function","title":"Examples - Lightning.Collections.create_collection/1","doc":"iex> create_collection(%{name: \"New Collection\", project_id: \"a7895d29-02a9-42cd-845b-7ad893557c24\"})\n    {:ok, %Collection{}}\n\n    iex> create_collection(%{name: nil, project_id: \"a7895d29-02a9-42cd-845b-7ad893557c24\"}})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Collections.html#create_collection/1-examples"},{"type":"function","title":"Returns - Lightning.Collections.create_collection/1","doc":"- `{:ok, %Collection{}}` on success.\n  - `{:error, %Ecto.Changeset{}}` on failure due to validation errors.","ref":"Lightning.Collections.html#create_collection/1-returns"},{"type":"function","title":"Lightning.Collections.delete/2","doc":"","ref":"Lightning.Collections.html#delete/2"},{"type":"function","title":"Lightning.Collections.delete_all/2","doc":"","ref":"Lightning.Collections.html#delete_all/2"},{"type":"function","title":"Lightning.Collections.delete_collection/1","doc":"","ref":"Lightning.Collections.html#delete_collection/1"},{"type":"function","title":"Lightning.Collections.get/2","doc":"","ref":"Lightning.Collections.html#get/2"},{"type":"function","title":"Lightning.Collections.get_all/3","doc":"","ref":"Lightning.Collections.html#get_all/3"},{"type":"function","title":"Lightning.Collections.get_collection/1","doc":"","ref":"Lightning.Collections.html#get_collection/1"},{"type":"function","title":"Lightning.Collections.list_collections/1","doc":"Returns the list of collections with optional ordering and preloading.","ref":"Lightning.Collections.html#list_collections/1"},{"type":"function","title":"Parameters - Lightning.Collections.list_collections/1","doc":"- `opts`: A keyword list of options.\n    - `:order_by` (optional): The field by which to order the results. Default is `[asc: :name]`.\n    - `:preload` (optional): A list of associations to preload. Default is `[:project]`.","ref":"Lightning.Collections.html#list_collections/1-parameters"},{"type":"function","title":"Examples - Lightning.Collections.list_collections/1","doc":"iex> list_collections()\n    [%Collection{}, ...]\n\n    iex> list_collections(order_by: [asc: :inserted_at], preload: [:project, :user])\n    [%Collection{}, ...]","ref":"Lightning.Collections.html#list_collections/1-examples"},{"type":"function","title":"Returns - Lightning.Collections.list_collections/1","doc":"- A list of `%Collection{}` structs, preloaded and ordered as specified.","ref":"Lightning.Collections.html#list_collections/1-returns"},{"type":"function","title":"Lightning.Collections.list_project_collections/1","doc":"","ref":"Lightning.Collections.html#list_project_collections/1"},{"type":"function","title":"Lightning.Collections.put/3","doc":"","ref":"Lightning.Collections.html#put/3"},{"type":"function","title":"Lightning.Collections.put_all/2","doc":"","ref":"Lightning.Collections.html#put_all/2"},{"type":"function","title":"Lightning.Collections.update_collection/2","doc":"Updates an existing collection with the given attributes.","ref":"Lightning.Collections.html#update_collection/2"},{"type":"function","title":"Parameters - Lightning.Collections.update_collection/2","doc":"- `collection`: The existing `%Collection{}` struct to update.\n  - `attrs`: A map of attributes to update the collection.","ref":"Lightning.Collections.html#update_collection/2-parameters"},{"type":"function","title":"Examples - Lightning.Collections.update_collection/2","doc":"iex> update_collection(collection, %{name: \"Updated Name\"})\n    {:ok, %Collection{}}\n\n    iex> update_collection(collection, %{name: nil})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.Collections.html#update_collection/2-examples"},{"type":"function","title":"Returns - Lightning.Collections.update_collection/2","doc":"- `{:ok, %Collection{}}` on success.\n  - `{:error, %Ecto.Changeset{}}` on failure due to validation errors.","ref":"Lightning.Collections.html#update_collection/2-returns"},{"type":"module","title":"Lightning.Collections.Collection","doc":"Collection referenced by name associated to a project.","ref":"Lightning.Collections.Collection.html"},{"type":"type","title":"Lightning.Collections.Collection.t/0","doc":"","ref":"Lightning.Collections.Collection.html#t:t/0"},{"type":"function","title":"Lightning.Collections.Collection.form_changeset/2","doc":"","ref":"Lightning.Collections.Collection.html#form_changeset/2"},{"type":"function","title":"Lightning.Collections.Collection.validate/1","doc":"","ref":"Lightning.Collections.Collection.html#validate/1"},{"type":"module","title":"Lightning.Collections.Item","doc":"A key value entry of a collection bound to a project.","ref":"Lightning.Collections.Item.html"},{"type":"type","title":"Lightning.Collections.Item.t/0","doc":"","ref":"Lightning.Collections.Item.html#t:t/0"},{"type":"module","title":"Lightning.DashboardStats","doc":"Dashboard stats for a project and its workflows.","ref":"Lightning.DashboardStats.html"},{"type":"function","title":"Lightning.DashboardStats.aggregate_project_metrics/1","doc":"","ref":"Lightning.DashboardStats.html#aggregate_project_metrics/1"},{"type":"function","title":"Lightning.DashboardStats.filter_days_ago/2","doc":"","ref":"Lightning.DashboardStats.html#filter_days_ago/2"},{"type":"function","title":"Lightning.DashboardStats.get_workflow_stats/1","doc":"","ref":"Lightning.DashboardStats.html#get_workflow_stats/1"},{"type":"function","title":"Lightning.DashboardStats.sort_workflow_stats/3","doc":"Sorts a list of workflow statistics based on the specified field and direction.","ref":"Lightning.DashboardStats.html#sort_workflow_stats/3"},{"type":"function","title":"Parameters - Lightning.DashboardStats.sort_workflow_stats/3","doc":"* `workflow_stats` - A list of WorkflowStats structs to be sorted\n  * `sort_field` - Atom representing the field to sort by, options include:\n    * `:last_workorder_updated_at` - Sort by timestamp of the latest work order\n    * `:workorders_count` - Sort by total count of work orders\n    * `:failed_workorders_count` - Sort by count of failed work orders\n  * `sort_direction` - Atom representing sort direction, either :asc or :desc","ref":"Lightning.DashboardStats.html#sort_workflow_stats/3-parameters"},{"type":"function","title":"Returns - Lightning.DashboardStats.sort_workflow_stats/3","doc":"Sorted list of WorkflowStats structs","ref":"Lightning.DashboardStats.html#sort_workflow_stats/3-returns"},{"type":"function","title":"Examples - Lightning.DashboardStats.sort_workflow_stats/3","doc":"iex> sort_workflow_stats(workflow_stats, :workorders_count, :desc)\n    [%WorkflowStats{workorders_count: 100, ...}, %WorkflowStats{workorders_count: 50, ...}]\n\n    iex> sort_workflow_stats(workflow_stats, :last_workorder_updated_at, :asc)\n    [%WorkflowStats{last_workorder: %{updated_at: ~U[2023-01-01 00:00:00Z]}, ...}, ...]","ref":"Lightning.DashboardStats.html#sort_workflow_stats/3-examples"},{"type":"module","title":"Lightning.DashboardStats.ProjectMetrics","doc":"Aggregated metrics for a project.","ref":"Lightning.DashboardStats.ProjectMetrics.html"},{"type":"module","title":"Lightning.DashboardStats.WorkflowStats","doc":"Stats for each workflow.\n\nRuns and WorkOrders counting are grouped by state.","ref":"Lightning.DashboardStats.WorkflowStats.html"},{"type":"module","title":"Lightning.DataclipScrubber","doc":"Handles scrubbing of dataclips","ref":"Lightning.DataclipScrubber.html"},{"type":"function","title":"Lightning.DataclipScrubber.credentials_for_step/2","doc":"Returns an Ecto query for credentials (with project env) used in the same\nrun or earlier steps.\n\nUses a self-join on RunStep to leverage existing indexes.","ref":"Lightning.DataclipScrubber.html#credentials_for_step/2"},{"type":"function","title":"Lightning.DataclipScrubber.scrub_dataclip_body!/1","doc":"","ref":"Lightning.DataclipScrubber.html#scrub_dataclip_body!/1"},{"type":"function","title":"Lightning.DataclipScrubber.webhook_auth_methods_for_dataclip/1","doc":"Returns webhook auth methods for an http_request dataclip by traversing:\ndataclip -> work_order -> trigger -> webhook_auth_methods","ref":"Lightning.DataclipScrubber.html#webhook_auth_methods_for_dataclip/1"},{"type":"function","title":"Lightning.DataclipScrubber.webhook_auth_methods_for_step/1","doc":"Returns webhook auth methods for a step by traversing:\nstep -> run_step -> run -> work_order -> trigger -> webhook_auth_methods","ref":"Lightning.DataclipScrubber.html#webhook_auth_methods_for_step/1"},{"type":"module","title":"Lightning.Demo","doc":"Demo encapsulates logic for setting up a demonstration site.","ref":"Lightning.Demo.html"},{"type":"function","title":"Lightning.Demo.reset_demo/0","doc":"Deletes everything in the database including the superuser and creates a set\nof publicly available users for a demo site via a command that can be run on\nKubernetes-deployed systems.","ref":"Lightning.Demo.html#reset_demo/0"},{"type":"module","title":"Lightning.ExportUtils","doc":"Module that expose a function generating a complete and valid yaml string\nfrom a project and its workflows.","ref":"Lightning.ExportUtils.html"},{"type":"function","title":"Lightning.ExportUtils.build_yaml_tree/2","doc":"","ref":"Lightning.ExportUtils.html#build_yaml_tree/2"},{"type":"function","title":"Lightning.ExportUtils.generate_new_yaml/2","doc":"","ref":"Lightning.ExportUtils.html#generate_new_yaml/2"},{"type":"behaviour","title":"Lightning.Extensions.AccountHooking","doc":"Allows handling user creation or registration atomically without relying on async events.","ref":"Lightning.Extensions.AccountHooking.html"},{"type":"callback","title":"Lightning.Extensions.AccountHooking.handle_create_user/1","doc":"","ref":"Lightning.Extensions.AccountHooking.html#c:handle_create_user/1"},{"type":"callback","title":"Lightning.Extensions.AccountHooking.handle_register_superuser/1","doc":"","ref":"Lightning.Extensions.AccountHooking.html#c:handle_register_superuser/1"},{"type":"callback","title":"Lightning.Extensions.AccountHooking.handle_register_user/1","doc":"","ref":"Lightning.Extensions.AccountHooking.html#c:handle_register_user/1"},{"type":"module","title":"Lightning.Extensions.CollectionHook","doc":"Callbacks for additional processing on collections operations.","ref":"Lightning.Extensions.CollectionHook.html"},{"type":"behaviour","title":"Lightning.Extensions.CollectionHooking","doc":"Callbacks for additional processing on collections operations.","ref":"Lightning.Extensions.CollectionHooking.html"},{"type":"type","title":"Lightning.Extensions.CollectionHooking.limit_error/0","doc":"","ref":"Lightning.Extensions.CollectionHooking.html#t:limit_error/0"},{"type":"callback","title":"Lightning.Extensions.CollectionHooking.handle_create/1","doc":"","ref":"Lightning.Extensions.CollectionHooking.html#c:handle_create/1"},{"type":"callback","title":"Lightning.Extensions.CollectionHooking.handle_delete/2","doc":"","ref":"Lightning.Extensions.CollectionHooking.html#c:handle_delete/2"},{"type":"callback","title":"Lightning.Extensions.CollectionHooking.handle_delete_items/2","doc":"","ref":"Lightning.Extensions.CollectionHooking.html#c:handle_delete_items/2"},{"type":"callback","title":"Lightning.Extensions.CollectionHooking.handle_put_items/2","doc":"","ref":"Lightning.Extensions.CollectionHooking.html#c:handle_put_items/2"},{"type":"module","title":"Lightning.Extensions.ExternalMetrics","doc":"Placeholder that wll be replaced by another module configured to inject\nexternal metrics.","ref":"Lightning.Extensions.ExternalMetrics.html"},{"type":"function","title":"Lightning.Extensions.ExternalMetrics.plugins/0","doc":"","ref":"Lightning.Extensions.ExternalMetrics.html#plugins/0"},{"type":"function","title":"Lightning.Extensions.ExternalMetrics.seed_event_metrics/0","doc":"","ref":"Lightning.Extensions.ExternalMetrics.html#seed_event_metrics/0"},{"type":"module","title":"Lightning.Extensions.FifoRunQueue","doc":"Allows adding, removing or claiming work to be executed by the Runtime.","ref":"Lightning.Extensions.FifoRunQueue.html"},{"type":"module","title":"Lightning.Extensions.Message","doc":"Message for the limiters to communicate with the client.","ref":"Lightning.Extensions.Message.html"},{"type":"type","title":"Lightning.Extensions.Message.t/0","doc":"","ref":"Lightning.Extensions.Message.html#t:t/0"},{"type":"module","title":"Lightning.Extensions.ProjectHook","doc":"Allows handling user creation or registration atomically without relying on async events.","ref":"Lightning.Extensions.ProjectHook.html"},{"type":"function","title":"Lightning.Extensions.ProjectHook.handle_create_project/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_create_project/1 .","ref":"Lightning.Extensions.ProjectHook.html#handle_create_project/1"},{"type":"function","title":"Lightning.Extensions.ProjectHook.handle_delete_project/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_delete_project/1 .","ref":"Lightning.Extensions.ProjectHook.html#handle_delete_project/1"},{"type":"function","title":"Lightning.Extensions.ProjectHook.handle_project_validation/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_project_validation/1 .","ref":"Lightning.Extensions.ProjectHook.html#handle_project_validation/1"},{"type":"behaviour","title":"Lightning.Extensions.ProjectHooking","doc":"Allows handling project creation atomically without relying on async events.","ref":"Lightning.Extensions.ProjectHooking.html"},{"type":"callback","title":"Lightning.Extensions.ProjectHooking.handle_create_project/1","doc":"","ref":"Lightning.Extensions.ProjectHooking.html#c:handle_create_project/1"},{"type":"callback","title":"Lightning.Extensions.ProjectHooking.handle_delete_project/1","doc":"","ref":"Lightning.Extensions.ProjectHooking.html#c:handle_delete_project/1"},{"type":"callback","title":"Lightning.Extensions.ProjectHooking.handle_project_validation/1","doc":"","ref":"Lightning.Extensions.ProjectHooking.html#c:handle_project_validation/1"},{"type":"module","title":"Lightning.Extensions.RateLimiter","doc":"Rate limiting stub for Lightning.","ref":"Lightning.Extensions.RateLimiter.html"},{"type":"behaviour","title":"Lightning.Extensions.RateLimiting","doc":"Rate limiting for Lightning API endpoints.","ref":"Lightning.Extensions.RateLimiting.html"},{"type":"type","title":"Lightning.Extensions.RateLimiting.message/0","doc":"","ref":"Lightning.Extensions.RateLimiting.html#t:message/0"},{"type":"type","title":"Lightning.Extensions.RateLimiting.request_error/0","doc":"","ref":"Lightning.Extensions.RateLimiting.html#t:request_error/0"},{"type":"callback","title":"Lightning.Extensions.RateLimiting.limit_request/3","doc":"","ref":"Lightning.Extensions.RateLimiting.html#c:limit_request/3"},{"type":"module","title":"Lightning.Extensions.RateLimiting.Context","doc":"Which user is making the request for a certain project.","ref":"Lightning.Extensions.RateLimiting.Context.html"},{"type":"type","title":"Lightning.Extensions.RateLimiting.Context.t/0","doc":"","ref":"Lightning.Extensions.RateLimiting.Context.html#t:t/0"},{"type":"behaviour","title":"Lightning.Extensions.RunQueue","doc":"Extension to customize the scheduling of workloads on Lightning Runtime.","ref":"Lightning.Extensions.RunQueue.html"},{"type":"callback","title":"Lightning.Extensions.RunQueue.claim/2","doc":"","ref":"Lightning.Extensions.RunQueue.html#c:claim/2"},{"type":"callback","title":"Lightning.Extensions.RunQueue.dequeue/1","doc":"","ref":"Lightning.Extensions.RunQueue.html#c:dequeue/1"},{"type":"callback","title":"Lightning.Extensions.RunQueue.enqueue/1","doc":"","ref":"Lightning.Extensions.RunQueue.html#c:enqueue/1"},{"type":"callback","title":"Lightning.Extensions.RunQueue.enqueue_many/1","doc":"","ref":"Lightning.Extensions.RunQueue.html#c:enqueue_many/1"},{"type":"module","title":"Lightning.Extensions.UsageLimiter","doc":"Runtime limiting stub for Lightning.","ref":"Lightning.Extensions.UsageLimiter.html"},{"type":"behaviour","title":"Lightning.Extensions.UsageLimiting","doc":"Rate limiting for Lightning workloads that depends on Runtime.","ref":"Lightning.Extensions.UsageLimiting.html"},{"type":"type","title":"Lightning.Extensions.UsageLimiting.error/0","doc":"","ref":"Lightning.Extensions.UsageLimiting.html#t:error/0"},{"type":"type","title":"Lightning.Extensions.UsageLimiting.error_reason/0","doc":"","ref":"Lightning.Extensions.UsageLimiting.html#t:error_reason/0"},{"type":"type","title":"Lightning.Extensions.UsageLimiting.message/0","doc":"","ref":"Lightning.Extensions.UsageLimiting.html#t:message/0"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.check_limits/1","doc":"Checks the usage limits for a given project and user context, returning an error\nmessage if the limits are exceeded.\n\nRequires a `Context` struct containing the `project_id` and `user_id`.","ref":"Lightning.Extensions.UsageLimiting.html#c:check_limits/1"},{"type":"callback","title":"Returns - Lightning.Extensions.UsageLimiting.check_limits/1","doc":"- `{:ok}` if the limits are within bounds.\n  - `{:error, reason, message}` if the limits are exceeded.","ref":"Lightning.Extensions.UsageLimiting.html#c:check_limits/1-returns"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.get_data_retention_message/1","doc":"","ref":"Lightning.Extensions.UsageLimiting.html#c:get_data_retention_message/1"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.get_data_retention_periods/1","doc":"","ref":"Lightning.Extensions.UsageLimiting.html#c:get_data_retention_periods/1"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.get_run_options/1","doc":"Returns run options based on the given project context. The run options include\na timeout value and a flag for saving dataclips.\n\nRequires a `Context` struct containing the `project_id`.","ref":"Lightning.Extensions.UsageLimiting.html#c:get_run_options/1"},{"type":"callback","title":"Returns - Lightning.Extensions.UsageLimiting.get_run_options/1","doc":"- A keyword list of run options including:\n    - `:run_timeout_ms`: The run timeout in milliseconds.\n    - `:save_dataclips`: A boolean indicating whether to save dataclips.","ref":"Lightning.Extensions.UsageLimiting.html#c:get_run_options/1-returns"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.increment_ai_usage/2","doc":"Increments the AI query count for a given chat session.\n\nRequires a `Lightning.AiAssistant.ChatSession` struct.","ref":"Lightning.Extensions.UsageLimiting.html#c:increment_ai_usage/2"},{"type":"callback","title":"Returns - Lightning.Extensions.UsageLimiting.increment_ai_usage/2","doc":"- An Ecto.Multi struct representing the transaction to increment AI queries.","ref":"Lightning.Extensions.UsageLimiting.html#c:increment_ai_usage/2-returns"},{"type":"callback","title":"Lightning.Extensions.UsageLimiting.limit_action/2","doc":"Limits specific actions based on an `Action` and `Context`.","ref":"Lightning.Extensions.UsageLimiting.html#c:limit_action/2"},{"type":"callback","title":"Returns - Lightning.Extensions.UsageLimiting.limit_action/2","doc":"- `:ok` if the action is allowed.\n  - `{:error, reason, message}` if the action is not allowed.","ref":"Lightning.Extensions.UsageLimiting.html#c:limit_action/2-returns"},{"type":"module","title":"Lightning.FailureNotifierView","doc":"","ref":"Lightning.FailureNotifierView.html"},{"type":"function","title":"Lightning.FailureNotifierView.__resource__/0","doc":"The resource name, as an atom, for this view","ref":"Lightning.FailureNotifierView.html#__resource__/0"},{"type":"function","title":"Lightning.FailureNotifierView.failure_alert.html/1","doc":"","ref":"Lightning.FailureNotifierView.html#failure_alert.html/1"},{"type":"function","title":"Lightning.FailureNotifierView.render/2","doc":"Renders the given template locally.","ref":"Lightning.FailureNotifierView.html#render/2"},{"type":"function","title":"Lightning.FailureNotifierView.template_not_found/2","doc":"Callback invoked when no template is found.\nBy default it raises but can be customized\nto render a particular template.","ref":"Lightning.FailureNotifierView.html#template_not_found/2"},{"type":"module","title":"Lightning.Graph","doc":"A graph model for workflows transversal.","ref":"Lightning.Graph.html"},{"type":"type","title":"Lightning.Graph.t/0","doc":"","ref":"Lightning.Graph.html#t:t/0"},{"type":"function","title":"Lightning.Graph.add_edge/2","doc":"","ref":"Lightning.Graph.html#add_edge/2"},{"type":"function","title":"Lightning.Graph.new/0","doc":"","ref":"Lightning.Graph.html#new/0"},{"type":"function","title":"Lightning.Graph.nodes/2","doc":"","ref":"Lightning.Graph.html#nodes/2"},{"type":"function","title":"Lightning.Graph.prune/2","doc":"","ref":"Lightning.Graph.html#prune/2"},{"type":"function","title":"Lightning.Graph.remove_edges/2","doc":"","ref":"Lightning.Graph.html#remove_edges/2"},{"type":"function","title":"Lightning.Graph.traverse/2","doc":"","ref":"Lightning.Graph.html#traverse/2"},{"type":"module","title":"Lightning.Helpers","doc":"Common functions for the context","ref":"Lightning.Helpers.html"},{"type":"function","title":"Lightning.Helpers.actual_deletion_date/3","doc":"","ref":"Lightning.Helpers.html#actual_deletion_date/3"},{"type":"function","title":"Lightning.Helpers.coerce_json_field/2","doc":"Changes a given maps field from a json string to a map.\nIf it cannot be converted, it leaves the original value","ref":"Lightning.Helpers.html#coerce_json_field/2"},{"type":"function","title":"Lightning.Helpers.copy_error/4","doc":"Copies an error from one key to another in the given changeset.","ref":"Lightning.Helpers.html#copy_error/4"},{"type":"function","title":"Parameters - Lightning.Helpers.copy_error/4","doc":"- `changeset`: The changeset to modify.\n  - `original_key`: The key where the error currently exists.\n  - `new_key`: The key where the error should be duplicated.\n  - `opts`: A keyword list of options. Supports `overwrite`, which is a boolean indicating whether to overwrite the `new_key` error if it already exists. Defaults to `true`.","ref":"Lightning.Helpers.html#copy_error/4-parameters"},{"type":"function","title":"Example - Lightning.Helpers.copy_error/4","doc":"iex> changeset = %Ecto.Changeset{errors: [name: {\"has already been taken\", []}]}\n    iex> updated_changeset = Lightning.Helpers.copy_error(changeset, :name, :raw_name)\n    iex> updated_changeset.errors\n    [name: {\"has already been taken\", []}, raw_name: {\"has already been taken\", []}]\n\nIf the `original_key` doesn't exist in the errors, or if the `new_key` already exists and `overwrite` is set to `false`, the changeset is returned unchanged.","ref":"Lightning.Helpers.html#copy_error/4-example"},{"type":"function","title":"Lightning.Helpers.format_date/2","doc":"Formats a datetime in a user-friendly relative format (e.g., \"2 hours ago\").\nFalls back to absolute format if relative formatting fails.\n\nFor absolute formatting, you can pass a strftime formatter string.","ref":"Lightning.Helpers.html#format_date/2"},{"type":"function","title":"Lightning.Helpers.format_date_long/1","doc":"","ref":"Lightning.Helpers.html#format_date_long/1"},{"type":"function","title":"Lightning.Helpers.json_safe/1","doc":"Recursively ensures a given map is safe to convert to JSON,\nwhere all keys are strings and all values are json safe (primitive values).","ref":"Lightning.Helpers.html#json_safe/1"},{"type":"function","title":"Lightning.Helpers.ms_to_human/1","doc":"Converts milliseconds (integer) to a human duration, such as \"1 minute\" or\n\"45 years, 6 months, 5 days, 21 hours, 12 minutes, 34 seconds\" using\n`Timex.Format.Duration.Formatters.Humanized.format()`.","ref":"Lightning.Helpers.html#ms_to_human/1"},{"type":"function","title":"Lightning.Helpers.normalize_keys/1","doc":"Normalizes all map keys to strings recursively.\n\nThis function walks through a map and converts all keys to strings using `to_string/1`.\nIf a key's value is also a map, it recursively normalizes the nested map as well.\nNon-map values are returned unchanged.","ref":"Lightning.Helpers.html#normalize_keys/1"},{"type":"function","title":"Examples - Lightning.Helpers.normalize_keys/1","doc":"iex> normalize_keys(%{foo: \"bar\", baz: %{qux: 123}})\n    %{\"foo\" => \"bar\", \"baz\" => %{\"qux\" => 123}}\n\n    iex> normalize_keys(%{1 => \"one\", 2 => \"two\"})\n    %{\"1\" => \"one\", \"2\" => \"two\"}\n\n    iex> normalize_keys(\"not a map\")\n    \"not a map\"","ref":"Lightning.Helpers.html#normalize_keys/1-examples"},{"type":"function","title":"Parameters - Lightning.Helpers.normalize_keys/1","doc":"- `map`: The map whose keys should be normalized to strings\n  - `value`: Any non-map value that should be returned as-is","ref":"Lightning.Helpers.html#normalize_keys/1-parameters"},{"type":"function","title":"Returns - Lightning.Helpers.normalize_keys/1","doc":"- A new map with all keys converted to strings (for map inputs)\n  - The original value unchanged (for non-map inputs)","ref":"Lightning.Helpers.html#normalize_keys/1-returns"},{"type":"function","title":"Lightning.Helpers.url_safe_name/1","doc":"Converts a string into a URL-safe format by converting it to lowercase,\nreplacing unwanted characters with hyphens, and trimming leading/trailing hyphens.\n\nThis function allows international characters, which will be automatically\npercent-encoded in URLs by browsers.","ref":"Lightning.Helpers.html#url_safe_name/1"},{"type":"function","title":"Parameters - Lightning.Helpers.url_safe_name/1","doc":"- `name`: The string to convert. If `nil` is passed, it returns an empty string.","ref":"Lightning.Helpers.html#url_safe_name/1-parameters"},{"type":"function","title":"Examples - Lightning.Helpers.url_safe_name/1","doc":"iex> url_safe_name(\"My Project!!\")\n    \"my-project\"\n\n    iex> url_safe_name(nil)\n    \"\"","ref":"Lightning.Helpers.html#url_safe_name/1-examples"},{"type":"module","title":"Lightning.Janitor","doc":"The Janitor is responsible for detecting runs that have been \"lost\" due to\ncommunication issues with the worker.\n\nEvery X minutes the Janitor will check to ensure that no runs have been\nrunning for more than Y seconds.\n\nConfigure your maximum run runtime with a WORKER_MAX_RUN_DURATION_SECONDS environment\nvariable; the grace period will be an additional 20%.","ref":"Lightning.Janitor.html"},{"type":"function","title":"Lightning.Janitor.find_and_update_lost/0","doc":"The find_and_update_lost function determines the current time, finds all\nruns that were claimed before the earliest allowable claim time for\nunfinished runs, and marks them as lost.","ref":"Lightning.Janitor.html#find_and_update_lost/0"},{"type":"function","title":"Lightning.Janitor.perform/1","doc":"The perform function takes an `%Oban.Job`, allowing this module to be invoked\nby the Oban cron plugin.","ref":"Lightning.Janitor.html#perform/1"},{"type":"module","title":"Lightning.KafkaTriggers","doc":"Contains the logic to manage kafka trigger and their associated pipelines.","ref":"Lightning.KafkaTriggers.html"},{"type":"function","title":"Lightning.KafkaTriggers.alternate_storage_file_name/2","doc":"","ref":"Lightning.KafkaTriggers.html#alternate_storage_file_name/2"},{"type":"function","title":"Lightning.KafkaTriggers.build_topic_partition_offset/1","doc":"Generate the key that is used to identify duplicate messages when used in\nassociation with the trigger id.","ref":"Lightning.KafkaTriggers.html#build_topic_partition_offset/1"},{"type":"function","title":"Lightning.KafkaTriggers.convert_rate_limit/0","doc":"","ref":"Lightning.KafkaTriggers.html#convert_rate_limit/0"},{"type":"function","title":"Lightning.KafkaTriggers.enable_disable_triggers/1","doc":"","ref":"Lightning.KafkaTriggers.html#enable_disable_triggers/1"},{"type":"function","title":"Lightning.KafkaTriggers.failure_notification_tracking_key/1","doc":"","ref":"Lightning.KafkaTriggers.html#failure_notification_tracking_key/1"},{"type":"function","title":"Lightning.KafkaTriggers.find_enabled_triggers/0","doc":"","ref":"Lightning.KafkaTriggers.html#find_enabled_triggers/0"},{"type":"function","title":"Lightning.KafkaTriggers.generate_pipeline_child_spec/1","doc":"Generate the child spec needed to start a `Pipeline` child process.","ref":"Lightning.KafkaTriggers.html#generate_pipeline_child_spec/1"},{"type":"function","title":"Lightning.KafkaTriggers.get_kafka_triggers_being_updated/1","doc":"","ref":"Lightning.KafkaTriggers.html#get_kafka_triggers_being_updated/1"},{"type":"function","title":"Lightning.KafkaTriggers.initial_policy/1","doc":"","ref":"Lightning.KafkaTriggers.html#initial_policy/1"},{"type":"function","title":"Lightning.KafkaTriggers.maybe_write_to_alternate_storage/2","doc":"","ref":"Lightning.KafkaTriggers.html#maybe_write_to_alternate_storage/2"},{"type":"function","title":"Lightning.KafkaTriggers.notify_users_of_trigger_failure/1","doc":"","ref":"Lightning.KafkaTriggers.html#notify_users_of_trigger_failure/1"},{"type":"function","title":"Lightning.KafkaTriggers.send_notification?/2","doc":"","ref":"Lightning.KafkaTriggers.html#send_notification?/2"},{"type":"function","title":"Lightning.KafkaTriggers.start_triggers/0","doc":"","ref":"Lightning.KafkaTriggers.html#start_triggers/0"},{"type":"function","title":"Lightning.KafkaTriggers.update_pipeline/2","doc":"","ref":"Lightning.KafkaTriggers.html#update_pipeline/2"},{"type":"module","title":"Lightning.KafkaTriggers.DuplicateTrackingCleanupWorker","doc":"Responsible for cleaning up stale TriggerKafkaMessageRecords entries.\nTriggerKafkaMessageRecords are used to deduplicate incoming messages from\na Kafka cluster.","ref":"Lightning.KafkaTriggers.DuplicateTrackingCleanupWorker.html"},{"type":"module","title":"Lightning.KafkaTriggers.EventListener","doc":"Listens for events related to Kafka triggers and updates the affected pipeline\nprocess by enabling, reloading or disabling it.","ref":"Lightning.KafkaTriggers.EventListener.html"},{"type":"function","title":"Lightning.KafkaTriggers.EventListener.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.KafkaTriggers.EventListener.html#child_spec/1"},{"type":"function","title":"Lightning.KafkaTriggers.EventListener.start_link/1","doc":"","ref":"Lightning.KafkaTriggers.EventListener.html#start_link/1"},{"type":"module","title":"Lightning.KafkaTriggers.MessageHandling","doc":"Contains the logic to persist a Kafka messages as a WorkOrder, Run and\nDataclip.","ref":"Lightning.KafkaTriggers.MessageHandling.html"},{"type":"function","title":"Lightning.KafkaTriggers.MessageHandling.convert_headers_for_serialisation/1","doc":"","ref":"Lightning.KafkaTriggers.MessageHandling.html#convert_headers_for_serialisation/1"},{"type":"function","title":"Lightning.KafkaTriggers.MessageHandling.persist_message/3","doc":"","ref":"Lightning.KafkaTriggers.MessageHandling.html#persist_message/3"},{"type":"module","title":"Lightning.KafkaTriggers.MessageRecovery","doc":"This module contains functionality to recover Kafka messages that have been\npersisted to the file system. It should only be used to process files that\noriginate from a trusted source (i.e. Lightning's Kafka pipeline.)\n\nIt expects to be pointed at a directory structure that looks as follows:\n\nbase_path\n|_  \n  |_  _ _ _ .json\n  |_  _ _ _ .json\n|_  \n\nThis is the structure that the Kafka pipeline will use when writing the\nmessages to the file system. After each message is successfully processed,\nthe file extension will be changed from `.json` to `json.recovered`. Recovered\nfiles will not be processed again. They are retained for the purposes of \ndouble-checking the recovery process and can be deleted once this has been\ndone.\n\nIf a file has not had the extension changed, this means that it experienced\nan error during reprocessing. These files can be reprocessed if you think the\nerror was transient. \n\nUsage: \n\n  alias Lightning.KafkaTriggers.MessageRecovery\n  case MessageRecovery.recover_messages(Lightning.Config.kafka_alternate_storage_file_path) do\n    :ok -> # Success code\n    {:error, error_count} -> # Failure code\n  end","ref":"Lightning.KafkaTriggers.MessageRecovery.html"},{"type":"function","title":"Lightning.KafkaTriggers.MessageRecovery.build_broadway_message/2","doc":"","ref":"Lightning.KafkaTriggers.MessageRecovery.html#build_broadway_message/2"},{"type":"function","title":"Lightning.KafkaTriggers.MessageRecovery.extract_trigger_id/1","doc":"","ref":"Lightning.KafkaTriggers.MessageRecovery.html#extract_trigger_id/1"},{"type":"function","title":"Lightning.KafkaTriggers.MessageRecovery.recover_messages/1","doc":"","ref":"Lightning.KafkaTriggers.MessageRecovery.html#recover_messages/1"},{"type":"module","title":"Lightning.KafkaTriggers.Pipeline","doc":"Broadway pipeline that processes messages from Kafka clusters and persists\nthe received messages if they are not duplicating a previous message.","ref":"Lightning.KafkaTriggers.Pipeline.html"},{"type":"function","title":"Lightning.KafkaTriggers.Pipeline.maybe_notify_users/2","doc":"","ref":"Lightning.KafkaTriggers.Pipeline.html#maybe_notify_users/2"},{"type":"function","title":"Lightning.KafkaTriggers.Pipeline.start_link/1","doc":"","ref":"Lightning.KafkaTriggers.Pipeline.html#start_link/1"},{"type":"module","title":"Lightning.KafkaTriggers.PipelineSupervisor","doc":"Supervisor of the BroadwayKafka pipelines that are created for each enabled\nKafka trigger.","ref":"Lightning.KafkaTriggers.PipelineSupervisor.html"},{"type":"function","title":"Lightning.KafkaTriggers.PipelineSupervisor.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.KafkaTriggers.PipelineSupervisor.html#child_spec/1"},{"type":"function","title":"Lightning.KafkaTriggers.PipelineSupervisor.start_link/1","doc":"","ref":"Lightning.KafkaTriggers.PipelineSupervisor.html#start_link/1"},{"type":"module","title":"Lightning.KafkaTriggers.Supervisor","doc":"Starts all the processes needed to pull data from Kafka clusters and then\ngenerate work orders based on the messages received.","ref":"Lightning.KafkaTriggers.Supervisor.html"},{"type":"function","title":"Lightning.KafkaTriggers.Supervisor.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.KafkaTriggers.Supervisor.html#child_spec/1"},{"type":"function","title":"Lightning.KafkaTriggers.Supervisor.start_link/1","doc":"","ref":"Lightning.KafkaTriggers.Supervisor.html#start_link/1"},{"type":"module","title":"Lightning.KafkaTriggers.TriggerKafkaMessageRecord","doc":"Persists a lightweight represenattion of a message that has been recevied from\na Kafka cluster, for the purpose of deduplication.","ref":"Lightning.KafkaTriggers.TriggerKafkaMessageRecord.html"},{"type":"function","title":"Lightning.KafkaTriggers.TriggerKafkaMessageRecord.changeset/2","doc":"","ref":"Lightning.KafkaTriggers.TriggerKafkaMessageRecord.html#changeset/2"},{"type":"module","title":"Lightning.MetadataService","doc":"Retrieves metadata for a given credential and adaptor using the OpenFn CLI.","ref":"Lightning.MetadataService.html"},{"type":"function","title":"Lightning.MetadataService.fetch/3","doc":"Retrieve metadata for a given adaptor and credential.\n\nThe adaptor must be an npm specification.","ref":"Lightning.MetadataService.html#fetch/3"},{"type":"function","title":"Parameters - Lightning.MetadataService.fetch/3","doc":"- `adaptor`: The adaptor npm specification (e.g., \"@openfn/language-http\")\n  - `credential`: The credential struct\n  - `environment`: The environment name (defaults to \"main\")","ref":"Lightning.MetadataService.html#fetch/3-parameters"},{"type":"function","title":"Returns - Lightning.MetadataService.fetch/3","doc":"- `{:ok, metadata}` - The metadata as a map\n  - `{:error, Error.t()}` - An error if metadata cannot be fetched","ref":"Lightning.MetadataService.html#fetch/3-returns"},{"type":"exception","title":"Lightning.MetadataService.Error","doc":"","ref":"Lightning.MetadataService.Error.html"},{"type":"type","title":"Lightning.MetadataService.Error.t/0","doc":"","ref":"Lightning.MetadataService.Error.html#t:t/0"},{"type":"function","title":"Lightning.MetadataService.Error.message/1","doc":"Callback implementation for  Exception.message/1 .","ref":"Lightning.MetadataService.Error.html#message/1"},{"type":"function","title":"Lightning.MetadataService.Error.new/1","doc":"","ref":"Lightning.MetadataService.Error.html#new/1"},{"type":"module","title":"Lightning.Name","doc":"Generates a random names.","ref":"Lightning.Name.html"},{"type":"function","title":"Lightning.Name.generate/1","doc":"","ref":"Lightning.Name.html#generate/1"},{"type":"module","title":"Lightning.OauthClients","doc":"Manages operations for OAuth clients within the Lightning application, providing\nfunctions to create, retrieve, update, and delete OAuth clients, as well as managing\ntheir associations with projects and handling audit trails for changes.","ref":"Lightning.OauthClients.html"},{"type":"function","title":"Lightning.OauthClients.change_client/2","doc":"Prepares a changeset for creating or updating an OAuth client.","ref":"Lightning.OauthClients.html#change_client/2"},{"type":"function","title":"Parameters - Lightning.OauthClients.change_client/2","doc":"- client: The OAuth client struct.\n  - attrs: Attributes to update in the client.","ref":"Lightning.OauthClients.html#change_client/2-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.change_client/2","doc":"- An Ecto.Changeset struct for the OAuth client.","ref":"Lightning.OauthClients.html#change_client/2-returns"},{"type":"function","title":"Examples - Lightning.OauthClients.change_client/2","doc":"iex> change_client(%OauthClient{}, %{name: \"New Client\"})\n    %Ecto.Changeset{...}","ref":"Lightning.OauthClients.html#change_client/2-examples"},{"type":"function","title":"Lightning.OauthClients.create_client/1","doc":"Creates a new OAuth client with the specified attributes.","ref":"Lightning.OauthClients.html#create_client/1"},{"type":"function","title":"Parameters - Lightning.OauthClients.create_client/1","doc":"- attrs: Map containing attributes for the new OAuth client.\n    Required fields: `name`, `authorization_endpoint`, `token_endpoint`, `revocation_endpoint`, `client_id`, `client_secret`.","ref":"Lightning.OauthClients.html#create_client/1-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.create_client/1","doc":"- `{:ok, oauth_client}` if the client is created successfully.\n  - `{:error, changeset}` if there is an error during creation due to validation failures or database issues.","ref":"Lightning.OauthClients.html#create_client/1-returns"},{"type":"function","title":"Examples - Lightning.OauthClients.create_client/1","doc":"iex> create_client(%{name: \"New Client\"})\n  {:ok, %OauthClient{}}\n\n  iex> create_client(%{name: nil})\n  {:error, %Ecto.Changeset{}}","ref":"Lightning.OauthClients.html#create_client/1-examples"},{"type":"function","title":"Lightning.OauthClients.delete_client/1","doc":"Deletes an OAuth client and all associated data.","ref":"Lightning.OauthClients.html#delete_client/1"},{"type":"function","title":"Parameters - Lightning.OauthClients.delete_client/1","doc":"- client: The OauthClient to delete.","ref":"Lightning.OauthClients.html#delete_client/1-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.delete_client/1","doc":"- A tuple {:ok, oauth_client} if deletion is successful.\n- A tuple {:error, changeset} if deletion fails.","ref":"Lightning.OauthClients.html#delete_client/1-returns"},{"type":"function","title":"Examples - Lightning.OauthClients.delete_client/1","doc":"iex> delete_client(client)\n    {:ok, %OauthClient{}}\n\n    iex> delete_client(client)\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.OauthClients.html#delete_client/1-examples"},{"type":"function","title":"Lightning.OauthClients.get_client!/1","doc":"Retrieves a single OAuth client by its ID, raising an error if not found.","ref":"Lightning.OauthClients.html#get_client!/1"},{"type":"function","title":"Parameters - Lightning.OauthClients.get_client!/1","doc":"- id: The ID of the OAuth client to retrieve.","ref":"Lightning.OauthClients.html#get_client!/1-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.get_client!/1","doc":"- The OAuth client struct.","ref":"Lightning.OauthClients.html#get_client!/1-returns"},{"type":"function","title":"Raises - Lightning.OauthClients.get_client!/1","doc":"- Ecto.NoResultsError if the OAuth client does not exist.","ref":"Lightning.OauthClients.html#get_client!/1-raises"},{"type":"function","title":"Examples - Lightning.OauthClients.get_client!/1","doc":"iex> get_client!(123)\n    %OauthClient{}\n\n    iex> get_client!(456)\n    ** (Ecto.NoResultsError)","ref":"Lightning.OauthClients.html#get_client!/1-examples"},{"type":"function","title":"Lightning.OauthClients.list_clients/1","doc":"Retrieves all OAuth clients based on the given context, either a Project or a User.","ref":"Lightning.OauthClients.html#list_clients/1"},{"type":"function","title":"Parameters - Lightning.OauthClients.list_clients/1","doc":"- context: The Project or User struct to retrieve OAuth clients for.","ref":"Lightning.OauthClients.html#list_clients/1-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.list_clients/1","doc":"- A list of OAuth clients associated with the given Project or created by the given User.","ref":"Lightning.OauthClients.html#list_clients/1-returns"},{"type":"function","title":"Examples - Lightning.OauthClients.list_clients/1","doc":"When given a Project:\n    iex> list_clients(%Project{id: 1})\n    [%OauthClient{project_id: 1}, %OauthClient{project_id: 1}]\n\n  When given a User:\n    iex> list_clients(%User{id: 123})\n    [%OauthClient{user_id: 123}, %OauthClient{user_id: 123}]","ref":"Lightning.OauthClients.html#list_clients/1-examples"},{"type":"function","title":"Lightning.OauthClients.update_client/2","doc":"Updates an existing OAuth client with the specified attributes.","ref":"Lightning.OauthClients.html#update_client/2"},{"type":"function","title":"Parameters - Lightning.OauthClients.update_client/2","doc":"- client: The existing OauthClient to update.\n- attrs: A map of attributes to update.","ref":"Lightning.OauthClients.html#update_client/2-parameters"},{"type":"function","title":"Returns - Lightning.OauthClients.update_client/2","doc":"- A tuple {:ok, oauth_client} if update is successful.\n- A tuple {:error, changeset} if update fails.","ref":"Lightning.OauthClients.html#update_client/2-returns"},{"type":"function","title":"Examples - Lightning.OauthClients.update_client/2","doc":"iex> update_client(client, %{field: new_value})\n    {:ok, %OauthClient{}}\n\n    iex> update_client(client, %{field: bad_value})\n    {:error, %Ecto.Changeset{}}","ref":"Lightning.OauthClients.html#update_client/2-examples"},{"type":"module","title":"Lightning.ObanManager","doc":"The Oban Manager","ref":"Lightning.ObanManager.html"},{"type":"function","title":"Lightning.ObanManager.handle_event/4","doc":"","ref":"Lightning.ObanManager.html#handle_event/4"},{"type":"module","title":"Lightning.Policies.Collections","doc":"The Bodyguard Policy module for Collections.\n\nAccess to collections is controlled by the project the collection belongs to.\n\nThe `access_collection` action is allowed if the user has access to the\nproject, or if a run belongs to the project (via it's workflow).","ref":"Lightning.Policies.Collections.html"},{"type":"type","title":"Lightning.Policies.Collections.actions/0","doc":"","ref":"Lightning.Policies.Collections.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Collections.authorize/3","doc":"Callback implementation for  Bodyguard.Policy.authorize/3 .","ref":"Lightning.Policies.Collections.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Credentials","doc":"The Bodyguard Policy module for authorizing credential actions.","ref":"Lightning.Policies.Credentials.html"},{"type":"type","title":"Lightning.Policies.Credentials.actions/0","doc":"","ref":"Lightning.Policies.Credentials.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Credentials.authorize/3","doc":"Authorize credential actions based on the user's project role.\n\nFor KeychainCredential resources, users must have owner or admin role\nin the associated project.","ref":"Lightning.Policies.Credentials.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Dataclips","doc":"The Bodyguard Policy module for dataclips actions","ref":"Lightning.Policies.Dataclips.html"},{"type":"type","title":"Lightning.Policies.Dataclips.actions/0","doc":"","ref":"Lightning.Policies.Dataclips.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Dataclips.authorize/3","doc":"Callback implementation for  Bodyguard.Policy.authorize/3 .","ref":"Lightning.Policies.Dataclips.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Exports","doc":"The Bodyguard Policy module for Exports","ref":"Lightning.Policies.Exports.html"},{"type":"type","title":"Lightning.Policies.Exports.actions/0","doc":"","ref":"Lightning.Policies.Exports.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Exports.authorize/3","doc":"Callback implementation for  Bodyguard.Policy.authorize/3 .","ref":"Lightning.Policies.Exports.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Permissions","doc":"This module defines a unique interface managing authorizations in Lightning.\n\nUsers in Lightning have instance-wide and project-wide roles which determine \ntheir level of access to resources in the application. For more details see \nthe [documentation](https://docs.openfn.org/documentation/about-lightning#roles-and-permissions).","ref":"Lightning.Policies.Permissions.html"},{"type":"module","title":"Policy Modules - Lightning.Policies.Permissions","doc":"Authorization policies are implemented under `lib/lightning/policies/`:\n- `users.ex` - Instance-wide access levels\n- `project_users.ex` - Project-wide access levels  \n- `credentials.ex` - Credential management permissions\n- `workflows.ex` - Workflow-related permissions\n- `collections.ex` - Collection access permissions\n- `dataclips.ex` - Dataclip permissions\n- `exports.ex` - Export functionality permissions\n- `provisioning.ex` - Resource provisioning permissions","ref":"Lightning.Policies.Permissions.html#module-policy-modules"},{"type":"module","title":"Interface - Lightning.Policies.Permissions","doc":"This module provides the `can/4` and `can?/4` interface, which wraps \n`Bodyguard.permit/4` to harmonize policy usage across the application.\n\n**Policy Resolution**: You can reference policy modules in two ways:\n- Full module names: `Lightning.Policies.Users`\n- Atom shortcuts for sub-modules: `:users`, `:project_users`, `:credentials`","ref":"Lightning.Policies.Permissions.html#module-interface"},{"type":"module","title":"Functions - Lightning.Policies.Permissions","doc":"- `can(policy, action, actor, resource)` - Returns `:ok` or `{:error, :unauthorized}`\n- `can?(policy, action, actor, resource)` - Returns `true` or `false`","ref":"Lightning.Policies.Permissions.html#module-functions"},{"type":"module","title":"Examples - Lightning.Policies.Permissions","doc":"**Using full module names:**\n```elixir\ncan_edit = Lightning.Policies.ProjectUsers \n           |> Lightning.Policies.Permissions.can?(:edit_workflow, user, project)\n```\n\n**Using atom shortcuts:**\n```elixir  \ncan_create = Permissions.can?(:credentials, :create_keychain_credential, project_user)\ncan_delete = Permissions.can?(:project_users, :delete_project, user, project)\n```\n\nAll policies are comprehensively tested in `test/lightning/policies/`.","ref":"Lightning.Policies.Permissions.html#module-examples"},{"type":"function","title":"Lightning.Policies.Permissions.can/4","doc":"checks if user has the permissions to apply action using some policy module\n\nReturns `:ok` if user can apply action and `{:error, :unauthorized}` otherwise","ref":"Lightning.Policies.Permissions.html#can/4"},{"type":"function","title":"Examples - Lightning.Policies.Permissions.can/4","doc":"iex> can(Lightning.Policies.Users, :create_workflow, user, project)\n    :ok\n\n    iex> can(Lightning.Policies.Users, :create_project, user, %{})\n    {:error, :unauthorized}","ref":"Lightning.Policies.Permissions.html#can/4-examples"},{"type":"function","title":"Lightning.Policies.Permissions.can?/4","doc":"same as can/4 but returns `true` if user can apply action and `false` otherwise","ref":"Lightning.Policies.Permissions.html#can?/4"},{"type":"function","title":"Examples - Lightning.Policies.Permissions.can?/4","doc":"iex> can(Lightning.Policies.Users, :create_workflow, user, project)\n    true\n\n    iex> can(Lightning.Policies.Users, :create_project, user, %{})\n    false","ref":"Lightning.Policies.Permissions.html#can?/4-examples"},{"type":"module","title":"Lightning.Policies.ProjectUsers","doc":"The Bodyguard Policy module for projects members roles.","ref":"Lightning.Policies.ProjectUsers.html"},{"type":"type","title":"Lightning.Policies.ProjectUsers.actions/0","doc":"","ref":"Lightning.Policies.ProjectUsers.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.ProjectUsers.allow_as_support_user?/2","doc":"","ref":"Lightning.Policies.ProjectUsers.html#allow_as_support_user?/2"},{"type":"function","title":"Lightning.Policies.ProjectUsers.authorize/3","doc":"authorize/3 takes an action, a user, and a project. It checks the user's role\nfor this project and returns `true` if the user can perform the action in\nthat project and `false` if they cannot.\n\nNote that permissions are grouped by action, rather than by user role.\n\nWe deny by default, so if a user's role is not added to the allow roles list\nfor a particular action they are denied.","ref":"Lightning.Policies.ProjectUsers.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Provisioning","doc":"The Bodyguard Policy module for users roles.","ref":"Lightning.Policies.Provisioning.html"},{"type":"type","title":"Lightning.Policies.Provisioning.actions/0","doc":"","ref":"Lightning.Policies.Provisioning.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Provisioning.authorize/3","doc":"authorize/3 takes an action, a user or a project repo connection, and a project. It checks the user's role\nfor this project and returns `true` if the user can perform the action and\nfalse if they cannot.\n\nNote that permissions are grouped by action.\n\nWe deny by default, so if a user's role is not added to the allow roles list\nfor a particular action they are denied.\n\nOnly a superuser can provision a new project.\n\nOwners and admins can update existing projects.","ref":"Lightning.Policies.Provisioning.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Sandboxes","doc":"The Bodyguard Policy module for sandbox project operations.\n\nSandboxes have different authorization rules than regular projects:\n- Sandbox owners/admins can manage their own sandboxes\n- Root project owners/admins can manage any sandbox in their workspace\n- Superusers can manage any sandbox anywhere","ref":"Lightning.Policies.Sandboxes.html"},{"type":"type","title":"Lightning.Policies.Sandboxes.actions/0","doc":"","ref":"Lightning.Policies.Sandboxes.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Sandboxes.authorize/3","doc":"Authorize sandbox operations based on user role and project hierarchy.","ref":"Lightning.Policies.Sandboxes.html#authorize/3"},{"type":"function","title":"Authorization Rules - Lightning.Policies.Sandboxes.authorize/3","doc":"### `:delete_sandbox` and `:update_sandbox`\nUser can perform these actions if they are:\n- Superuser (can manage any sandbox)\n- Owner/admin of the sandbox itself\n- Owner/admin of the root project (workspace)\n\n### `:provision_sandbox`\nUser can create sandboxes if they are:\n- Owner/admin of the parent project they're creating the sandbox under","ref":"Lightning.Policies.Sandboxes.html#authorize/3-authorization-rules"},{"type":"function","title":"Parameters - Lightning.Policies.Sandboxes.authorize/3","doc":"- `action` - The action being attempted\n- `user` - The user attempting the action\n- `project` - The sandbox project (for delete/update) or parent project (for provision)","ref":"Lightning.Policies.Sandboxes.html#authorize/3-parameters"},{"type":"function","title":"Lightning.Policies.Sandboxes.check_manage_permissions/3","doc":"Bulk permission check for multiple sandboxes to avoid N+1 queries.\n\nReturns a map: sandbox_id => %{update: boolean, delete: boolean, merge: boolean}\n\nAssumes `root_project.project_users` and each `sandbox.project_users`\nare preloaded (as ensured by `Projects.list_workspace_projects/2`).","ref":"Lightning.Policies.Sandboxes.html#check_manage_permissions/3"},{"type":"module","title":"Lightning.Policies.Users","doc":"The Bodyguard Policy module for users roles.","ref":"Lightning.Policies.Users.html"},{"type":"type","title":"Lightning.Policies.Users.actions/0","doc":"","ref":"Lightning.Policies.Users.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Users.authorize/3","doc":"Callback implementation for  Bodyguard.Policy.authorize/3 .","ref":"Lightning.Policies.Users.html#authorize/3"},{"type":"module","title":"Lightning.Policies.Workflows","doc":"The Bodyguard Policy module for Workflows API.","ref":"Lightning.Policies.Workflows.html"},{"type":"type","title":"Lightning.Policies.Workflows.actions/0","doc":"","ref":"Lightning.Policies.Workflows.html#t:actions/0"},{"type":"function","title":"Lightning.Policies.Workflows.authorize/3","doc":"Callback implementation for  Bodyguard.Policy.authorize/3 .","ref":"Lightning.Policies.Workflows.html#authorize/3"},{"type":"module","title":"Lightning.PromEx","doc":"Be sure to add the following to finish setting up PromEx:\n\n1. Update your configuration (config.exs, dev.exs, prod.exs, releases.exs, etc) to\n   configure the necessary bit of PromEx. Be sure to check out `PromEx.Config` for\n   more details regarding configuring PromEx:\n   ```\n   config :lightning, Lightning.PromEx,\n     disabled: false,\n     manual_metrics_start_delay: :no_delay,\n     drop_metrics_groups: [],\n     grafana: :disabled,\n     metrics_server: :disabled\n   ```\n\n2. Add this module to your application supervision tree. It should be one of the first\n   things that is started so that no Telemetry events are missed. For example, if PromEx\n   is started after your Repo module, you will miss Ecto's init events and the dashboards\n   will be missing some data points:\n   ```\n   def start(_type, _args) do\n     children = [\n       Lightning.PromEx,\n\n       ...\n     ]\n\n     ...\n   end\n   ```\n\n3. Update your `endpoint.ex` file to expose your metrics (or configure a standalone\n   server using the `:metrics_server` config options). Be sure to put this plug before\n   your `Plug.Telemetry` entry so that you can avoid having calls to your `/metrics`\n   endpoint create their own metrics and logs which can pollute your logs/metrics given\n   that Prometheus will scrape at a regular interval and that can get noisy:\n   ```\n   defmodule LightningWeb.Endpoint do\n     use Phoenix.Endpoint, otp_app: :lightning\n\n     ...\n\n     plug PromEx.Plug, prom_ex_module: Lightning.PromEx\n\n     ...\n   end\n   ```\n\n4. Update the list of plugins in the `plugins/0` function return list to reflect your\n   application's dependencies. Also update the list of dashboards that are to be uploaded\n   to Grafana in the `dashboards/0` function.","ref":"Lightning.PromEx.html"},{"type":"function","title":"Lightning.PromEx.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.PromEx.html#child_spec/1"},{"type":"function","title":"Lightning.PromEx.seed_event_metrics/0","doc":"","ref":"Lightning.PromEx.html#seed_event_metrics/0"},{"type":"module","title":"Lightning.PromExTestPlugin","doc":"A PromEx plugin that contains metrics that can be used to test\ninfrastructure integration.","ref":"Lightning.PromExTestPlugin.html"},{"type":"function","title":"Lightning.PromExTestPlugin.fire_counter_event/0","doc":"","ref":"Lightning.PromExTestPlugin.html#fire_counter_event/0"},{"type":"function","title":"Lightning.PromExTestPlugin.fire_gauge_event/1","doc":"","ref":"Lightning.PromExTestPlugin.html#fire_gauge_event/1"},{"type":"function","title":"Lightning.PromExTestPlugin.seed_event_metrics/0","doc":"","ref":"Lightning.PromExTestPlugin.html#seed_event_metrics/0"},{"type":"module","title":"Lightning.Release","doc":"Used for executing DB release tasks when run in production without Mix\ninstalled.","ref":"Lightning.Release.html"},{"type":"function","title":"Lightning.Release.create_db/0","doc":"","ref":"Lightning.Release.html#create_db/0"},{"type":"function","title":"Lightning.Release.load_app/0","doc":"","ref":"Lightning.Release.html#load_app/0"},{"type":"function","title":"Lightning.Release.migrate/0","doc":"","ref":"Lightning.Release.html#migrate/0"},{"type":"function","title":"Lightning.Release.rollback/2","doc":"","ref":"Lightning.Release.html#rollback/2"},{"type":"module","title":"Lightning.Repo","doc":"","ref":"Lightning.Repo.html"},{"type":"function","title":"Lightning.Repo.aggregate/3","doc":"Callback implementation for  Ecto.Repo.aggregate/3 .","ref":"Lightning.Repo.html#aggregate/3"},{"type":"function","title":"Lightning.Repo.aggregate/4","doc":"Callback implementation for  Ecto.Repo.aggregate/4 .","ref":"Lightning.Repo.html#aggregate/4"},{"type":"function","title":"Lightning.Repo.all/2","doc":"Callback implementation for  Ecto.Repo.all/2 .","ref":"Lightning.Repo.html#all/2"},{"type":"function","title":"Lightning.Repo.all_by/3","doc":"Callback implementation for  Ecto.Repo.all_by/3 .","ref":"Lightning.Repo.html#all_by/3"},{"type":"function","title":"Lightning.Repo.checked_out?/0","doc":"Callback implementation for  Ecto.Repo.checked_out?/0 .","ref":"Lightning.Repo.html#checked_out?/0"},{"type":"function","title":"Lightning.Repo.checkout/2","doc":"Callback implementation for  Ecto.Repo.checkout/2 .","ref":"Lightning.Repo.html#checkout/2"},{"type":"function","title":"Lightning.Repo.child_spec/1","doc":"","ref":"Lightning.Repo.html#child_spec/1"},{"type":"function","title":"Lightning.Repo.config/0","doc":"Callback implementation for  Ecto.Repo.config/0 .","ref":"Lightning.Repo.html#config/0"},{"type":"function","title":"Lightning.Repo.default_options/1","doc":"Callback implementation for  Ecto.Repo.default_options/1 .","ref":"Lightning.Repo.html#default_options/1"},{"type":"function","title":"Lightning.Repo.delete/2","doc":"Callback implementation for  Ecto.Repo.delete/2 .","ref":"Lightning.Repo.html#delete/2"},{"type":"function","title":"Lightning.Repo.delete!/2","doc":"Callback implementation for  Ecto.Repo.delete!/2 .","ref":"Lightning.Repo.html#delete!/2"},{"type":"function","title":"Lightning.Repo.delete_all/2","doc":"Callback implementation for  Ecto.Repo.delete_all/2 .","ref":"Lightning.Repo.html#delete_all/2"},{"type":"function","title":"Lightning.Repo.disconnect_all/2","doc":"Forces all connections in the repo pool to disconnect within the given interval.\n\nOnce this function is called, the pool will disconnect all of its connections\nas they are checked in or as they are pinged. Checked in connections will be\nrandomly disconnected within the given time interval. Pinged connections are\nimmediately disconnected - as they are idle (according to `:idle_interval`).\n\nIf the connection has a backoff configured (which is the case by default),\ndisconnecting means an attempt at a new connection will be done immediately\nafter, without starting a new process for each connection. However, if backoff\nhas been disabled, the connection process will terminate. In such cases,\ndisconnecting all connections may cause the pool supervisor to restart\ndepending on the max_restarts/max_seconds configuration of the pool,\nso you will want to set those carefully.","ref":"Lightning.Repo.html#disconnect_all/2"},{"type":"function","title":"Lightning.Repo.exists?/2","doc":"Callback implementation for  Ecto.Repo.exists?/2 .","ref":"Lightning.Repo.html#exists?/2"},{"type":"function","title":"Lightning.Repo.explain/3","doc":"Executes an EXPLAIN statement or similar for the given query according to its kind and the\nadapter in the given repository.","ref":"Lightning.Repo.html#explain/3"},{"type":"function","title":"Examples - Lightning.Repo.explain/3","doc":"# Postgres\n    iex> MyRepo.explain(:all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    iex> Ecto.Adapters.SQL.explain(Repo, :all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    # MySQL\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\")) |> IO.puts()\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    |  1 | SIMPLE      | p0    | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    1 |    100.0 | Using where |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n\n    # Shared opts\n    iex> MyRepo.explain(:all, Post, analyze: true, timeout: 20_000)\n    \"Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=443) (actual time=0.013..0.013 rows=0 loops=1)\\nPlanning Time: 0.031 ms\\nExecution Time: 0.021 ms\"\n\nIt's safe to execute it for updates and deletes, no data change will be committed:\n\n    iex> MyRepo.explain(Repo, :update_all, from(p in Post, update: [set: [title: \"new title\"]]))\n    \"Update on posts p0  (cost=0.00..11.70 rows=170 width=449)\\n  ->  Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=449)\"\n\nThis function is also available under the repository with name `explain`:\n\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\"))\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\\n  Filter: ((title)::text = 'title'::text)\"","ref":"Lightning.Repo.html#explain/3-examples"},{"type":"function","title":"Options - Lightning.Repo.explain/3","doc":"Built-in adapters support passing `opts` to the EXPLAIN statement according to the following:\n\nAdapter          | Supported opts\n---------------- | --------------\nPostgrex         | `analyze`, `verbose`, `costs`, `settings`, `buffers`, `timing`, `summary`, `format`, `plan`\nMyXQL            | `format`\n\nAll options except `format` are boolean valued and default to `false`.\n\nThe allowed `format` values are `:map`, `:yaml`, and `:text`:\n  * `:map` is the deserialized JSON encoding.\n  * `:yaml` and `:text` return the result as a string.\n\nThe built-in adapters support the following formats:\n  * Postgrex: `:map`, `:yaml` and `:text`\n  * MyXQL: `:map` and `:text`\n\nThe `:plan` option in Postgrex can take the values `:custom` or `:fallback_generic`. When `:custom`\nis specified, the explain plan generated will consider the specific values of the query parameters\nthat are supplied. When using `:fallback_generic`, the specific values of the query parameters will\nbe ignored. `:fallback_generic` does not use PostgreSQL's built-in support for a generic explain\nplan (available as of PostgreSQL 16), but instead uses a special implementation that works for PostgreSQL\nversions 12 and above. Defaults to `:custom`.\n\nAny other value passed to `opts` will be forwarded to the underlying adapter query function, including\nshared Repo options such as `:timeout`. Non built-in adapters may have specific behaviour and you should\nconsult their documentation for more details.\n\nFor version compatibility, please check your database's documentation:\n\n  * _Postgrex_: [PostgreSQL doc](https://www.postgresql.org/docs/current/sql-explain.html).\n  * _MyXQL_: [MySQL doc](https://dev.mysql.com/doc/refman/8.0/en/explain.html).","ref":"Lightning.Repo.html#explain/3-options"},{"type":"function","title":"Lightning.Repo.get/3","doc":"Callback implementation for  Ecto.Repo.get/3 .","ref":"Lightning.Repo.html#get/3"},{"type":"function","title":"Lightning.Repo.get!/3","doc":"Callback implementation for  Ecto.Repo.get!/3 .","ref":"Lightning.Repo.html#get!/3"},{"type":"function","title":"Lightning.Repo.get_by/3","doc":"Callback implementation for  Ecto.Repo.get_by/3 .","ref":"Lightning.Repo.html#get_by/3"},{"type":"function","title":"Lightning.Repo.get_by!/3","doc":"Callback implementation for  Ecto.Repo.get_by!/3 .","ref":"Lightning.Repo.html#get_by!/3"},{"type":"function","title":"Lightning.Repo.get_dynamic_repo/0","doc":"Callback implementation for  Ecto.Repo.get_dynamic_repo/0 .","ref":"Lightning.Repo.html#get_dynamic_repo/0"},{"type":"function","title":"Lightning.Repo.in_transaction?/0","doc":"Callback implementation for  Ecto.Repo.in_transaction?/0 .","ref":"Lightning.Repo.html#in_transaction?/0"},{"type":"function","title":"Lightning.Repo.insert/2","doc":"Callback implementation for  Ecto.Repo.insert/2 .","ref":"Lightning.Repo.html#insert/2"},{"type":"function","title":"Lightning.Repo.insert!/2","doc":"Callback implementation for  Ecto.Repo.insert!/2 .","ref":"Lightning.Repo.html#insert!/2"},{"type":"function","title":"Lightning.Repo.insert_all/3","doc":"Callback implementation for  Ecto.Repo.insert_all/3 .","ref":"Lightning.Repo.html#insert_all/3"},{"type":"function","title":"Lightning.Repo.insert_or_update/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update/2 .","ref":"Lightning.Repo.html#insert_or_update/2"},{"type":"function","title":"Lightning.Repo.insert_or_update!/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update!/2 .","ref":"Lightning.Repo.html#insert_or_update!/2"},{"type":"function","title":"Lightning.Repo.load/2","doc":"Callback implementation for  Ecto.Repo.load/2 .","ref":"Lightning.Repo.html#load/2"},{"type":"function","title":"Lightning.Repo.one/2","doc":"Callback implementation for  Ecto.Repo.one/2 .","ref":"Lightning.Repo.html#one/2"},{"type":"function","title":"Lightning.Repo.one!/2","doc":"Callback implementation for  Ecto.Repo.one!/2 .","ref":"Lightning.Repo.html#one!/2"},{"type":"function","title":"Lightning.Repo.paginate/2","doc":"","ref":"Lightning.Repo.html#paginate/2"},{"type":"function","title":"Lightning.Repo.preload/3","doc":"Callback implementation for  Ecto.Repo.preload/3 .","ref":"Lightning.Repo.html#preload/3"},{"type":"function","title":"Lightning.Repo.prepare_query/3","doc":"Callback implementation for  Ecto.Repo.prepare_query/3 .","ref":"Lightning.Repo.html#prepare_query/3"},{"type":"function","title":"Lightning.Repo.prepare_transaction/2","doc":"Callback implementation for  Ecto.Repo.prepare_transaction/2 .","ref":"Lightning.Repo.html#prepare_transaction/2"},{"type":"function","title":"Lightning.Repo.put_dynamic_repo/1","doc":"Callback implementation for  Ecto.Repo.put_dynamic_repo/1 .","ref":"Lightning.Repo.html#put_dynamic_repo/1"},{"type":"function","title":"Lightning.Repo.query/3","doc":"Runs a custom SQL query.\n\nIf the query was successful, it will return an `:ok` tuple containing\na map with at least two keys:\n  * `:num_rows` - the number of rows affected\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"Lightning.Repo.html#query/3"},{"type":"function","title":"Options - Lightning.Repo.query/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"Lightning.Repo.html#query/3-options"},{"type":"function","title":"Examples - Lightning.Repo.query/3","doc":"iex> MyRepo.query(\"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}\n\n    iex> Ecto.Adapters.SQL.query(MyRepo, \"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}","ref":"Lightning.Repo.html#query/3-examples"},{"type":"function","title":"Lightning.Repo.query!/3","doc":"Same as `query/3` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"Lightning.Repo.html#query!/3"},{"type":"function","title":"Lightning.Repo.query_many/3","doc":"Runs a custom SQL query that returns multiple results on the given repo.\n\nIn case of success, it must return an `:ok` tuple containing a list of\nmaps with at least two keys:\n\n  * `:num_rows` - the number of rows affected\n\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"Lightning.Repo.html#query_many/3"},{"type":"function","title":"Options - Lightning.Repo.query_many/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"Lightning.Repo.html#query_many/3-options"},{"type":"function","title":"Examples - Lightning.Repo.query_many/3","doc":"iex> MyRepo.query_many(\"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}\n\n    iex> Ecto.Adapters.SQL.query_many(MyRepo, \"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}","ref":"Lightning.Repo.html#query_many/3-examples"},{"type":"function","title":"Lightning.Repo.query_many!/3","doc":"Same as `query_many/4` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"Lightning.Repo.html#query_many!/3"},{"type":"function","title":"Lightning.Repo.reload/2","doc":"Callback implementation for  Ecto.Repo.reload/2 .","ref":"Lightning.Repo.html#reload/2"},{"type":"function","title":"Lightning.Repo.reload!/2","doc":"Callback implementation for  Ecto.Repo.reload!/2 .","ref":"Lightning.Repo.html#reload!/2"},{"type":"function","title":"Lightning.Repo.rollback/1","doc":"Callback implementation for  Ecto.Repo.rollback/1 .","ref":"Lightning.Repo.html#rollback/1"},{"type":"function","title":"Lightning.Repo.scrivener_defaults/0","doc":"","ref":"Lightning.Repo.html#scrivener_defaults/0"},{"type":"function","title":"Lightning.Repo.start_link/1","doc":"Callback implementation for  Ecto.Repo.start_link/1 .","ref":"Lightning.Repo.html#start_link/1"},{"type":"function","title":"Lightning.Repo.stop/1","doc":"Callback implementation for  Ecto.Repo.stop/1 .","ref":"Lightning.Repo.html#stop/1"},{"type":"function","title":"Lightning.Repo.stream/2","doc":"Callback implementation for  Ecto.Repo.stream/2 .","ref":"Lightning.Repo.html#stream/2"},{"type":"function","title":"Lightning.Repo.to_sql/2","doc":"Converts the given query to SQL according to its kind and the\nadapter in the given repository.","ref":"Lightning.Repo.html#to_sql/2"},{"type":"function","title":"Examples - Lightning.Repo.to_sql/2","doc":"The examples below are meant for reference. Each adapter will\nreturn a different result:\n\n    iex> MyRepo.to_sql(:all, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}\n\n    iex> MyRepo.to_sql(:update_all, from(p in Post, update: [set: [title: ^\"hello\"]]))\n    {\"UPDATE posts AS p SET title = $1\", [\"hello\"]}\n\n    iex> Ecto.Adapters.SQL.to_sql(:all, MyRepo, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}","ref":"Lightning.Repo.html#to_sql/2-examples"},{"type":"function","title":"Lightning.Repo.transact/2","doc":"Callback implementation for  Ecto.Repo.transact/2 .","ref":"Lightning.Repo.html#transact/2"},{"type":"function","title":"Lightning.Repo.transaction/2","doc":"Callback implementation for  Ecto.Repo.transaction/2 .","ref":"Lightning.Repo.html#transaction/2"},{"type":"function","title":"Lightning.Repo.update/2","doc":"Callback implementation for  Ecto.Repo.update/2 .","ref":"Lightning.Repo.html#update/2"},{"type":"function","title":"Lightning.Repo.update!/2","doc":"Callback implementation for  Ecto.Repo.update!/2 .","ref":"Lightning.Repo.html#update!/2"},{"type":"function","title":"Lightning.Repo.update_all/3","doc":"Callback implementation for  Ecto.Repo.update_all/3 .","ref":"Lightning.Repo.html#update_all/3"},{"type":"module","title":"Lightning.Retry","doc":"Retry helpers with exponential backoff and optional jitter.","ref":"Lightning.Retry.html"},{"type":"type","title":"Lightning.Retry.config/0","doc":"","ref":"Lightning.Retry.html#t:config/0"},{"type":"type","title":"Lightning.Retry.retry_option/0","doc":"","ref":"Lightning.Retry.html#t:retry_option/0"},{"type":"type","title":"Lightning.Retry.retry_result/0","doc":"","ref":"Lightning.Retry.html#t:retry_result/0"},{"type":"function","title":"Lightning.Retry.retriable_error?/1","doc":"","ref":"Lightning.Retry.html#retriable_error?/1"},{"type":"function","title":"Lightning.Retry.with_retry/2","doc":"","ref":"Lightning.Retry.html#with_retry/2"},{"type":"function","title":"Lightning.Retry.with_webhook_retry/2","doc":"","ref":"Lightning.Retry.html#with_webhook_retry/2"},{"type":"module","title":"Lightning.Run","doc":"Ecto model for Runs.","ref":"Lightning.Run.html"},{"type":"type","title":"Lightning.Run.t/0","doc":"","ref":"Lightning.Run.html#t:t/0"},{"type":"function","title":"Lightning.Run.complete/2","doc":"","ref":"Lightning.Run.html#complete/2"},{"type":"function","title":"Lightning.Run.failure_states/0","doc":"Returns the list of failure states for a run.\n\nThese are all final states except :success.","ref":"Lightning.Run.html#failure_states/0"},{"type":"function","title":"Lightning.Run.final_states/0","doc":"Returns the list of final states for a run.","ref":"Lightning.Run.html#final_states/0"},{"type":"function","title":"Lightning.Run.for/2","doc":"","ref":"Lightning.Run.html#for/2"},{"type":"function","title":"Lightning.Run.new/1","doc":"","ref":"Lightning.Run.html#new/1"},{"type":"function","title":"Lightning.Run.start/2","doc":"","ref":"Lightning.Run.html#start/2"},{"type":"module","title":"Lightning.RunStep","doc":"Ecto model for an the Steps in a Run.","ref":"Lightning.RunStep.html"},{"type":"type","title":"Lightning.RunStep.t/0","doc":"","ref":"Lightning.RunStep.html#t:t/0"},{"type":"function","title":"Lightning.RunStep.new/1","doc":"","ref":"Lightning.RunStep.html#new/1"},{"type":"function","title":"Lightning.RunStep.new/2","doc":"","ref":"Lightning.RunStep.html#new/2"},{"type":"module","title":"Lightning.SafetyString","doc":"Utilities for securely encoding serializable structs, lists and strings into\nURL-safe strings.\n\nIn order to pass the state around in a URL, in a manner that protects\nsecrets from leaking - and allows us to avoid persistance\nwe take a set of parameters and:\n\n- Encode into a URI query string\n- gzip it to save characters\n- encrypt the string\n- base64 encode it for URI encoding safety","ref":"Lightning.SafetyString.html"},{"type":"function","title":"Lightning.SafetyString.decode/1","doc":"","ref":"Lightning.SafetyString.html#decode/1"},{"type":"function","title":"Lightning.SafetyString.encode/1","doc":"","ref":"Lightning.SafetyString.html#encode/1"},{"type":"module","title":"Lightning.Schema","doc":"Defines the database schema and primary key type for the billing app's schemas.","ref":"Lightning.Schema.html"},{"type":"module","title":"Lightning.Scrubber","doc":"Process used to scrub strings of sensitive information.\n\nCan be started via `start_link/1`.\n\n```\n{:ok, scrubber} =\n  Lightning.Scrubber.start_link(\n    samples:\n      Lightning.Credentials.sensitive_values_for(credential)\n  )\n```\n\nTakes an optional `:name` key, in case you need to name the process.","ref":"Lightning.Scrubber.html"},{"type":"function","title":"Lightning.Scrubber.add_samples/3","doc":"","ref":"Lightning.Scrubber.html#add_samples/3"},{"type":"function","title":"Lightning.Scrubber.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Scrubber.html#child_spec/1"},{"type":"function","title":"Lightning.Scrubber.encode_samples/2","doc":"Prepare a list of sensitive samples (strings) into a potentially bigger list\ncomposed of variations a sample may appear.","ref":"Lightning.Scrubber.html#encode_samples/2"},{"type":"function","title":"Lightning.Scrubber.samples/1","doc":"","ref":"Lightning.Scrubber.html#samples/1"},{"type":"function","title":"Lightning.Scrubber.scrub/2","doc":"This is used for scrubbing logs (is_list) and JSON (is_binary)","ref":"Lightning.Scrubber.html#scrub/2"},{"type":"function","title":"Lightning.Scrubber.scrub_values/2","doc":"Recursively scrubs all values from a data structure, replacing them with type placeholders.\nPreserves keys and structure while hiding actual values. Arrays are sampled up to `array_limit`\nelements with a \"...N more\" indicator if truncated.","ref":"Lightning.Scrubber.html#scrub_values/2"},{"type":"function","title":"Examples - Lightning.Scrubber.scrub_values/2","doc":"iex> scrub_values(%{\"name\" => \"John\", \"age\" => 30})\n    %{\"name\" => \"string\", \"age\" => \"number\"}\n\n    iex> scrub_values([1, 2, 3])\n    [\"number\", \"number\", \"...1 more\"]","ref":"Lightning.Scrubber.html#scrub_values/2-examples"},{"type":"function","title":"Lightning.Scrubber.start_link/1","doc":"","ref":"Lightning.Scrubber.html#start_link/1"},{"type":"module","title":"Lightning.Sentry","doc":"Runtime proxy around the configured Sentry implementation.","ref":"Lightning.Sentry.html"},{"type":"behaviour","title":"Lightning.SentryBehaviour","doc":"Behaviour for our Sentry client.","ref":"Lightning.SentryBehaviour.html"},{"type":"callback","title":"Lightning.SentryBehaviour.capture_exception/2","doc":"","ref":"Lightning.SentryBehaviour.html#c:capture_exception/2"},{"type":"callback","title":"Lightning.SentryBehaviour.capture_message/2","doc":"","ref":"Lightning.SentryBehaviour.html#c:capture_message/2"},{"type":"module","title":"Lightning.Services.AccountHook","doc":"Allows handling user creation or registration atomically without relying on async events.","ref":"Lightning.Services.AccountHook.html"},{"type":"function","title":"Lightning.Services.AccountHook.handle_create_user/1","doc":"Callback implementation for  Lightning.Extensions.AccountHooking.handle_create_user/1 .","ref":"Lightning.Services.AccountHook.html#handle_create_user/1"},{"type":"function","title":"Lightning.Services.AccountHook.handle_register_superuser/1","doc":"Callback implementation for  Lightning.Extensions.AccountHooking.handle_register_superuser/1 .","ref":"Lightning.Services.AccountHook.html#handle_register_superuser/1"},{"type":"function","title":"Lightning.Services.AccountHook.handle_register_user/1","doc":"Callback implementation for  Lightning.Extensions.AccountHooking.handle_register_user/1 .","ref":"Lightning.Services.AccountHook.html#handle_register_user/1"},{"type":"module","title":"Lightning.Services.AdapterHelper","doc":"Maps the module to be used for the extension service.","ref":"Lightning.Services.AdapterHelper.html"},{"type":"function","title":"Lightning.Services.AdapterHelper.adapter/1","doc":"","ref":"Lightning.Services.AdapterHelper.html#adapter/1"},{"type":"module","title":"Lightning.Services.CollectionHook","doc":"Callbacks for additional processing on collections operations.","ref":"Lightning.Services.CollectionHook.html"},{"type":"module","title":"Lightning.Services.ProjectHook","doc":"Allows handling project creation atomically without relying on async events.","ref":"Lightning.Services.ProjectHook.html"},{"type":"function","title":"Lightning.Services.ProjectHook.handle_create_project/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_create_project/1 .","ref":"Lightning.Services.ProjectHook.html#handle_create_project/1"},{"type":"function","title":"Lightning.Services.ProjectHook.handle_delete_project/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_delete_project/1 .","ref":"Lightning.Services.ProjectHook.html#handle_delete_project/1"},{"type":"function","title":"Lightning.Services.ProjectHook.handle_project_validation/1","doc":"Callback implementation for  Lightning.Extensions.ProjectHooking.handle_project_validation/1 .","ref":"Lightning.Services.ProjectHook.html#handle_project_validation/1"},{"type":"module","title":"Lightning.Services.RateLimiter","doc":"Adapter to call the extension for rate limiting.","ref":"Lightning.Services.RateLimiter.html"},{"type":"module","title":"Lightning.Services.RunQueue","doc":"Adapter to call the extension for selecting Runtime workloads.","ref":"Lightning.Services.RunQueue.html"},{"type":"module","title":"Lightning.Services.UsageLimiter","doc":"Adapter to call the extension for limiting Runtime workloads.","ref":"Lightning.Services.UsageLimiter.html"},{"type":"module","title":"Lightning.Setup","doc":"Demo encapsulates logic for setting up a demonstration site.","ref":"Lightning.Setup.html"},{"type":"function","title":"Lightning.Setup.ensure_minimum_setup/0","doc":"Set up the bare minimum so that commands can be executed against the repo.","ref":"Lightning.Setup.html#ensure_minimum_setup/0"},{"type":"function","title":"Lightning.Setup.setup_user/3","doc":"This makes it possible to run setup_user as an external command\n\nSee: Lightning.SetupUtils.setup_user() for more docs.","ref":"Lightning.Setup.html#setup_user/3"},{"type":"function","title":"Examples - Lightning.Setup.setup_user/3","doc":"iex> kubectl exec -it deploy/demo-web -- /app/bin/lightning eval Lightning.Setup.setup_user(%{email: \"td@openfn.org\", first_name: \"taylor\", last_name: \"downs\", password: \"shh12345!\"})\n  :ok","ref":"Lightning.Setup.html#setup_user/3-examples"},{"type":"module","title":"Lightning.SetupUtils","doc":"SetupUtils encapsulates logic for setting up initial data for various sites.","ref":"Lightning.SetupUtils.html"},{"type":"function","title":"Lightning.SetupUtils.confirm_users/1","doc":"","ref":"Lightning.SetupUtils.html#confirm_users/1"},{"type":"function","title":"Lightning.SetupUtils.create_dhis2_project/1","doc":"","ref":"Lightning.SetupUtils.html#create_dhis2_project/1"},{"type":"function","title":"Lightning.SetupUtils.create_openhie_project/1","doc":"","ref":"Lightning.SetupUtils.html#create_openhie_project/1"},{"type":"function","title":"Lightning.SetupUtils.create_starter_project/3","doc":"","ref":"Lightning.SetupUtils.html#create_starter_project/3"},{"type":"function","title":"Lightning.SetupUtils.create_users/1","doc":"","ref":"Lightning.SetupUtils.html#create_users/1"},{"type":"function","title":"Lightning.SetupUtils.setup_demo/1","doc":"Creates initial data and returns the created records.","ref":"Lightning.SetupUtils.html#setup_demo/1"},{"type":"function","title":"Lightning.SetupUtils.setup_user/3","doc":"In some (mostly remote-controlled) deployments, it's necessary to create a\nuser, and apiToken, and multiple credentials (owned by the user) so that later\n`openfn deploy` calls can make use of these artifacts.\n\nWhen run _before_ `openfn deploy`, this function makes it possible to set up\nan entire lightning instance with a working project (including secrets)\nwithout using the web UI.","ref":"Lightning.SetupUtils.html#setup_user/3"},{"type":"function","title":"Examples - Lightning.SetupUtils.setup_user/3","doc":"iex> setup_user(%{email: \"td@openfn.org\", first_name: \"taylor\", last_name: \"downs\", password: \"shh12345!\"}, \"secretToken\", [%{name: \"openmrs\", schema: \"raw\", body: %{\"a\" => \"secret\"}}, %{ name: \"dhis2\", schema: \"raw\", body: %{\"b\" => \"safe\"}}])\n  :ok","ref":"Lightning.SetupUtils.html#setup_user/3-examples"},{"type":"function","title":"Lightning.SetupUtils.tear_down/1","doc":"","ref":"Lightning.SetupUtils.html#tear_down/1"},{"type":"module","title":"Lightning.SetupUtils.Ticker","doc":"Time ticker to assure time progress/sequence specially for multiple logs.","ref":"Lightning.SetupUtils.Ticker.html"},{"type":"function","title":"Lightning.SetupUtils.Ticker.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.SetupUtils.Ticker.html#child_spec/1"},{"type":"function","title":"Lightning.SetupUtils.Ticker.next/1","doc":"","ref":"Lightning.SetupUtils.Ticker.html#next/1"},{"type":"function","title":"Lightning.SetupUtils.Ticker.start_link/1","doc":"","ref":"Lightning.SetupUtils.Ticker.html#start_link/1"},{"type":"function","title":"Lightning.SetupUtils.Ticker.stop/1","doc":"","ref":"Lightning.SetupUtils.Ticker.html#stop/1"},{"type":"module","title":"Lightning.Storage","doc":"The external storage module.\n\nThis module is responsible for storing and retrieving files from the\nconfigured storage backend.","ref":"Lightning.Storage.html"},{"type":"behaviour","title":"Lightning.Storage.Backend","doc":"The behaviour for storage backends.","ref":"Lightning.Storage.Backend.html"},{"type":"callback","title":"Lightning.Storage.Backend.delete/1","doc":"","ref":"Lightning.Storage.Backend.html#c:delete/1"},{"type":"callback","title":"Lightning.Storage.Backend.get_url/1","doc":"","ref":"Lightning.Storage.Backend.html#c:get_url/1"},{"type":"callback","title":"Lightning.Storage.Backend.store/2","doc":"","ref":"Lightning.Storage.Backend.html#c:store/2"},{"type":"module","title":"Lightning.Storage.GCS","doc":"A storage backend module for handling file storage in Google Cloud Storage (GCS).\n\nIt implements the `Lightning.Storage.Backend` behaviour to manage file storage operations in Google Cloud Storage. This includes storing files to GCS buckets and generating signed URLs for secure access to the stored files.","ref":"Lightning.Storage.GCS.html"},{"type":"module","title":"Responsibilities - Lightning.Storage.GCS","doc":"- **Storing Files**: The `store/2` function uploads files from a local source path to a specified destination path within a GCS bucket.\n- **Generating Signed URLs**: The `get_url/1` function generates a signed URL for accessing a file stored in GCS. This signed URL is valid for a limited time (default 1 hour).\n- **Configuration**: The module relies on application configuration to determine the GCS bucket and Google API connection settings.","ref":"Lightning.Storage.GCS.html#module-responsibilities"},{"type":"module","title":"Example Usage - Lightning.Storage.GCS","doc":"```elixir\n# Store a file in GCS\nLightning.Storage.GCS.store(\"/path/to/source\", \"destination/path\")\n\n# Get a signed URL for the stored file\n{:ok, url} = Lightning.Storage.GCS.get_url(\"destination/path\")\n```","ref":"Lightning.Storage.GCS.html#module-example-usage"},{"type":"module","title":"Lightning.Storage.Local","doc":"A storage backend module for handling local file storage.\n\nIt implements the `Lightning.Storage.Backend` behaviour to manage file storage\noperations on the local file system. This includes storing files from a source\npath to a destination path and generating URLs for accessing stored files.","ref":"Lightning.Storage.Local.html"},{"type":"module","title":"Responsibilities - Lightning.Storage.Local","doc":"- **Storing Files**: The `store/2` function is responsible for copying files\n  from a given source path to a specified destination path on the local file\n  system.\n- **Generating URLs**: The `get_url/1` function generates a `file://` URL for\n  accessing a stored file locally.\n- **Configuration**: The module relies on application configuration to\n  determine the root directory for storage operations.","ref":"Lightning.Storage.Local.html#module-responsibilities"},{"type":"module","title":"Example Usage - Lightning.Storage.Local","doc":"```elixir\n# Store a file\n{:ok, filename} =\n  Lightning.Storage.Local.store(\"/path/to/source\", \"destination/path\")\n\n# Get the URL for the stored file\n{:ok, url} = Lightning.Storage.Local.get_url(\"destination/path\")\n```","ref":"Lightning.Storage.Local.html#module-example-usage"},{"type":"module","title":"Lightning.Storage.ProjectFileDefinition","doc":"This module provides functionality for managing the storage and retrieval of project files.\n\n  It handles operations related to storing project files, generating URLs for accessing these files, and constructing storage paths for exported files. It serves as an abstraction layer over the underlying storage mechanism provided by the `Lightning.Storage` module.","ref":"Lightning.Storage.ProjectFileDefinition.html"},{"type":"module","title":"Functions - Lightning.Storage.ProjectFileDefinition","doc":"- `store/2`: Stores a file from a given source path into the storage system based on the file's path.\n  - `get_url/1`: Retrieves the URL for accessing a stored file.\n  - `storage_path_for_exports/2`: Constructs a storage path for exported files, defaulting to a `.zip` extension.","ref":"Lightning.Storage.ProjectFileDefinition.html#module-functions"},{"type":"module","title":"Example Usage - Lightning.Storage.ProjectFileDefinition","doc":"```elixir\n  # Store a file\n  Lightning.Storage.ProjectFileDefinition.store(\"/path/to/source\", project_file)\n\n  # Get a URL for the stored file\n  url = Lightning.Storage.ProjectFileDefinition.get_url(project_file)\n\n  # Get the storage path for an exported file\n  path = Lightning.Storage.ProjectFileDefinition.storage_path_for_exports(project_file)\n  ```","ref":"Lightning.Storage.ProjectFileDefinition.html#module-example-usage"},{"type":"function","title":"Lightning.Storage.ProjectFileDefinition.get_url/1","doc":"","ref":"Lightning.Storage.ProjectFileDefinition.html#get_url/1"},{"type":"function","title":"Lightning.Storage.ProjectFileDefinition.storage_path_for_exports/2","doc":"","ref":"Lightning.Storage.ProjectFileDefinition.html#storage_path_for_exports/2"},{"type":"function","title":"Lightning.Storage.ProjectFileDefinition.store/2","doc":"","ref":"Lightning.Storage.ProjectFileDefinition.html#store/2"},{"type":"module","title":"Lightning.TaskWorker","doc":"A TaskWorker with concurrency limits.\n\nA simple concurrency limiter that wraps `Task.Supervisor`, which already does\nhave the ability to specify `max_children`; it throws an error when\nthat limit is exceeded.\n\nTo use it, start it like any other process; ideally in your supervision tree.\n\n```\n  ...,\n  {Lightning.TaskWorker, name: :cli_task_worker, max_tasks: 4}\n```\n\n**Options**\n\n- `:max_tasks` Defaults to the number of system schedulers available to the vm.","ref":"Lightning.TaskWorker.html"},{"type":"function","title":"Lightning.TaskWorker.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.TaskWorker.html#child_spec/1"},{"type":"function","title":"Lightning.TaskWorker.get_status/1","doc":"","ref":"Lightning.TaskWorker.html#get_status/1"},{"type":"function","title":"Lightning.TaskWorker.start_link/1","doc":"","ref":"Lightning.TaskWorker.html#start_link/1"},{"type":"function","title":"Lightning.TaskWorker.start_task/2","doc":"","ref":"Lightning.TaskWorker.html#start_task/2"},{"type":"module","title":"Lightning.Tokens","doc":"Token generation, verification and validation.","ref":"Lightning.Tokens.html"},{"type":"function","title":"Lightning.Tokens.get_subject/1","doc":"Get the subject of a token.\nCurrently support RunTokens and PersonalAccessTokens,\nwhich return `Lightning.Run`s and `Lightning.Accounts.User`s respectively.","ref":"Lightning.Tokens.html#get_subject/1"},{"type":"function","title":"Lightning.Tokens.verify/1","doc":"Verify a token and return the claims if successful.\n\nThis serves as a central point to verify and validate different types\nof tokens.","ref":"Lightning.Tokens.html#verify/1"},{"type":"module","title":"Lightning.UsageTracking","doc":"The UsageTracking context.","ref":"Lightning.UsageTracking.html"},{"type":"function","title":"Lightning.UsageTracking.disable_daily_report/0","doc":"","ref":"Lightning.UsageTracking.html#disable_daily_report/0"},{"type":"function","title":"Lightning.UsageTracking.enable_daily_report/1","doc":"","ref":"Lightning.UsageTracking.html#enable_daily_report/1"},{"type":"function","title":"Lightning.UsageTracking.enqueue_reports/3","doc":"","ref":"Lightning.UsageTracking.html#enqueue_reports/3"},{"type":"function","title":"Lightning.UsageTracking.find_enabled_daily_report_config/0","doc":"","ref":"Lightning.UsageTracking.html#find_enabled_daily_report_config/0"},{"type":"function","title":"Lightning.UsageTracking.insert_report/3","doc":"","ref":"Lightning.UsageTracking.html#insert_report/3"},{"type":"function","title":"Lightning.UsageTracking.lightning_version/0","doc":"","ref":"Lightning.UsageTracking.html#lightning_version/0"},{"type":"function","title":"Lightning.UsageTracking.reportable_dates/3","doc":"","ref":"Lightning.UsageTracking.html#reportable_dates/3"},{"type":"function","title":"Lightning.UsageTracking.start_reporting_after/1","doc":"","ref":"Lightning.UsageTracking.html#start_reporting_after/1"},{"type":"function","title":"Lightning.UsageTracking.submit_report/2","doc":"","ref":"Lightning.UsageTracking.html#submit_report/2"},{"type":"function","title":"Lightning.UsageTracking.update_report_submission!/2","doc":"","ref":"Lightning.UsageTracking.html#update_report_submission!/2"},{"type":"module","title":"Lightning.UsageTracking.Client","doc":"Client for Usage Tracker service","ref":"Lightning.UsageTracking.Client.html"},{"type":"function","title":"Lightning.UsageTracking.Client.reachable?/1","doc":"","ref":"Lightning.UsageTracking.Client.html#reachable?/1"},{"type":"function","title":"Lightning.UsageTracking.Client.submit_metrics/2","doc":"","ref":"Lightning.UsageTracking.Client.html#submit_metrics/2"},{"type":"module","title":"Lightning.UsageTracking.DailyReportConfiguration","doc":"Configuration for the creation of daily reports","ref":"Lightning.UsageTracking.DailyReportConfiguration.html"},{"type":"function","title":"Lightning.UsageTracking.DailyReportConfiguration.changeset/2","doc":"","ref":"Lightning.UsageTracking.DailyReportConfiguration.html#changeset/2"},{"type":"module","title":"Lightning.UsageTracking.DayWorker","doc":"Worker to manage per-day report generation","ref":"Lightning.UsageTracking.DayWorker.html"},{"type":"module","title":"Lightning.UsageTracking.GithubClient","doc":"A github client to make unauthenticated HTTP requests to Github.","ref":"Lightning.UsageTracking.GithubClient.html"},{"type":"function","title":"Lightning.UsageTracking.GithubClient.build_client/1","doc":"","ref":"Lightning.UsageTracking.GithubClient.html#build_client/1"},{"type":"function","title":"Lightning.UsageTracking.GithubClient.open_fn_commit?/1","doc":"","ref":"Lightning.UsageTracking.GithubClient.html#open_fn_commit?/1"},{"type":"module","title":"Lightning.UsageTracking.ProjectMetricsService","doc":"Builds project-related metrics.","ref":"Lightning.UsageTracking.ProjectMetricsService.html"},{"type":"function","title":"Lightning.UsageTracking.ProjectMetricsService.find_eligible_projects/1","doc":"","ref":"Lightning.UsageTracking.ProjectMetricsService.html#find_eligible_projects/1"},{"type":"function","title":"Lightning.UsageTracking.ProjectMetricsService.generate_metrics/3","doc":"","ref":"Lightning.UsageTracking.ProjectMetricsService.html#generate_metrics/3"},{"type":"module","title":"Lightning.UsageTracking.Report","doc":"Report submitted to Usage Tracker","ref":"Lightning.UsageTracking.Report.html"},{"type":"function","title":"Lightning.UsageTracking.Report.changeset/2","doc":"","ref":"Lightning.UsageTracking.Report.html#changeset/2"},{"type":"module","title":"Lightning.UsageTracking.ReportData","doc":"Builds data set for submission to Usage Tracker","ref":"Lightning.UsageTracking.ReportData.html"},{"type":"function","title":"Lightning.UsageTracking.ReportData.generate/3","doc":"","ref":"Lightning.UsageTracking.ReportData.html#generate/3"},{"type":"module","title":"Lightning.UsageTracking.ReportWorker","doc":"Worker to generate report for given day","ref":"Lightning.UsageTracking.ReportWorker.html"},{"type":"module","title":"Lightning.UsageTracking.ResponseProcessor","doc":"Utility module to abstract dealing with some of the Tesla plumbing","ref":"Lightning.UsageTracking.ResponseProcessor.html"},{"type":"function","title":"Lightning.UsageTracking.ResponseProcessor.successful?/1","doc":"","ref":"Lightning.UsageTracking.ResponseProcessor.html#successful?/1"},{"type":"function","title":"Lightning.UsageTracking.ResponseProcessor.successful_200?/1","doc":"","ref":"Lightning.UsageTracking.ResponseProcessor.html#successful_200?/1"},{"type":"module","title":"Lightning.UsageTracking.ResubmissionCandidatesWorker","doc":"Worker to find reports that have failed submissions and enqueue jobs to\nreprocess them.","ref":"Lightning.UsageTracking.ResubmissionCandidatesWorker.html"},{"type":"module","title":"Lightning.UsageTracking.ResubmissionWorker","doc":"Worker to resubmit report that has failed submission.","ref":"Lightning.UsageTracking.ResubmissionWorker.html"},{"type":"module","title":"Lightning.UsageTracking.RunService","doc":"Supports the generation of metrics related to runs and steps.","ref":"Lightning.UsageTracking.RunService.html"},{"type":"function","title":"Lightning.UsageTracking.RunService.finished_steps/2","doc":"","ref":"Lightning.UsageTracking.RunService.html#finished_steps/2"},{"type":"function","title":"Lightning.UsageTracking.RunService.unique_job_ids/2","doc":"","ref":"Lightning.UsageTracking.RunService.html#unique_job_ids/2"},{"type":"module","title":"Lightning.UsageTracking.UserQueries","doc":"Contains queries used to determine user-related metrics.","ref":"Lightning.UsageTracking.UserQueries.html"},{"type":"function","title":"Lightning.UsageTracking.UserQueries.active_users/1","doc":"","ref":"Lightning.UsageTracking.UserQueries.html#active_users/1"},{"type":"function","title":"Lightning.UsageTracking.UserQueries.active_users/2","doc":"","ref":"Lightning.UsageTracking.UserQueries.html#active_users/2"},{"type":"function","title":"Lightning.UsageTracking.UserQueries.existing_users/1","doc":"","ref":"Lightning.UsageTracking.UserQueries.html#existing_users/1"},{"type":"function","title":"Lightning.UsageTracking.UserQueries.existing_users/2","doc":"","ref":"Lightning.UsageTracking.UserQueries.html#existing_users/2"},{"type":"module","title":"Lightning.UsageTracking.UserService","doc":"Returns counts for the various user-related metrics.","ref":"Lightning.UsageTracking.UserService.html"},{"type":"function","title":"Lightning.UsageTracking.UserService.no_of_active_users/1","doc":"","ref":"Lightning.UsageTracking.UserService.html#no_of_active_users/1"},{"type":"function","title":"Lightning.UsageTracking.UserService.no_of_active_users/2","doc":"","ref":"Lightning.UsageTracking.UserService.html#no_of_active_users/2"},{"type":"function","title":"Lightning.UsageTracking.UserService.no_of_users/1","doc":"","ref":"Lightning.UsageTracking.UserService.html#no_of_users/1"},{"type":"function","title":"Lightning.UsageTracking.UserService.no_of_users/2","doc":"","ref":"Lightning.UsageTracking.UserService.html#no_of_users/2"},{"type":"module","title":"Lightning.UsageTracking.WorkflowMetricsQuery","doc":"Query module to support workflow metrics while allowing for fewer test\npermutations.","ref":"Lightning.UsageTracking.WorkflowMetricsQuery.html"},{"type":"function","title":"Lightning.UsageTracking.WorkflowMetricsQuery.runs_finished_on/2","doc":"","ref":"Lightning.UsageTracking.WorkflowMetricsQuery.html#runs_finished_on/2"},{"type":"function","title":"Lightning.UsageTracking.WorkflowMetricsQuery.workflow_runs/1","doc":"","ref":"Lightning.UsageTracking.WorkflowMetricsQuery.html#workflow_runs/1"},{"type":"module","title":"Lightning.UsageTracking.WorkflowMetricsService","doc":"Builds workflow-related metrics.","ref":"Lightning.UsageTracking.WorkflowMetricsService.html"},{"type":"function","title":"Lightning.UsageTracking.WorkflowMetricsService.find_eligible_workflows/2","doc":"","ref":"Lightning.UsageTracking.WorkflowMetricsService.html#find_eligible_workflows/2"},{"type":"function","title":"Lightning.UsageTracking.WorkflowMetricsService.generate_metrics/3","doc":"","ref":"Lightning.UsageTracking.WorkflowMetricsService.html#generate_metrics/3"},{"type":"module","title":"Lightning.Utils.Crypto","doc":"Utility functions for cryptographic operations.","ref":"Lightning.Utils.Crypto.html"},{"type":"function","title":"Lightning.Utils.Crypto.generate_hs256_key/0","doc":"Generates a new HS256 key.","ref":"Lightning.Utils.Crypto.html#generate_hs256_key/0"},{"type":"function","title":"Lightning.Utils.Crypto.generate_rsa_key_pair/0","doc":"Generates a new RSA key pair with 2048 bits and a public exponent of 65537.\n\nThis is preferable to using `create_private_key` and `abstract_public_key` as\nit generates a key pair in one step, and also doesn't require shelling out to\n`openssl`.","ref":"Lightning.Utils.Crypto.html#generate_rsa_key_pair/0"},{"type":"module","title":"Lightning.Validators","doc":"Extra validators for Ecto.Changeset.","ref":"Lightning.Validators.html"},{"type":"function","title":"Lightning.Validators.validate_exclusive/3","doc":"Validate that only one of the fields is set at a time.\n\nExample:\n\n```\nchangeset\n|> validate_exclusive(\n  [:source_job_id, :source_trigger_id],\n  \"source_job_id and source_trigger_id are mutually exclusive\"\n)\n```","ref":"Lightning.Validators.html#validate_exclusive/3"},{"type":"function","title":"Lightning.Validators.validate_one_required/3","doc":"Validate that at least one of the fields is set.","ref":"Lightning.Validators.html#validate_one_required/3"},{"type":"function","title":"Lightning.Validators.validate_required_assoc/3","doc":"Validate that an association is present\n\n> **NOTE**\n> This should only be used when using `put_assoc`, not `cast_assoc`.\n> `cast_assoc` provides a `required: true` option.\n> Unlike `validate_required`, this does not add the field to the `required`\n> list in the schema.","ref":"Lightning.Validators.html#validate_required_assoc/3"},{"type":"function","title":"Lightning.Validators.validate_url/2","doc":"Validates a URL in a changeset field.\n\nEnsures that the URL:\n- Has a valid `http` or `https` scheme.\n- Has a valid host (domain name, IPv4, or IPv6).\n- The host is not blank and does not exceed 255 characters.\n\nReturns a changeset error for invalid URLs.","ref":"Lightning.Validators.html#validate_url/2"},{"type":"module","title":"Lightning.Validators.Hex","doc":"Flexible validator for **hex strings** with configurable length.\n\nBy default it expects **12 lowercase** hex characters (`0-9`, `a-f`), which\nmatches our common head hash format. You can change both the **length**\n(fixed integer or inclusive range) and the **letter case** via options.","ref":"Lightning.Validators.Hex.html"},{"type":"module","title":"Length - Lightning.Validators.Hex","doc":"Pass either:\n* a positive integer (exact length), or\n* an inclusive `Range` (min..max length).","ref":"Lightning.Validators.Hex.html#module-length"},{"type":"module","title":"Case handling - Lightning.Validators.Hex","doc":"Use the `:case` option:\n* `:lower` (default)  allow only `a-f`\n* `:upper`  allow only `A-F`\n* `:any`    allow `a-f` or `A-F`","ref":"Lightning.Validators.Hex.html#module-case-handling"},{"type":"module","title":"Examples - Lightning.Validators.Hex","doc":"iex> Lightning.Validators.Hex.valid?(\"deadbeefcafe\")\n    true\n\n    iex> Lightning.Validators.Hex.valid?(\"DEADBEEFCAFE\")\n    false\n\n    iex> Lightning.Validators.Hex.valid?(\"DEADBEEFCAFE\", case: :upper)\n    true\n\n    iex> Lightning.Validators.Hex.valid?(\"a1\", 1..2)\n    true\n\n    iex> Lightning.Validators.Hex.valid?(\"xyz\", 3)\n    false\n\n    iex> Lightning.Validators.Hex.format()\n    ~r/^[0-9a-f]{12}$/\n\n    iex> Lightning.Validators.Hex.format(8)\n    ~r/^[0-9a-f]{8}$/\n\n    iex> Lightning.Validators.Hex.format(8..64, case: :any)\n    ~r/^[0-9A-Fa-f]{8,64}$/","ref":"Lightning.Validators.Hex.html#module-examples"},{"type":"module","title":"Ecto usage - Lightning.Validators.Hex","doc":"changeset\n    |> Ecto.Changeset.validate_format(:hash, Lightning.Validators.Hex.format())","ref":"Lightning.Validators.Hex.html#module-ecto-usage"},{"type":"type","title":"Lightning.Validators.Hex.case_opt/0","doc":"Case handling for hex letters.","ref":"Lightning.Validators.Hex.html#t:case_opt/0"},{"type":"type","title":"Lightning.Validators.Hex.length_spec/0","doc":"Length can be a positive integer (exact) or an inclusive range.","ref":"Lightning.Validators.Hex.html#t:length_spec/0"},{"type":"function","title":"Lightning.Validators.Hex.format/0","doc":"Returns a compiled **Regex** for hex strings.\n\nAccepts convenience forms:\n\n* `format()`  default length (12), lowercase\n* `format(len_or_range)`  custom length, lowercase\n* `format(case: :upper | :any)`  default length with custom case\n* `format(len_or_range, opts)`  full control","ref":"Lightning.Validators.Hex.html#format/0"},{"type":"function","title":"Lightning.Validators.Hex.format/1","doc":"","ref":"Lightning.Validators.Hex.html#format/1"},{"type":"function","title":"Lightning.Validators.Hex.format/2","doc":"","ref":"Lightning.Validators.Hex.html#format/2"},{"type":"function","title":"Lightning.Validators.Hex.valid?/1","doc":"Returns `true` if `s` is hex of the requested length and case.\n\nAccepts convenience forms:\n\n* `valid?(s)`  uses default length (12) and `case: :lower`\n* `valid?(s, len_or_range)`  custom length, lowercase only\n* `valid?(s, case: :upper | :any)`  default length with custom case\n* `valid?(s, len_or_range, opts)`  full control","ref":"Lightning.Validators.Hex.html#valid?/1"},{"type":"function","title":"Lightning.Validators.Hex.valid?/2","doc":"","ref":"Lightning.Validators.Hex.html#valid?/2"},{"type":"function","title":"Lightning.Validators.Hex.valid?/3","doc":"","ref":"Lightning.Validators.Hex.html#valid?/3"},{"type":"module","title":"Lightning.Vault","doc":"Module for handling the encryption and decryption of database fields.","ref":"Lightning.Vault.html"},{"type":"function","title":"Lightning.Vault.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Lightning.Vault.html#child_spec/1"},{"type":"function","title":"Lightning.Vault.start_link/1","doc":"","ref":"Lightning.Vault.html#start_link/1"},{"type":"module","title":"Lightning.VersionControl","doc":"Boundary module for handling Version control activities for project, jobs\nworkflows etc\nUse this module to create, modify and delete connections as well\nas running any associated sync jobs","ref":"Lightning.VersionControl.html"},{"type":"function","title":"Lightning.VersionControl.create_github_connection/2","doc":"Creates a connection between a project and a github repo","ref":"Lightning.VersionControl.html#create_github_connection/2"},{"type":"function","title":"Lightning.VersionControl.delete_github_oauth_grant/1","doc":"Deletes the authorization for the github app and updates the user details accordingly","ref":"Lightning.VersionControl.html#delete_github_oauth_grant/1"},{"type":"function","title":"Lightning.VersionControl.exchange_code_for_oauth_token/1","doc":"Fetches the oauth access token using the code received from the callback url\nFor more info: https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-user-access-token-for-a-github-app","ref":"Lightning.VersionControl.html#exchange_code_for_oauth_token/1"},{"type":"function","title":"Lightning.VersionControl.fetch_installation_repos/1","doc":"","ref":"Lightning.VersionControl.html#fetch_installation_repos/1"},{"type":"function","title":"Lightning.VersionControl.fetch_repo_branches/2","doc":"","ref":"Lightning.VersionControl.html#fetch_repo_branches/2"},{"type":"function","title":"Lightning.VersionControl.fetch_user_access_token/1","doc":"Fecthes the access token for the given `User`.\nIf the access token has expired, it `refreshes` the token and updates the `User` column accordingly","ref":"Lightning.VersionControl.html#fetch_user_access_token/1"},{"type":"function","title":"Lightning.VersionControl.fetch_user_installations/1","doc":"","ref":"Lightning.VersionControl.html#fetch_user_installations/1"},{"type":"function","title":"Lightning.VersionControl.get_repo_connection_for_project/1","doc":"","ref":"Lightning.VersionControl.html#get_repo_connection_for_project/1"},{"type":"function","title":"Lightning.VersionControl.get_repo_connection_for_token/1","doc":"","ref":"Lightning.VersionControl.html#get_repo_connection_for_token/1"},{"type":"function","title":"Lightning.VersionControl.github_enabled?/0","doc":"","ref":"Lightning.VersionControl.html#github_enabled?/0"},{"type":"function","title":"Lightning.VersionControl.initiate_sync/2","doc":"","ref":"Lightning.VersionControl.html#initiate_sync/2"},{"type":"function","title":"Lightning.VersionControl.oauth_token_valid?/1","doc":"Checks if the given token has expired.\nGithub supports access tokens that expire and those that don't.\nIf the `access token` expires, then a `refresh token` is also availed.\nThis function simply checks if the token has a `refresh_token`, if yes, it proceeds to check the expiry date","ref":"Lightning.VersionControl.html#oauth_token_valid?/1"},{"type":"function","title":"Lightning.VersionControl.reconfigure_github_connection/3","doc":"","ref":"Lightning.VersionControl.html#reconfigure_github_connection/3"},{"type":"function","title":"Lightning.VersionControl.refresh_oauth_token/1","doc":"Fetches a new access token using the given refresh token\nFor more info: https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/refreshing-user-access-tokens","ref":"Lightning.VersionControl.html#refresh_oauth_token/1"},{"type":"function","title":"Lightning.VersionControl.remove_github_connection/2","doc":"Deletes a github connection","ref":"Lightning.VersionControl.html#remove_github_connection/2"},{"type":"function","title":"Lightning.VersionControl.save_oauth_token/3","doc":"","ref":"Lightning.VersionControl.html#save_oauth_token/3"},{"type":"function","title":"Lightning.VersionControl.subscribe/1","doc":"See  Lightning.VersionControl.Events.subscribe/1 .","ref":"Lightning.VersionControl.html#subscribe/1"},{"type":"function","title":"Lightning.VersionControl.verify_github_connection/1","doc":"","ref":"Lightning.VersionControl.html#verify_github_connection/1"},{"type":"module","title":"Lightning.VersionControl.Audit","doc":"Generate Audit changesets for changes related to VersionControl.","ref":"Lightning.VersionControl.Audit.html"},{"type":"function","title":"Lightning.VersionControl.Audit.base_query/0","doc":"","ref":"Lightning.VersionControl.Audit.html#base_query/0"},{"type":"function","title":"Lightning.VersionControl.Audit.event/5","doc":"","ref":"Lightning.VersionControl.Audit.html#event/5"},{"type":"function","title":"Lightning.VersionControl.Audit.repo_connection/3","doc":"","ref":"Lightning.VersionControl.Audit.html#repo_connection/3"},{"type":"function","title":"Lightning.VersionControl.Audit.save/1","doc":"","ref":"Lightning.VersionControl.Audit.html#save/1"},{"type":"function","title":"Lightning.VersionControl.Audit.update_changes/1","doc":"Callback implementation for  Lightning.Auditing.Audit.update_changes/1 .","ref":"Lightning.VersionControl.Audit.html#update_changes/1"},{"type":"module","title":"Lightning.VersionControl.GithubClient","doc":"Tesla github http client we use this to make any network requests\nto github from Lightning","ref":"Lightning.VersionControl.GithubClient.html"},{"type":"type","title":"Lightning.VersionControl.GithubClient.option/0","doc":"Options that may be passed to a request function. See `request/2` for detailed descriptions.","ref":"Lightning.VersionControl.GithubClient.html#t:option/0"},{"type":"function","title":"Lightning.VersionControl.GithubClient.build_basic_auth_client/2","doc":"","ref":"Lightning.VersionControl.GithubClient.html#build_basic_auth_client/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.build_bearer_client/1","doc":"","ref":"Lightning.VersionControl.GithubClient.html#build_bearer_client/1"},{"type":"function","title":"Lightning.VersionControl.GithubClient.build_installation_client/1","doc":"","ref":"Lightning.VersionControl.GithubClient.html#build_installation_client/1"},{"type":"function","title":"Lightning.VersionControl.GithubClient.build_oauth_client/0","doc":"","ref":"Lightning.VersionControl.GithubClient.html#build_oauth_client/0"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_blob/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_blob/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_commit/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_commit/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_ref/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_ref/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_repo_dispatch_event/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_repo_dispatch_event/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_repo_secret/4","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_repo_secret/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_tree/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_tree/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.create_workflow_dispatch_event/4","doc":"","ref":"Lightning.VersionControl.GithubClient.html#create_workflow_dispatch_event/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete/3","doc":"Perform a DELETE request.\n\nSee `request/1` or `request/2` for options definition.\n\n    delete(\"/users\")\n    delete(\"/users\", query: [scope: \"admin\"])\n    delete(client, \"/users\")\n    delete(client, \"/users\", query: [scope: \"admin\"])\n    delete(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#delete/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete!/3","doc":"Perform a DELETE request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    delete!(\"/users\")\n    delete!(\"/users\", query: [scope: \"admin\"])\n    delete!(client, \"/users\")\n    delete!(client, \"/users\", query: [scope: \"admin\"])\n    delete!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#delete!/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete_app_grant/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#delete_app_grant/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete_ref/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#delete_ref/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete_repo_content/4","doc":"","ref":"Lightning.VersionControl.GithubClient.html#delete_repo_content/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.delete_repo_secret/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#delete_repo_secret/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get/3","doc":"Perform a GET request.\n\nSee `request/1` or `request/2` for options definition.\n\n    get(\"/users\")\n    get(\"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\")\n    get(client, \"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#get/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get!/3","doc":"Perform a GET request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    get!(\"/users\")\n    get!(\"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\")\n    get!(client, \"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#get!/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_commit/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_commit/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_installation_repos/2","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_installation_repos/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_installations/1","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_installations/1"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_repo/2","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_repo/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_repo_branches/2","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_repo_branches/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_repo_content/4","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_repo_content/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_repo_public_key/2","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_repo_public_key/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.get_repo_secret/3","doc":"","ref":"Lightning.VersionControl.GithubClient.html#get_repo_secret/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.head/3","doc":"Perform a HEAD request.\n\nSee `request/1` or `request/2` for options definition.\n\n    head(\"/users\")\n    head(\"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\")\n    head(client, \"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#head/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.head!/3","doc":"Perform a HEAD request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    head!(\"/users\")\n    head!(\"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\")\n    head!(client, \"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#head!/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.options/3","doc":"Perform a OPTIONS request.\n\nSee `request/1` or `request/2` for options definition.\n\n    options(\"/users\")\n    options(\"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\")\n    options(client, \"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#options/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.options!/3","doc":"Perform a OPTIONS request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    options!(\"/users\")\n    options!(\"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\")\n    options!(client, \"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#options!/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.patch/4","doc":"Perform a PATCH request.\n\nSee `request/1` or `request/2` for options definition.\n\n    patch(\"/users\", %{name: \"Jon\"})\n    patch(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch(client, \"/users\", %{name: \"Jon\"})\n    patch(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#patch/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.patch!/4","doc":"Perform a PATCH request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    patch!(\"/users\", %{name: \"Jon\"})\n    patch!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch!(client, \"/users\", %{name: \"Jon\"})\n    patch!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#patch!/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.post/4","doc":"Perform a POST request.\n\nSee `request/1` or `request/2` for options definition.\n\n    post(\"/users\", %{name: \"Jon\"})\n    post(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    post(client, \"/users\", %{name: \"Jon\"})\n    post(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#post/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.post!/4","doc":"Perform a POST request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    post!(\"/users\", %{name: \"Jon\"})\n    post!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    post!(client, \"/users\", %{name: \"Jon\"})\n    post!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#post!/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.put/4","doc":"Perform a PUT request.\n\nSee `request/1` or `request/2` for options definition.\n\n    put(\"/users\", %{name: \"Jon\"})\n    put(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    put(client, \"/users\", %{name: \"Jon\"})\n    put(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#put/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.put!/4","doc":"Perform a PUT request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    put!(\"/users\", %{name: \"Jon\"})\n    put!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    put!(client, \"/users\", %{name: \"Jon\"})\n    put!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Lightning.VersionControl.GithubClient.html#put!/4"},{"type":"function","title":"Lightning.VersionControl.GithubClient.request/2","doc":"Perform a request.","ref":"Lightning.VersionControl.GithubClient.html#request/2"},{"type":"function","title":"Options - Lightning.VersionControl.GithubClient.request/2","doc":"- `:method` - the request method, one of [`:head`, `:get`, `:delete`, `:trace`, `:options`, `:post`, `:put`, `:patch`]\n- `:url` - either full url e.g. \"http://example.com/some/path\" or just \"/some/path\" if using `Tesla.Middleware.BaseUrl`\n- `:query` - a keyword list of query params, e.g. `[page: 1, per_page: 100]`\n- `:headers` - a keyword list of headers, e.g. `[{\"content-type\", \"text/plain\"}]`\n- `:body` - depends on used middleware:\n    - by default it can be a binary\n    - if using e.g. JSON encoding middleware it can be a nested map\n    - if adapter supports it it can be a Stream with any of the above\n- `:opts` - custom, per-request middleware or adapter options","ref":"Lightning.VersionControl.GithubClient.html#request/2-options"},{"type":"function","title":"Examples - Lightning.VersionControl.GithubClient.request/2","doc":"ExampleApi.request(method: :get, url: \"/users/path\")\n\n    # use shortcut methods\n    ExampleApi.get(\"/users/1\")\n    ExampleApi.post(client, \"/users\", %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#request/2-examples"},{"type":"function","title":"Lightning.VersionControl.GithubClient.request!/2","doc":"Perform request and raise in case of error.\n\nThis is similar to `request/2` behaviour from Tesla 0.x\n\nSee `request/2` for list of available options.","ref":"Lightning.VersionControl.GithubClient.html#request!/2"},{"type":"function","title":"Lightning.VersionControl.GithubClient.trace/3","doc":"Perform a TRACE request.\n\nSee `request/1` or `request/2` for options definition.\n\n    trace(\"/users\")\n    trace(\"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\")\n    trace(client, \"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#trace/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.trace!/3","doc":"Perform a TRACE request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    trace!(\"/users\")\n    trace!(\"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\")\n    trace!(client, \"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Lightning.VersionControl.GithubClient.html#trace!/3"},{"type":"function","title":"Lightning.VersionControl.GithubClient.update_ref/4","doc":"","ref":"Lightning.VersionControl.GithubClient.html#update_ref/4"},{"type":"exception","title":"Lightning.VersionControl.GithubError","doc":"GitHub Error exception","ref":"Lightning.VersionControl.GithubError.html"},{"type":"type","title":"Lightning.VersionControl.GithubError.t/0","doc":"","ref":"Lightning.VersionControl.GithubError.html#t:t/0"},{"type":"function","title":"Lightning.VersionControl.GithubError.api_error/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#api_error/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.file_not_found/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#file_not_found/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.installation_not_found/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#installation_not_found/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.invalid_certificate/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#invalid_certificate/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.invalid_oauth_token/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#invalid_oauth_token/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.misconfigured/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#misconfigured/2"},{"type":"function","title":"Lightning.VersionControl.GithubError.new/3","doc":"","ref":"Lightning.VersionControl.GithubError.html#new/3"},{"type":"function","title":"Lightning.VersionControl.GithubError.repo_secret_not_found/2","doc":"","ref":"Lightning.VersionControl.GithubError.html#repo_secret_not_found/2"},{"type":"module","title":"Lightning.VersionControl.GithubToken","doc":"A module that `uses` Joken to handle building and signing application\ntokens for communicating with github\n\nSee: https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-json-web-token-jwt-for-a-github-app#about-json-web-tokens-jwts","ref":"Lightning.VersionControl.GithubToken.html"},{"type":"function","title":"Lightning.VersionControl.GithubToken.build/2","doc":"","ref":"Lightning.VersionControl.GithubToken.html#build/2"},{"type":"function","title":"Lightning.VersionControl.GithubToken.generate_and_sign/2","doc":"Combines `generate_claims/1` and `encode_and_sign/2`","ref":"Lightning.VersionControl.GithubToken.html#generate_and_sign/2"},{"type":"function","title":"Lightning.VersionControl.GithubToken.generate_and_sign!/2","doc":"Same as `generate_and_sign/2` but raises if error","ref":"Lightning.VersionControl.GithubToken.html#generate_and_sign!/2"},{"type":"function","title":"Lightning.VersionControl.GithubToken.verify_and_validate/3","doc":"Combines `verify/2` and `validate/2`","ref":"Lightning.VersionControl.GithubToken.html#verify_and_validate/3"},{"type":"function","title":"Lightning.VersionControl.GithubToken.verify_and_validate!/3","doc":"Same as `verify_and_validate/2` but raises if error","ref":"Lightning.VersionControl.GithubToken.html#verify_and_validate!/3"},{"type":"module","title":"Lightning.VersionControl.ProjectRepoConnection","doc":"Ecto model for project repo connections","ref":"Lightning.VersionControl.ProjectRepoConnection.html"},{"type":"type","title":"Lightning.VersionControl.ProjectRepoConnection.t/0","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#t:t/0"},{"type":"function","title":"Lightning.VersionControl.ProjectRepoConnection.changeset/2","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#changeset/2"},{"type":"function","title":"Lightning.VersionControl.ProjectRepoConnection.config_path/1","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#config_path/1"},{"type":"function","title":"Lightning.VersionControl.ProjectRepoConnection.configure_changeset/2","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#configure_changeset/2"},{"type":"function","title":"Lightning.VersionControl.ProjectRepoConnection.create_changeset/2","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#create_changeset/2"},{"type":"function","title":"Lightning.VersionControl.ProjectRepoConnection.reconfigure_changeset/2","doc":"","ref":"Lightning.VersionControl.ProjectRepoConnection.html#reconfigure_changeset/2"},{"type":"module","title":"Lightning.WebhookAuthMethods","doc":"Provides functionality for managing webhook authentication methods.\n\nThis module contains functions to create, update, list, and delete authentication methods\nfor webhooks. It supports operations such as scheduling authentication methods for deletion,\npurging them, associating them with triggers, and handling their life cycle within the system.\n\nThe main responsibilities of this module include:\n\n- Creating new webhook authentication methods with `create_auth_method/2`.\n- Associating and disassociating authentication methods with triggers.\n- Updating existing webhook authentication methods with `update_auth_method/3`.\n- Listing webhook authentication methods for a given project or trigger.\n- Finding a webhook authentication method by various identifiers, like API key or username and password.\n- Scheduling webhook authentication methods for deletion and purging them accordingly.","ref":"Lightning.WebhookAuthMethods.html"},{"type":"function","title":"Lightning.WebhookAuthMethods.build/2","doc":"Builds `WebhookAuthMethod` struct, which can include special handling based on the authentication type.\n\nThis function prepares a changeset for the creation or update of a `WebhookAuthMethod`. If the `auth_type` is `:api`, it generates a new API key and includes it in the returned structure.","ref":"Lightning.WebhookAuthMethods.html#build/2"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.build/2","doc":"- `webhook_auth_method`: The `WebhookAuthMethod` struct to be updated.\n  - `params`: A map containing the parameters with which to update the `webhook_auth_method`.","ref":"Lightning.WebhookAuthMethods.html#build/2-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.build/2","doc":"- Returns the updated `WebhookAuthMethod` struct with changes applied. If `auth_type` is `:api`, an API key is generated and included.","ref":"Lightning.WebhookAuthMethods.html#build/2-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.build/2","doc":"- Building for an API type auth method:\n\n    ```elixir\n    iex> Lightning.WebhookAuthMethods.build(%WebhookAuthMethod{}, %{auth_type: \"api\"})\n    %WebhookAuthMethod{api_key: some_new_api_key}\n    ```\n\n  - Building for a non-API type auth method:\n\n    ```elixir\n    iex> Lightning.WebhookAuthMethods.build(%WebhookAuthMethod{auth_type: :other}, %{})\n    %WebhookAuthMethod{}\n    ```","ref":"Lightning.WebhookAuthMethods.html#build/2-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.create_auth_method/2","doc":"Creates a new `WebhookAuthMethod` and associated audit records.\n\nThis function supports creating a `WebhookAuthMethod` either standalone or associated with a `Trigger`. It performs a database transaction that includes creating the auth method and its audit trail.","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.create_auth_method/2","doc":"- `attrs`: A map of attributes used to create the `WebhookAuthMethod`.\n  - `actor`: The user performing the action, provided as a `%User{}` struct.","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2-parameters"},{"type":"function","title":"Overloads - Lightning.WebhookAuthMethods.create_auth_method/2","doc":"- When called with a map of attributes, it creates a `WebhookAuthMethod` without associating it to a trigger.\n  - When called with a `Trigger` struct and a map of attributes, it creates a `WebhookAuthMethod` and associates it with the provided trigger.","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2-overloads"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.create_auth_method/2","doc":"- `{:ok, %WebhookAuthMethod{}}`: A tuple containing `:ok` and the newly created `WebhookAuthMethod` struct if the creation was successful.\n  - `{:error, %Ecto.Changeset{}}`: A tuple containing `:error` and the changeset with errors if the creation failed.","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.create_auth_method/2","doc":"- Creating a `WebhookAuthMethod` without an associated trigger:\n\n    ```elixir\n    iex> create_auth_method(%{valid_attributes}, actor: %User{})\n    {:ok, %WebhookAuthMethod{}}\n\n    iex> create_auth_method(%{invalid_attributes}, actor: %User{})\n    {:error, %Ecto.Changeset{}}\n    ```\n\n  - Creating a `WebhookAuthMethod` with an associated trigger:\n\n    ```elixir\n    iex> create_auth_method(%Trigger{}, %{valid_attributes}, actor: %User{})\n    {:ok, %WebhookAuthMethod{}}\n\n    iex> create_auth_method(%Trigger{}, %{invalid_attributes}, actor: %User{})\n    {:error, %Ecto.Changeset{}}\n    ```","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2-examples"},{"type":"function","title":"Notes - Lightning.WebhookAuthMethods.create_auth_method/2","doc":"- This function starts a `Repo.transaction` to ensure that all database operations are atomic. If any part of the transaction fails, all changes will be rolled back.\n  - Audit events are created for both the creation of the `WebhookAuthMethod` and its association with a trigger, if applicable.","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/2-notes"},{"type":"function","title":"Lightning.WebhookAuthMethods.create_auth_method/3","doc":"","ref":"Lightning.WebhookAuthMethods.html#create_auth_method/3"},{"type":"function","title":"Lightning.WebhookAuthMethods.delete_auth_method/1","doc":"Deletes a given `WebhookAuthMethod` from the database.\n\nThe function takes a `WebhookAuthMethod` struct and runs to delete it. If the deletion is successful, it returns an `:ok` tuple with the deleted `WebhookAuthMethod` struct. If the deletion fails due to a constraint, such as a foreign key reference, it returns an error tuple.","ref":"Lightning.WebhookAuthMethods.html#delete_auth_method/1"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.delete_auth_method/1","doc":"- `auth_method`: The `WebhookAuthMethod` struct to delete.","ref":"Lightning.WebhookAuthMethods.html#delete_auth_method/1-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.delete_auth_method/1","doc":"- `{:ok, struct}`: A tuple containing `:ok` and the deleted `WebhookAuthMethod` struct if the deletion succeeds.\n  - `{:error, reason}`: A tuple containing `:error` and the reason for failure if the deletion fails.","ref":"Lightning.WebhookAuthMethods.html#delete_auth_method/1-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.delete_auth_method/1","doc":"- Successful deletion:\n\n    ```elixir\n    iex> delete_auth_method(%WebhookAuthMethod{id: \"some_id\"})\n    {:ok, %WebhookAuthMethod{}}\n    ```\n\n  - Deletion fails due to the item not existing or other conflict:\n\n    ```elixir\n    iex> delete_auth_method(%WebhookAuthMethod{id: \"non_existing_id\"})\n    {:error, reason}\n    ```","ref":"Lightning.WebhookAuthMethods.html#delete_auth_method/1-examples"},{"type":"function","title":"Notes - Lightning.WebhookAuthMethods.delete_auth_method/1","doc":"- It is important to ensure that the `WebhookAuthMethod` is not being referenced by other entities before trying deletion to avoid conflicts.\n  - This function will return an error tuple if the `WebhookAuthMethod` struct passed to it does not exist in the database.","ref":"Lightning.WebhookAuthMethods.html#delete_auth_method/1-notes"},{"type":"function","title":"Lightning.WebhookAuthMethods.find_by_api_key/2","doc":"Retrieves a `WebhookAuthMethod` that matches the given API key for a specified project.\n\nIt uses a secure comparison to match the API key, ensuring that timing attacks are mitigated.","ref":"Lightning.WebhookAuthMethods.html#find_by_api_key/2"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.find_by_api_key/2","doc":"- `api_key`: The API key as a binary string to match against existing `WebhookAuthMethod` records.\n  - `project`: The `Project` struct to scope the search within its associated `WebhookAuthMethod`s.","ref":"Lightning.WebhookAuthMethods.html#find_by_api_key/2-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.find_by_api_key/2","doc":"- A `WebhookAuthMethod` struct if a matching API key is found within the given project's scope.\n  - `nil` if there is no `WebhookAuthMethod` with the given API key for the project.","ref":"Lightning.WebhookAuthMethods.html#find_by_api_key/2-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.find_by_api_key/2","doc":"- When a matching `WebhookAuthMethod` is found:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_api_key(\"existing_api_key\", %Project{id: \"existing_project_id\"})\n    %WebhookAuthMethod{}\n    ```\n\n  - When there is no matching `WebhookAuthMethod`:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_api_key(\"non_existing_api_key\", %Project{id: \"existing_project_id\"})\n    nil\n    ```","ref":"Lightning.WebhookAuthMethods.html#find_by_api_key/2-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.find_by_id!/2","doc":"Retrieves a `WebhookAuthMethod` by its ID, raising an exception if not found.\n\nThis function is intended for situations where the `WebhookAuthMethod` is expected to exist, and not finding one is an exceptional case that should halt normal flow with an error.","ref":"Lightning.WebhookAuthMethods.html#find_by_id!/2"},{"type":"function","title":"Parameter - Lightning.WebhookAuthMethods.find_by_id!/2","doc":"- `id`: The ID of the `WebhookAuthMethod` to retrieve.","ref":"Lightning.WebhookAuthMethods.html#find_by_id!/2-parameter"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.find_by_id!/2","doc":"- Returns the `WebhookAuthMethod` struct if found.","ref":"Lightning.WebhookAuthMethods.html#find_by_id!/2-returns"},{"type":"function","title":"Errors - Lightning.WebhookAuthMethods.find_by_id!/2","doc":"- Raises `Ecto.NoResultsError` if there is no `WebhookAuthMethod` with the given ID.","ref":"Lightning.WebhookAuthMethods.html#find_by_id!/2-errors"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.find_by_id!/2","doc":"- When a `WebhookAuthMethod` with the given ID exists:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_id!(\"existing_id\")\n    %WebhookAuthMethod{}\n    ```\n\n  - When there is no `WebhookAuthMethod` with the given ID:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_id!(\"non_existing_id\")\n    ** (Ecto.NoResultsError)\n    ```","ref":"Lightning.WebhookAuthMethods.html#find_by_id!/2-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.find_by_username_and_password/3","doc":"Retrieves a `WebhookAuthMethod` that matches the given username and password within the scope of a specified project.\n\nThe function checks if the provided password is correct for the given username and project. If the password is valid, the corresponding `WebhookAuthMethod` is returned. It is important to handle password comparison securely to prevent timing attacks.","ref":"Lightning.WebhookAuthMethods.html#find_by_username_and_password/3"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.find_by_username_and_password/3","doc":"- `username`: The username as a string to match against the `WebhookAuthMethod` records.\n  - `password`: The plaintext password as a string which will be securely compared to the stored password.\n  - `project`: The `Project` struct to scope the search for the `WebhookAuthMethod`.","ref":"Lightning.WebhookAuthMethods.html#find_by_username_and_password/3-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.find_by_username_and_password/3","doc":"- Returns the matching `WebhookAuthMethod` struct if the username and password are correct within the given project's scope.\n  - Returns `nil` if no matching record is found or if the password is invalid.","ref":"Lightning.WebhookAuthMethods.html#find_by_username_and_password/3-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.find_by_username_and_password/3","doc":"- When a matching `WebhookAuthMethod` is found and the password is valid:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_username_and_password(\"existing_username\", \"valid_password\", %Project{id: \"existing_project_id\"})\n    %WebhookAuthMethod{}\n    ```\n\n  - When the username is found but the password is invalid or no matching record is found:\n\n    ```elixir\n    iex> Lightning.Workflows.find_by_username_and_password(\"existing_username\", \"invalid_password\", %Project{id: \"existing_project_id\"})\n    nil\n    ```","ref":"Lightning.WebhookAuthMethods.html#find_by_username_and_password/3-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.list_for_project/1","doc":"Retrieves a list of `WebhookAuthMethod`s associated with a specific `Project`.\n\nThe function filters `WebhookAuthMethod`s by the provided `Project`'s ID and excludes any methods that are scheduled for deletion.","ref":"Lightning.WebhookAuthMethods.html#list_for_project/1"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.list_for_project/1","doc":"- `project`: The `Project` struct containing the ID of the project for which to list the authentication methods.","ref":"Lightning.WebhookAuthMethods.html#list_for_project/1-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.list_for_project/1","doc":"- A list of `WebhookAuthMethod` structs. This can be an empty list if no methods are associated with the project or if the project does not exist.","ref":"Lightning.WebhookAuthMethods.html#list_for_project/1-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.list_for_project/1","doc":"- When the project exists and has associated auth methods:\n\n    ```elixir\n    iex> list_for_project(%Project{id: \"existing_project_id\"})\n    [%WebhookAuthMethod{}, ...]\n    ```\n\n  - When the project does not exist or has no associated auth methods:\n\n    ```elixir\n    iex> list_for_project(%Project{id: \"non_existing_project_id\"})\n    []\n    ```","ref":"Lightning.WebhookAuthMethods.html#list_for_project/1-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.list_for_trigger/1","doc":"Retrieves a list of `WebhookAuthMethod`s associated with the specified `Trigger`.\n\nThis function filters out `WebhookAuthMethod`s that are scheduled for deletion, ensuring that only active methods are returned.","ref":"Lightning.WebhookAuthMethods.html#list_for_trigger/1"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.list_for_trigger/1","doc":"- `trigger`: A `Trigger` struct whose associated `WebhookAuthMethod`s are to be retrieved.","ref":"Lightning.WebhookAuthMethods.html#list_for_trigger/1-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.list_for_trigger/1","doc":"- A list of `WebhookAuthMethod` structs associated with the `Trigger`. If the `Trigger` has no associated methods or if they are all scheduled for deletion, the list will be empty.","ref":"Lightning.WebhookAuthMethods.html#list_for_trigger/1-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.list_for_trigger/1","doc":"- When the `Trigger` has associated `WebhookAuthMethod`s not scheduled for deletion:\n\n    ```elixir\n    iex> Lightning.Workflows.list_for_trigger(%Trigger{id: \"existing_trigger_id\"})\n    [%WebhookAuthMethod{}, ...]\n    ```\n\n  - When the `Trigger` has no associated `WebhookAuthMethod`s or they are all scheduled for deletion:\n\n    ```elixir\n    iex> Lightning.Workflows.list_for_trigger(%Trigger{id: \"trigger_without_methods\"})\n    []\n    ```","ref":"Lightning.WebhookAuthMethods.html#list_for_trigger/1-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.perform/1","doc":"Performs cleanup of `WebhookAuthMethod` records that are marked for permanent deletion.","ref":"Lightning.WebhookAuthMethods.html#perform/1"},{"type":"function","title":"Details - Lightning.WebhookAuthMethods.perform/1","doc":"This function, when invoked with a job argument containing `%{\"type\" => \"purge_deleted\"}`, performs the following operations:\n\n1. It queries all `WebhookAuthMethod` records that are scheduled for deletion (i.e., their `scheduled_deletion` timestamp is in the past).\n2. It then disassociates each of these records from any associated triggers.\n3. Finally, it deletes the `WebhookAuthMethod` records from the database.\n\nThe function operates within the context of an Oban job, utilizing the `perform/1` callback expected by the Oban.Worker behaviour.","ref":"Lightning.WebhookAuthMethods.html#perform/1-details"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.perform/1","doc":"- A `%Oban.Job{args: %{\"type\" => \"purge_deleted\"}}` struct, indicating the job should perform a purge operation.","ref":"Lightning.WebhookAuthMethods.html#perform/1-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.perform/1","doc":"A tuple `{:ok, %{disassociated_count: integer(), deleted_count: integer()}}` where:\n- `:ok` indicates the operation was successful.\n- `disassociated_count` is the number of `WebhookAuthMethod` records successfully disassociated from triggers.\n- `deleted_count` is the number of `WebhookAuthMethod` records successfully deleted.","ref":"Lightning.WebhookAuthMethods.html#perform/1-returns"},{"type":"function","title":"Example - Lightning.WebhookAuthMethods.perform/1","doc":"```elixir\n%Oban.Job{\nargs: %{\"type\" => \"purge_deleted\"}\n}\n|> MyModule.perform()\n# => {:ok, %{disassociated_count: 2, deleted_count: 2}}\n```","ref":"Lightning.WebhookAuthMethods.html#perform/1-example"},{"type":"function","title":"Lightning.WebhookAuthMethods.schedule_for_deletion/2","doc":"Schedules a `WebhookAuthMethod` for deletion by setting its `scheduled_deletion` date.\n\nThis function does not delete the record immediately. Instead, it sets the `scheduled_deletion` field to a date in the future as defined by the application's environment settings.\nThe default behavior, in the absence of environment configuration, is to schedule the deletion for the current date and time, effectively marking it for immediate deletion.\n\nThe scheduled deletion date is determined by the `:purge_deleted_after_days` configuration in the application environment.\nIf this configuration is not present, the function defaults to 0 days, which schedules the deletion for the current date and time.","ref":"Lightning.WebhookAuthMethods.html#schedule_for_deletion/2"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.schedule_for_deletion/2","doc":"- `webhook_auth_method`: A `WebhookAuthMethod` struct that is to be scheduled for deletion.","ref":"Lightning.WebhookAuthMethods.html#schedule_for_deletion/2-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.schedule_for_deletion/2","doc":"- `{:ok, webhook_auth_method}`: Returns an `:ok` tuple with the updated webhook auth method struct if the\n      update was successful.\n  - `{:error, changeset}`: Returns an `:error` tuple with the changeset if the update failed.","ref":"Lightning.WebhookAuthMethods.html#schedule_for_deletion/2-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.schedule_for_deletion/2","doc":"- When a webhook auth method is successfully scheduled for deletion:\n\n    ```elixir\n    iex> Lightning.Workflows.schedule_for_deletion(%WebhookAuthMethod{id: some_id})\n    {:ok, %WebhookAuthMethod{scheduled_deletion: deletion_date}}\n    ```\n\n  - When scheduling for deletion fails due to validation errors:\n\n    ```elixir\n    iex> Lightning.Workflows.schedule_for_deletion(%WebhookAuthMethod{})\n    {:error, %Ecto.Changeset{}}\n    ```","ref":"Lightning.WebhookAuthMethods.html#schedule_for_deletion/2-examples"},{"type":"function","title":"Lightning.WebhookAuthMethods.update_auth_method/3","doc":"Updates an existing `WebhookAuthMethod` with the provided attributes and creates an audit event.\n\nThis function applies the given changes to the specified `WebhookAuthMethod` and records the update action in the audit log. It wraps the operations within a database transaction to ensure data integrity.","ref":"Lightning.WebhookAuthMethods.html#update_auth_method/3"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.update_auth_method/3","doc":"- `webhook_auth_method`: The `WebhookAuthMethod` struct to be updated.\n  - `attrs`: A map containing the updated values for the fields of the `WebhookAuthMethod`.\n  - `actor`: The user performing the update, represented by a `%User{}` struct.","ref":"Lightning.WebhookAuthMethods.html#update_auth_method/3-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.update_auth_method/3","doc":"- `{:ok, %WebhookAuthMethod{}}`: A tuple containing `:ok` and the updated `WebhookAuthMethod` struct if the update is successful.\n  - `{:error, %Ecto.Changeset{}}`: A tuple containing `:error` and the changeset with errors if the update fails.","ref":"Lightning.WebhookAuthMethods.html#update_auth_method/3-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.update_auth_method/3","doc":"- Successful update:\n\n    ```elixir\n    iex> update_auth_method(webhook_auth_method, %{field: new_value}, actor: %User{})\n    {:ok, %WebhookAuthMethod{}}\n    ```\n\n  - Update fails due to invalid data:\n\n    ```elixir\n    iex> update_auth_method(webhook_auth_method, %{field: bad_value}, actor: %User{})\n    {:error, %Ecto.Changeset{}}\n    ```","ref":"Lightning.WebhookAuthMethods.html#update_auth_method/3-examples"},{"type":"function","title":"Notes - Lightning.WebhookAuthMethods.update_auth_method/3","doc":"- The function uses `Ecto.Multi` to perform a transaction, ensuring that either all changes apply successfully, or none do if there's an error.\n  - An audit event is recorded with the `Lightning.WebhookAuthMethodAudit.event/4` function, capturing the details of the update and the acting user.","ref":"Lightning.WebhookAuthMethods.html#update_auth_method/3-notes"},{"type":"function","title":"Lightning.WebhookAuthMethods.update_trigger_auth_methods/3","doc":"Updates the association of `WebhookAuthMethod`s for a given `Trigger` and logs the changes as audit events.\n\nThis function replaces the current `WebhookAuthMethod` associations of a `Trigger` with the provided list of `WebhookAuthMethod`s. It creates audit events for each added and removed `WebhookAuthMethod`, ensuring full traceability of changes.","ref":"Lightning.WebhookAuthMethods.html#update_trigger_auth_methods/3"},{"type":"function","title":"Parameters - Lightning.WebhookAuthMethods.update_trigger_auth_methods/3","doc":"- `trigger`: The `Trigger` struct whose associated `WebhookAuthMethod`s are to be updated.\n  - `auth_methods`: A list of `WebhookAuthMethod` structs to be associated with the `Trigger`.\n  - `actor`: The user performing the update, represented by a `%User{}` struct.","ref":"Lightning.WebhookAuthMethods.html#update_trigger_auth_methods/3-parameters"},{"type":"function","title":"Returns - Lightning.WebhookAuthMethods.update_trigger_auth_methods/3","doc":"- `{:ok, %Trigger{}}`: A tuple containing `:ok` and the updated `Trigger` struct if the associations are updated successfully.\n  - `{:error, %Ecto.Changeset{}}`: A tuple containing `:error` and the changeset with errors if the update fails.","ref":"Lightning.WebhookAuthMethods.html#update_trigger_auth_methods/3-returns"},{"type":"function","title":"Examples - Lightning.WebhookAuthMethods.update_trigger_auth_methods/3","doc":"- Successful association update:\n\n    ```elixir\n    iex> update_trigger_auth_methods(trigger, [webhook_auth_method], actor: %User{})\n    {:ok, %Trigger{}}\n    ```\n\n  - Update fails due to an invalid changeset:\n\n    ```elixir\n    iex> update_trigger_auth_methods(trigger, [invalid_webhook_auth_method], actor: %User{})\n    {:error, %Ecto.Changeset{}}\n    ```","ref":"Lightning.WebhookAuthMethods.html#update_trigger_auth_methods/3-examples"},{"type":"function","title":"Notes - Lightning.WebhookAuthMethods.update_trigger_auth_methods/3","doc":"- The function uses `Ecto.Multi` to perform a transaction, which ensures either all changes are applied or none at all if an error occurs.\n  - Audit events for the additions and removals of `WebhookAuthMethod`s are recorded using `WebhookAuthMethodAudit.event/4`.\n  - The function preloads the existing `webhook_auth_methods` of the `Trigger` before performing updates.","ref":"Lightning.WebhookAuthMethods.html#update_trigger_auth_methods/3-notes"},{"type":"module","title":"Lightning.WorkOrder","doc":"Ecto model for WorkOrders.","ref":"Lightning.WorkOrder.html"},{"type":"type","title":"Lightning.WorkOrder.t/0","doc":"","ref":"Lightning.WorkOrder.html#t:t/0"},{"type":"function","title":"Lightning.WorkOrder.validate/1","doc":"","ref":"Lightning.WorkOrder.html#validate/1"},{"type":"module","title":"Lightning.Workers","doc":"Lightning uses external worker processes to execute workflow jobs.\n\nThis module deals with the security tokens and the formatting used on\nthe communication with the workers.","ref":"Lightning.Workers.html"},{"type":"function","title":"Lightning.Workers.generate_run_token/2","doc":"","ref":"Lightning.Workers.html#generate_run_token/2"},{"type":"function","title":"Lightning.Workers.verify_run_token/2","doc":"Verifies and validates a run token.\n\nIt requires a context map with the following keys:\n\n- `:id` - the run id that the token was issued with.\n\nOptionally takes a context map that will be passed to the validation:\n\n- `:current_time` - the current time as a `DateTime` struct.","ref":"Lightning.Workers.html#verify_run_token/2"},{"type":"function","title":"Lightning.Workers.verify_worker_token/2","doc":"Verifies and validates a worker token.\n\nOptionally takes a context map that will be passed to the validation:\n\n- `:current_time` - the current time as a `DateTime` struct.","ref":"Lightning.Workers.html#verify_worker_token/2"},{"type":"module","title":"Lightning.Workers.RunToken","doc":"JWT token configuration to verify if workers work is legit.","ref":"Lightning.Workers.RunToken.html"},{"type":"function","title":"Lightning.Workers.RunToken.generate_and_sign/2","doc":"Combines `generate_claims/1` and `encode_and_sign/2`","ref":"Lightning.Workers.RunToken.html#generate_and_sign/2"},{"type":"function","title":"Lightning.Workers.RunToken.generate_and_sign!/2","doc":"Same as `generate_and_sign/2` but raises if error","ref":"Lightning.Workers.RunToken.html#generate_and_sign!/2"},{"type":"function","title":"Lightning.Workers.RunToken.verify_and_validate/3","doc":"Combines `verify/2` and `validate/2`","ref":"Lightning.Workers.RunToken.html#verify_and_validate/3"},{"type":"function","title":"Lightning.Workers.RunToken.verify_and_validate!/3","doc":"Same as `verify_and_validate/2` but raises if error","ref":"Lightning.Workers.RunToken.html#verify_and_validate!/3"},{"type":"module","title":"Lightning.Workers.WorkerToken","doc":"JWT token configuration to authenticate workers.","ref":"Lightning.Workers.WorkerToken.html"},{"type":"function","title":"Lightning.Workers.WorkerToken.generate_and_sign/2","doc":"Combines `generate_claims/1` and `encode_and_sign/2`","ref":"Lightning.Workers.WorkerToken.html#generate_and_sign/2"},{"type":"function","title":"Lightning.Workers.WorkerToken.generate_and_sign!/2","doc":"Same as `generate_and_sign/2` but raises if error","ref":"Lightning.Workers.WorkerToken.html#generate_and_sign!/2"},{"type":"function","title":"Lightning.Workers.WorkerToken.verify_and_validate/3","doc":"Combines `verify/2` and `validate/2`","ref":"Lightning.Workers.WorkerToken.html#verify_and_validate/3"},{"type":"function","title":"Lightning.Workers.WorkerToken.verify_and_validate!/3","doc":"Same as `verify_and_validate/2` but raises if error","ref":"Lightning.Workers.WorkerToken.html#verify_and_validate!/3"},{"type":"task","title":"mix lightning.download_adaptor_registry_cache","doc":"Downloads the adaptor registry json cache\nUse --path to specify the location","ref":"Mix.Tasks.Lightning.DownloadAdaptorRegistryCache.html"},{"type":"function","title":"Mix.Tasks.Lightning.DownloadAdaptorRegistryCache.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Lightning.DownloadAdaptorRegistryCache.html#run/1"},{"type":"task","title":"mix lightning.gen_encryption_key","doc":"Helper to generate a unique encryption key for Vault","ref":"Mix.Tasks.Lightning.GenEncryptionKey.html"},{"type":"task","title":"mix lightning.gen_worker_keys","doc":"Helper to generate the private and public keys for worker authentication","ref":"Mix.Tasks.Lightning.GenWorkerKeys.html"},{"type":"task","title":"mix lightning.install_adaptor_icons","doc":"Installs the adaptor icons","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html"},{"type":"type","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.option/0","doc":"Options that may be passed to a request function. See `request/2` for detailed descriptions.","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#t:option/0"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.get/3","doc":"Perform a GET request.\n\nSee `request/1` or `request/2` for options definition.\n\n    get(\"/users\")\n    get(\"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\")\n    get(client, \"/users\", query: [scope: \"admin\"])\n    get(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#get/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.get!/3","doc":"Perform a GET request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    get!(\"/users\")\n    get!(\"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\")\n    get!(client, \"/users\", query: [scope: \"admin\"])\n    get!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#get!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.head/3","doc":"Perform a HEAD request.\n\nSee `request/1` or `request/2` for options definition.\n\n    head(\"/users\")\n    head(\"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\")\n    head(client, \"/users\", query: [scope: \"admin\"])\n    head(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#head/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.head!/3","doc":"Perform a HEAD request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    head!(\"/users\")\n    head!(\"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\")\n    head!(client, \"/users\", query: [scope: \"admin\"])\n    head!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#head!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.options/3","doc":"Perform a OPTIONS request.\n\nSee `request/1` or `request/2` for options definition.\n\n    options(\"/users\")\n    options(\"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\")\n    options(client, \"/users\", query: [scope: \"admin\"])\n    options(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#options/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.options!/3","doc":"Perform a OPTIONS request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    options!(\"/users\")\n    options!(\"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\")\n    options!(client, \"/users\", query: [scope: \"admin\"])\n    options!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#options!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.patch/4","doc":"Perform a PATCH request.\n\nSee `request/1` or `request/2` for options definition.\n\n    patch(\"/users\", %{name: \"Jon\"})\n    patch(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch(client, \"/users\", %{name: \"Jon\"})\n    patch(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#patch/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.patch!/4","doc":"Perform a PATCH request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    patch!(\"/users\", %{name: \"Jon\"})\n    patch!(\"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])\n    patch!(client, \"/users\", %{name: \"Jon\"})\n    patch!(client, \"/users\", %{name: \"Jon\"}, query: [scope: \"admin\"])","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#patch!/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.request/2","doc":"Perform a request.","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#request/2"},{"type":"function","title":"Options - Mix.Tasks.Lightning.InstallAdaptorIcons.request/2","doc":"- `:method` - the request method, one of [`:head`, `:get`, `:delete`, `:trace`, `:options`, `:post`, `:put`, `:patch`]\n- `:url` - either full url e.g. \"http://example.com/some/path\" or just \"/some/path\" if using `Tesla.Middleware.BaseUrl`\n- `:query` - a keyword list of query params, e.g. `[page: 1, per_page: 100]`\n- `:headers` - a keyword list of headers, e.g. `[{\"content-type\", \"text/plain\"}]`\n- `:body` - depends on used middleware:\n    - by default it can be a binary\n    - if using e.g. JSON encoding middleware it can be a nested map\n    - if adapter supports it it can be a Stream with any of the above\n- `:opts` - custom, per-request middleware or adapter options","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#request/2-options"},{"type":"function","title":"Examples - Mix.Tasks.Lightning.InstallAdaptorIcons.request/2","doc":"ExampleApi.request(method: :get, url: \"/users/path\")\n\n    # use shortcut methods\n    ExampleApi.get(\"/users/1\")\n    ExampleApi.post(client, \"/users\", %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#request/2-examples"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.request!/2","doc":"Perform request and raise in case of error.\n\nThis is similar to `request/2` behaviour from Tesla 0.x\n\nSee `request/2` for list of available options.","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#request!/2"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.trace/3","doc":"Perform a TRACE request.\n\nSee `request/1` or `request/2` for options definition.\n\n    trace(\"/users\")\n    trace(\"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\")\n    trace(client, \"/users\", query: [scope: \"admin\"])\n    trace(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#trace/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallAdaptorIcons.trace!/3","doc":"Perform a TRACE request.\n\nSee `request!/1` or `request!/2` for options definition.\n\n    trace!(\"/users\")\n    trace!(\"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\")\n    trace!(client, \"/users\", query: [scope: \"admin\"])\n    trace!(client, \"/users\", body: %{name: \"Jon\"})","ref":"Mix.Tasks.Lightning.InstallAdaptorIcons.html#trace!/3"},{"type":"task","title":"mix lightning.install_runtime","doc":"Installs the following NodeJS packages:\n\n- core\n- language-common","ref":"Mix.Tasks.Lightning.InstallRuntime.html"},{"type":"function","title":"Mix.Tasks.Lightning.InstallRuntime.packages/0","doc":"","ref":"Mix.Tasks.Lightning.InstallRuntime.html#packages/0"},{"type":"function","title":"Mix.Tasks.Lightning.InstallRuntime.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Lightning.InstallRuntime.html#run/1"},{"type":"task","title":"mix lightning.install_schemas","doc":"Install the credential json schemas\nUse --exclude language-package1, language-package2 to exclude specific packages","ref":"Mix.Tasks.Lightning.InstallSchemas.html"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.body/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:body/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.headers/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:headers/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.method/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:method/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.options/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:options/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.params/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:params/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.request/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:request/0"},{"type":"type","title":"Mix.Tasks.Lightning.InstallSchemas.url/0","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#t:url/0"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.delete/3","doc":"Issues a DELETE request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#delete/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.delete!/3","doc":"Issues a DELETE request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#delete!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.fetch_schemas/2","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#fetch_schemas/2"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.get/3","doc":"Issues a GET request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#get/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.get!/3","doc":"Issues a GET request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#get!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.head/3","doc":"Issues a HEAD request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#head/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.head!/3","doc":"Issues a HEAD request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#head!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.options/3","doc":"Issues an OPTIONS request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#options/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.options!/3","doc":"Issues a OPTIONS request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#options!/3"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.parse_excluded/1","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#parse_excluded/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.patch/4","doc":"Issues a PATCH request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#patch/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.patch!/4","doc":"Issues a PATCH request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#patch!/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.persist_schema/2","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#persist_schema/2"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.post/4","doc":"Issues a POST request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#post/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.post!/4","doc":"Issues a POST request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#post!/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_headers/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_headers/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_request_body/1","doc":"Callback implementation for  HTTPoison.Base.process_request_body/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_request_body/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_request_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_request_headers/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_request_headers/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_request_options/1","doc":"Callback implementation for  HTTPoison.Base.process_request_options/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_request_options/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_request_params/1","doc":"Callback implementation for  HTTPoison.Base.process_request_params/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_request_params/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_request_url/1","doc":"Callback implementation for  HTTPoison.Base.process_request_url/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_request_url/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_response/1","doc":"Callback implementation for  HTTPoison.Base.process_response/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_response/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_response_body/1","doc":"Callback implementation for  HTTPoison.Base.process_response_body/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_response_body/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_response_chunk/1","doc":"Callback implementation for  HTTPoison.Base.process_response_chunk/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_response_chunk/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_response_headers/1","doc":"Callback implementation for  HTTPoison.Base.process_response_headers/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_response_headers/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_response_status_code/1","doc":"Callback implementation for  HTTPoison.Base.process_response_status_code/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_response_status_code/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_status_code/1","doc":"Callback implementation for  HTTPoison.Base.process_status_code/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_status_code/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.process_url/1","doc":"Callback implementation for  HTTPoison.Base.process_url/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#process_url/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.put/4","doc":"Issues a PUT request to the given url.\n\nReturns `{:ok, response}` if the request is successful, `{:error, reason}`\notherwise.\n\nSee `request/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#put/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.put!/4","doc":"Issues a PUT request to the given url, raising an exception in case of\nfailure.\n\nIf the request does not fail, the response is returned.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#put!/4"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.request/1","doc":"Issues an HTTP request using an `HTTPoison.Request` struct.\n\nThis function returns `{:ok, response}`, `{:ok, async_response}`, or `{:ok, maybe_redirect}`\nif the request is successful, `{:error, reason}` otherwise.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/1"},{"type":"function","title":"Redirect handling - Mix.Tasks.Lightning.InstallSchemas.request/1","doc":"If the option `:follow_redirect` is given, HTTP redirects are automatically follow if\nthe method is set to `:get` or `:head` and the response's `status_code` is `301`, `302` or\n`307`.\n\nIf the method is set to `:post`, then the only `status_code` that get's automatically\nfollowed is `303`.\n\nIf any other method or `status_code` is returned, then this function returns a\nreturns a `{:ok, %HTTPoison.MaybeRedirect{}}` containing the `redirect_url` for you to\nre-request with the method set to `:get`.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/1-redirect-handling"},{"type":"function","title":"Examples - Mix.Tasks.Lightning.InstallSchemas.request/1","doc":"request = %HTTPoison.Request{\n      method: :post,\n      url: \"https://my.website.com\",\n      body: \"{\\\"foo\\\": 3}\",\n      headers: [{\"Accept\", \"application/json\"}]\n    }\n\n    request(request)","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/1-examples"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.request/5","doc":"Issues an HTTP request with the given method to the given url.\n\nThis function is usually used indirectly by `get/3`, `post/4`, `put/4`, etc\n\nArgs:\n  * `method` - HTTP method as an atom (`:get`, `:head`, `:post`, `:put`,\n    `:delete`, etc.)\n  * `url` - target url as a binary string or char list\n  * `body` - request body. See more below\n  * `headers` - HTTP headers as an orddict (e.g., `[{\"Accept\", \"application/json\"}]`)\n  * `options` - Keyword list of options\n\nBody: see type `HTTPoison.Request`\n\nOptions: see type `HTTPoison.Request`\n\nThis function returns `{:ok, response}`, `{:ok, async_response}`, or `{:ok, maybe_redirect}`\nif the request is successful, `{:error, reason}` otherwise.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/5"},{"type":"function","title":"Redirect handling - Mix.Tasks.Lightning.InstallSchemas.request/5","doc":"If the option `:follow_redirect` is given, HTTP redirects are automatically follow if\nthe method is set to `:get` or `:head` and the response's `status_code` is `301`, `302` or\n`307`.\n\nIf the method is set to `:post`, then the only `status_code` that get's automatically\nfollowed is `303`.\n\nIf any other method or `status_code` is returned, then this function returns a\nreturns a `{:ok, %HTTPoison.MaybeRedirect{}}` containing the `redirect_url` for you to\nre-request with the method set to `:get`.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/5-redirect-handling"},{"type":"function","title":"Examples - Mix.Tasks.Lightning.InstallSchemas.request/5","doc":"request(:post, \"https://my.website.com\", \"{\\\"foo\\\": 3}\", [{\"Accept\", \"application/json\"}])","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request/5-examples"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.request!/1","doc":"Issues an HTTP request an `HTTPoison.Request` struct.\nexception in case of failure.\n\n`request!/1` works exactly like `request/1` but it returns just the\nresponse in case of a successful request, raising an exception in case the\nrequest fails.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request!/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.request!/5","doc":"Issues an HTTP request with the given method to the given url, raising an\nexception in case of failure.\n\n`request!/5` works exactly like `request/5` but it returns just the\nresponse in case of a successful request, raising an exception in case the\nrequest fails.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#request!/5"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Lightning.InstallSchemas.html#run/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.start/0","doc":"Starts HTTPoison and its dependencies.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#start/0"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.stream_next/1","doc":"Requests the next message to be streamed for a given `HTTPoison.AsyncResponse`.\n\nSee `request!/5` for more detailed information.","ref":"Mix.Tasks.Lightning.InstallSchemas.html#stream_next/1"},{"type":"function","title":"Mix.Tasks.Lightning.InstallSchemas.write_schema/3","doc":"","ref":"Mix.Tasks.Lightning.InstallSchemas.html#write_schema/3"},{"type":"task","title":"mix lightning.merge_projects","doc":"Merges two project state files (JSON) and outputs the result.\n\nThis task is useful for merging sandbox projects.\nIt takes two state files (source and target) and produces a merged\nstate that can be imported.","ref":"Mix.Tasks.Lightning.MergeProjects.html"},{"type":"task","title":"Usage - mix lightning.merge_projects","doc":"mix lightning.merge_projects SOURCE_FILE TARGET_FILE [OPTIONS]","ref":"Mix.Tasks.Lightning.MergeProjects.html#module-usage"},{"type":"task","title":"Arguments - mix lightning.merge_projects","doc":"* `SOURCE_FILE` - Path to the source project state JSON file\n  * `TARGET_FILE` - Path to the target project state JSON file","ref":"Mix.Tasks.Lightning.MergeProjects.html#module-arguments"},{"type":"task","title":"Options - mix lightning.merge_projects","doc":"* `-o, --output PATH` - Write output to file instead of stdout\n  * `--uuid SOURCE_UUID:TARGET_UUID` - Map source UUID to target UUID for any entity (workflow, job, or edge) (repeatable)","ref":"Mix.Tasks.Lightning.MergeProjects.html#module-options"},{"type":"task","title":"Examples - mix lightning.merge_projects","doc":"# Merge staging into main, output to stdout\n    mix lightning.merge_projects staging.state.json main.state.json\n\n    # Merge and save to file\n    mix lightning.merge_projects staging.state.json main.state.json -o merged.json\n\n    # Merge with explicit output flag\n    mix lightning.merge_projects staging.state.json main.state.json --output result.json\n\n    # Merge with UUID mappings for workflows, jobs, and edges\n    mix lightning.merge_projects staging.state.json main.state.json \\\n      --uuid 550e8400-e29b-41d4-a716-446655440000:650e8400-e29b-41d4-a716-446655440001 \\\n      --uuid a1b2c3d4-e5f6-4a5b-8c7d-1e2f3a4b5c6d:b2c3d4e5-f6a7-4b5c-8d7e-2f3a4b5c6d7e \\\n      --uuid f6a7b8c9-d0e1-4f5a-9b0c-5d6e7f8a9b0c:a7b8c9d0-e1f2-4a5b-9c0d-6e7f8a9b0c1d \\\n      -o merged.json","ref":"Mix.Tasks.Lightning.MergeProjects.html#module-examples"},{"type":"exception","title":"React.CompileError","doc":"An exception raised when there's a React compile error.\n\nThe following fields of this exceptions are public and can be accessed freely:\n\n  * `:file` (`t:Path.t/0` or `nil`) - the file where the error occurred, or `nil` if\n    the error occurred in code that did not come from a file\n  * `:line` - the line where the error occurred\n  * `:column` - the column where the error occurred\n  * `:description` - a description of the error\n  * `:hint` - a hint to help the user to fix the issue","ref":"React.CompileError.html"},{"type":"extras","title":"Lightning","doc":"# OpenFn/Lightning [![CircleCI](https://dl.circleci.com/status-badge/img/gh/OpenFn/lightning/tree/main.svg?style=svg)](https://dl.circleci.com/status-badge/redirect/gh/OpenFn/lightning/tree/main) [![codecov](https://codecov.io/gh/OpenFn/lightning/branch/main/graph/badge.svg?token=FfDMxdGL3a)](https://codecov.io/gh/OpenFn/lightning) ![Docker Pulls](https://img.shields.io/docker/pulls/openfn/lightning) [![DPG Badge](https://img.shields.io/badge/Verified-DPG-3333AB?logo=data:image/svg%2bxml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMSAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0LjIwMDggMjEuMzY3OEwxMC4xNzM2IDE4LjAxMjRMMTEuNTIxOSAxNi40MDAzTDEzLjk5MjggMTguNDU5TDE5LjYyNjkgMTIuMjExMUwyMS4xOTA5IDEzLjYxNkwxNC4yMDA4IDIxLjM2NzhaTTI0LjYyNDEgOS4zNTEyN0wyNC44MDcxIDMuMDcyOTdMMTguODgxIDUuMTg2NjJMMTUuMzMxNCAtMi4zMzA4MmUtMDVMMTEuNzgyMSA1LjE4NjYyTDUuODU2MDEgMy4wNzI5N0w2LjAzOTA2IDkuMzUxMjdMMCAxMS4xMTc3TDMuODQ1MjEgMTYuMDg5NUwwIDIxLjA2MTJMNi4wMzkwNiAyMi44Mjc3TDUuODU2MDEgMjkuMTA2TDExLjc4MjEgMjYuOTkyM0wxNS4zMzE0IDMyLjE3OUwxOC44ODEgMjYuOTkyM0wyNC44MDcxIDI5LjEwNkwyNC42MjQxIDIyLjgyNzdMMzAuNjYzMSAyMS4wNjEyTDI2LjgxNzYgMTYuMDg5NUwzMC42NjMxIDExLjExNzdMMjQuNjI0MSA5LjM1MTI3WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==)](https://digitalpublicgoods.net/r/openfn)\n\nLightning  (aka \"OpenFn v2\") is a workflow automation platform that's used to\nautomate critical business processes and integrate information systems. From\nlast-mile services to national-level reporting, it boosts efficiency &\neffectiveness while enabling secure, stable, scalable interoperability and data\nintegration at all levels.\n\n**Use it online at [app.openfn.org](https://app.openfn.org)**\n\n**Explore in a sandbox on [demo.openfn.org](#demo-sandbox)**\n\n**Or learn more at\n[docs.openfn.org](https://docs.openfn.org/documentation/about-lightning)**\n\n> OpenFn **Lightning** is:\n>\n> - the **latest version** of OpenFn: first launched in 2014, it's been tried\n>   and tested by NGOs and governments in 40+ countries\n> - fully **open source**: there's no \"community edition\" and \"premium edition\",\n>   you get the same product whether you are self-hosting or using the\n>   OpenFn.org software-as-a-service\n> - the leading [DPGA](https://digitalpublicgoods.net/) certified **Digital\n>   Public Good** for workflow automation\n> - a [Digital Square](https://digitalsquare.org/digital-health-global-goods)\n>   certified **Global Good for Health**","ref":"readme.html"},{"type":"extras","title":"Contents - Lightning","doc":"- [Demo](#demo)\n- [Features](#features)\n  - [Build](#build)\n  - [Monitor](#monitor)\n  - [Manage](#manage)\n  - [Roles and permissions](#roles-and-permissions)\n  - [Roadmap](#roadmap)\n- [Getting Started](#getting-started)\n  - [**Run** via Docker](#run-via-docker)\n  - [**Deploy** on external infrastructure](#deploy-on-external-infrastructure)\n  - [**Dev** on Lightning locally](#dev-on-lightning-locally)\n- [Security and Standards](#security-and-standards)\n- [**Contribute** to this project](#contribute-to-this-project)\n  - [Pick up an issue](#pick-up-an-issue)\n  - [Open a pull request](#open-a-pull-request)\n  - [Generate the docs pages](#generate-the-docs-pages)\n- [Server Specs for Self-Hosting](#server-specs-for-self-hosting)\n- [Benchmarking](#benchmarking)\n- [Troubleshooting](#troubleshooting)\n  - [Problems with environment variables](#problems-with-environment-variables)\n  - [Problems with Postgres](#problems-with-postgres)\n  - [Problems with Debian](#problems-with-debian)\n  - [Problems with Docker](#problems-with-docker)\n  - [Problems with Rambo](#problems-with-rambo)\n- [Support](#support)","ref":"readme.html#contents"},{"type":"extras","title":"Demo - Lightning","doc":"Watch a short [demo video](https://www.youtube.com/watch?v=BNaxlHAWb5I) or\nexplore a **[public sandbox](https://demo.openfn.org/)** with the login details\nbelow, but please note that this deployment is reset every night at 12:00:00 UTC\nand is 100% publicly accessible. **_Don't build anything you want to keep, or\nkeep private!_**\n\n```\nusername: demo@openfn.org\npassword: welcome12345\n```","ref":"readme.html#demo"},{"type":"extras","title":"Features - Lightning","doc":"","ref":"readme.html#features"},{"type":"extras","title":"Build - Lightning","doc":"Plan and build workflows using Lightning's visual interface to quickly define\nwhen, where and what you want your automation to do.\n\n \n   \n \n\nUse our\n[CLI](https://github.com/OpenFn/kit/blob/main/packages/cli/README.md#openfncli)\nto quickly build, edit and deploy projects from the comfort of your own code\neditor.","ref":"readme.html#build"},{"type":"extras","title":"Monitor - Lightning","doc":"Monitor all workflow activity in one place.\n\n \n   \n \n\n- Filter and search runs to identify issues that need addressing and follow how\n  a specific request has been processed\n- Configure alerts to be notified on run failures\n- Receive a project digest for a daily/weekly/monthly summary of your project\n  activity","ref":"readme.html#monitor"},{"type":"extras","title":"Manage - Lightning","doc":"Manage users and access by project.","ref":"readme.html#manage"},{"type":"extras","title":"Roles and permissions - Lightning","doc":"Authorization is a central part of Lightning. As such, users are given different\nroles which determine what level of access they have for resources in the\napplication. For more details about roles and permissions in Lightning, please\nrefer to our\n[documentation](https://docs.openfn.org/documentation/about-lightning#roles-and-permissions).","ref":"readme.html#roles-and-permissions"},{"type":"extras","title":"Roadmap - Lightning","doc":"View our\n[public GitHub project](https://github.com/orgs/OpenFn/projects/3/views/1) to\nsee what we're working on now and what's coming next.","ref":"readme.html#roadmap"},{"type":"extras","title":"Getting Started - Lightning","doc":"- If you only want to [_**RUN**_](#run-via-docker) Lightning on your own server,\n  we recommend using Docker.\n- If you want to [_**DEPLOY**_](#deploy-on-external-infrastructure) Lightning,\n  we recommend Docker builds and Kubernetes.\n- If you want to [_**CONTRIBUTE**_](#contribute-to-this-project) to the project,\n  we recommend\n  [running Lightning on your local machine](#run-lightning-locally).\n\n### **Run** via Docker\n\n1. Install the latest version of\n   [Docker](https://docs.docker.com/engine/install/)\n2. Clone [this repo](https://github.com/OpenFn/Lightning) using git\n3. Setup PostgreSQL database with:\n   `docker compose build && docker compose run --rm web mix ecto.migrate`\n4. Run Lightning and PostgresSQL with: `docker compose up`\n\nBy default the application will be running at\n[localhost:4000](http://localhost:4000/).\n\nSee [\"Problems with Docker\"](#problems-with-docker) for additional\ntroubleshooting help. Note that you can also create your own\n`docker-compose.yml` file, configuring a postgres database and using a\n[pre-built image](https://hub.docker.com/repository/docker/openfn/lightning)\nfrom Dockerhub.\n\n### **Deploy** on external infrastructure\n\nHead to the [Deploy](https://docs.openfn.org/documentation/deploy/options)\nsection of our docs site to get started.\n\nFor technical guidelines, see [deployment considerations](DEPLOYMENT.md) for\nmore detailed information.\n\n### **Dev** on Lightning locally\n\n#### Clone the repo and optionally set ENVs\n\n```sh\ngit clone git@github.com:OpenFn/Lightning.git # or from YOUR fork!\ncd Lightning\ncp .env.example .env # and adjust as necessary!\n```\n\nTake note of database names and ports in particularthey've got to match across\nyour Postgres setup and your ENVs. You can run lightning without any ENVs\nassuming a vanilla postgres setup (see below), but you may want to make\nadjustments.\n\n#### Database Setup\n\nIf you're already using Postgres locally, create a new database called\n`lightning_dev`, for example.\n\nIf you'd rather use Docker to set up a Postgres DB, create a new volume and\nimage:\n\n```sh\ndocker volume create lightning-postgres-data\n\ndocker create \\\n  --name lightning-postgres \\\n  --mount source=lightning-postgres-data,target=/var/lib/postgresql/data \\\n  --publish 5432:5432 \\\n  -e POSTGRES_PASSWORD=postgres \\\n  postgres:15.3-alpine\n\ndocker start lightning-postgres\n```\n\n#### Elixir & Ecto Setup\n\nWe use [asdf](https://github.com/asdf-vm/asdf) to configure our local\nenvironments. Included in the repo is a `.tool-versions` file that is read by\nasdf in order to dynamically make the specified versions of Elixir and Erlang\navailable.\n\nYou'll need to install asdf plugins for Erlang, NodeJs, Elixir, and k6.\n**Important**: Before installing these plugins, make sure to follow the\nprerequisite installation steps for each plugin (linked below), as they often\nrequire system dependencies to be installed first:\n\n- [Erlang](https://github.com/asdf-vm/asdf-erlang) - **Follow the \"Before asdf\n  install\" section**\n- [NodeJs](https://github.com/asdf-vm/asdf-nodejs)\n- [Elixir](https://github.com/asdf-vm/asdf-elixir)\n- [k6](https://github.com/grimoh/asdf-k6)\n\nThen follow the installation instructions for each plugin from their respective\ndocumentation pages.\n\nWe use [libsodium](https://doc.libsodium.org/) for encoding values as required\nby the\n[Github API](https://docs.github.com/en/rest/guides/encrypting-secrets-for-the-rest-api).\nYou'll need to install `libsodium` in order for the application to compile.\n\nFor Mac Users:\n\n```sh\nbrew install libsodium cmake\n```\n\nFor Debian Users:\n\n```sh\nsudo apt-get install libsodium-dev cmake\n```\n\nYou can find more on\n[how to install libsodium here](https://doc.libsodium.org/installation)\n\n```sh\nasdf install  # Install language versions\n./bin/bootstrap\n```\n\n#### Run the app\n\nLightning is a web app. To run it in interactive Elixir mode, start the\ndevelopment server by running with your environment variables by running:\n\n```sh\niex -S mix phx.server\n```\n\nor if you have set up custom environment variables, run:\n\n```sh\nenv $(cat .env | grep -v \"#\" | xargs ) iex -S mix phx.server\n```\n\nOnce the server has started, head to [`localhost:4000`](http://localhost:4000)\nin your browser.\n\n#### Run the tests\n\nBefore the first time running the tests, you need a test database setup.\n\n```sh\nMIX_ENV=test mix ecto.create\n```\n\nAnd then after that run the tests using:\n\n```sh\nMIX_ENV=test mix test\n```\n\nWe also have `test.watch` installed which can be used to rerun the tests on file\nchanges.","ref":"readme.html#getting-started"},{"type":"extras","title":"Security and Standards - Lightning","doc":"We use a host of common Elixir static analysis tools to help us avoid common\npitfalls and make sure we keep everything clean and consistent.\n\nIn addition to our test suite, you can run the following commands:\n\n- `mix format --check-formatted` Code formatting checker, run again without the\n  `--check-formatted` flag to have your code automatically changed.\n- `mix dialyzer` Static analysis for type mismatches and other common warnings.\n  See [dialyxir](https://github.com/jeremyjh/dialyxir).\n- `mix credo --strict --all` Static analysis for consistency, and coding\n  standards. See [Credo](https://github.com/rrrene/credo).\n- `mix sobelow` Check for commonly known security exploits. See\n  [Sobelow](https://sobelow.io/).\n- `MIX_ENV=test mix coveralls` Test coverage reporter. This command also runs\n  the test suite, and can be used in place of `mix test` when checking\n  everything before pushing your code. See\n  [excoveralls](https://github.com/parroty/excoveralls).\n\n> For convenience there is a `verify` mix task that runs all of the above and\n> defaults the `MIX_ENV` to `test`.\n\nFor more guidance on security best practices for workflow automation\nimplementations, check out OpenFn Docs:\n[docs.openfn.org/documentation/getting-started/security](https://docs.openfn.org/documentation/getting-started/security)\n\n## **Contribute** to this project\n\nFirst, thanks for being here! You're contributing to a digital public good that\nwill always be free and open source and aimed at serving innovative NGOs,\ngovernments, and social impact organizations the world over! You rock. \n\nFYI, Lightning is built in [Elixir](https://elixir-lang.org/), harnessing the\n[Phoenix Framework](https://www.phoenixframework.org/). Currently, the only\nunbundled dependency is a [PostgreSQL](https://www.postgresql.org/) database.\n\nIf you'd like to contribute to this projects, follow the steps below:","ref":"readme.html#security-and-standards"},{"type":"extras","title":"Pick up an issue - Lightning","doc":"Read through the existing [issues](https://github.com/OpenFn/Lightning/issues),\nassign yourself to the issue you have chosen. Leave a comment on the issue to\nlet us know you'll be working on it, and if you have any questions of\nclarifications that would help you get started ask them there - we will get back\nto you as soon as possible.\n\nIf there isn't already an issue for the feature you would like to contribute,\nplease start a discussion in our\n[community forum](https://community.openfn.org/c/feature-requests/12).","ref":"readme.html#pick-up-an-issue"},{"type":"extras","title":"Open a pull request - Lightning","doc":"1. Clone the Lightning repository, then\n   [fork it](https://docs.github.com/en/get-started/quickstart/fork-a-repo).\n\n2. Run through [setting up your environment](#set-up-your-environment) and make\n   your changes.\n\n3. Make sure you have written your tests and updated /CHANGELOG.md (in the\n   'Unreleased' section, add a short description of the changes you are making,\n   along with a link to your issue).\n\n4. Open a draft pull request by clicking \"Contribute > Open Pull Request\" from\n   your forked repository. Fill out the pull request template (this will **be**\n   added automatically for you), then make sure to self-review your code and go\n   through the 'Review checklist'. Don't worry about the QA checkbox, our\n   product manager Amber will tick that once she has reviewed your PR. You can\n   leave any notes for the reviewer in a comment.\n\n5. Once you're ready to submit a pull request, you can mark your draft PR as\n   'Ready for review' and assign @stuartc or @taylordowns2000.","ref":"readme.html#open-a-pull-request"},{"type":"extras","title":"Generate the docs pages - Lightning","doc":"You can generate the HTML and EPUB documentation locally using:\n\n`mix docs` and opening `doc/index.html` in your browser.","ref":"readme.html#generate-the-docs-pages"},{"type":"extras","title":"Server Specs for Self-Hosting - Lightning","doc":"For recommend server specifications for self-hosting of Lightning, head to the\n[deployment planning](https://docs.openfn.org/documentation/deploy/options)\nsection of the documentation or check out this\n[self-hosting thread](https://community.openfn.org/t/specs-for-self-hosting-lightning/292)\non our community forum.","ref":"readme.html#server-specs-for-self-hosting"},{"type":"extras","title":"Benchmarking - Lightning","doc":"We are using [k6](https://k6.io/) to benchmark Lightning. Under `benchmarking`\nfolder you can find a script for benchmarking Webhook Workflows.\n\nSee [Benchmarking](benchmarking/README.md) for more detailed information.","ref":"readme.html#benchmarking"},{"type":"extras","title":"Troubleshooting - Lightning","doc":"","ref":"readme.html#troubleshooting"},{"type":"extras","title":"Switching branches during development - Lightning","doc":"Branches can have different dependencies. Run the bootstrap script to sync\neverything:\n\n```sh\n./bin/bootstrap\n```\n\nThis handles Elixir dependencies, npm packages, native libraries, and database\nmigrations.\n\nIf the server was running, restart it after bootstrap completes.","ref":"readme.html#switching-branches-during-development"},{"type":"extras","title":"Problems with environment variables - Lightning","doc":"For troubleshooting custom environment variable configuration it's important to\nknow how an Elixir app loads and modifies configuration. The order is as\nfollows:\n\n1. Stuff in `config.exs` is loaded.\n2. _That_ is then modified (think: _overwritten_) by stuff your ENV-specific\n   config: `dev.exs`, `prod.exs` or `test.exs`.\n3. _That_ is then modified by `runtime.exs` which is where you are allowed to\n   use `System.env()`\n4. _Finally_ `init/2` (if present in a child application) gets called (which\n   takes the config which has been set in steps 1-3) when that child application\n   is started during the parent app startup defined in `application.ex`.","ref":"readme.html#problems-with-environment-variables"},{"type":"extras","title":"Problems with Postgres - Lightning","doc":"If you're having connection issues with Postgres, check the database section of\nyour `.env` to ensure the DB url is correctly set for your environment  note\nthat composing a DB url out of other, earlier declared variables, does not work\nwhile using `xargs`.","ref":"readme.html#problems-with-postgres"},{"type":"extras","title":"Problems with Debian - Lightning","doc":"If you're getting this error on debian\n\n```\n==> earmark_parser\nCompiling 1 file (.yrl)\n/usr/lib/erlang/lib/parsetools-2.3.1/include/yeccpre.hrl: no such file or directory\ncould not compile dependency :earmark_parser, \"mix compile\" failed. You can recompile this dependency with \"mix deps.compile earmark_parser\", update it with \"mix deps.update earmark_parser\" or clean it with \"mix deps.clean earmark_parser\"\n```\n\nYou need to install erlang development environment `sudo apt install erlang-dev`\n[refer to this issue](https://github.com/elixir-lang/ex_doc/issues/1441)","ref":"readme.html#problems-with-debian"},{"type":"extras","title":"Problems with Docker - Lightning","doc":"#### Versions\n\nThe build may not work on old versions of Docker and Docker compose. It has been\ntested against:\n\n```\nDocker version 20.10.17, build 100c701\nDocker Compose version v2.6.0\n```\n\n#### Starting from scratch\n\nIf you're actively working with docker, you start experiencing issues, and you\nwould like to start from scratch you can clean up everything and start over like\nthis:\n\n```sh\n# To remove any ignored files and reset your .env to its example\ngit clean -fdx && cp .env.example .env\n# You can skip the line below if you want to keep your database\ndocker compose down --rmi all --volumes\n\ndocker compose build --no-cache web && \\\n  docker compose create --force-recreate\n\ndocker compose run --rm web mix ecto.migrate\ndocker compose up\n```\n\n#### Apple Silicon\n\nWhen running `docker compose up` on Apple Silicon (aarch64), you might encounter\nthe following error:\n\n```\n[notice] Application ssl exited: exited in: :ssl_app.start(:normal, [])\n ** (EXIT) an exception was raised:\n     ** (ArgumentError) could not call Module.put_attribute/3 because the module Lightning.MixProject is already compiled\n         (elixir 1.16.2) lib/module.ex:2360: Module.assert_not_readonly!/2\n         (elixir 1.16.2) lib/module.ex:2041: Module.__put_attribute__/5\n         (ssl 11.1.4) ssl_app.erl:35: :ssl_app.stop/1\n         (kernel 9.2.4) application_master.erl:293: :application_master.start_it_old/4\n\n** (MatchError) no match of right hand side value: {:error, {:ssl, {:bad_return, {{:ssl_app, :start, [:normal, []]}, {:EXIT, {%ArgumentError{message: \"could not call Module.put_attribute/3 because the module Lightning.MixProject is already compiled\"}, [{Module, :assert_not_readonly!, 2, [file: ~c\"lib/module.ex\", line: 2360]}, {Module, :__put_attribute__, 5, [file: ~c\"lib/module.ex\", line: 2041]}, {:ssl_app, :stop, 1, [file: ~c\"ssl_app.erl\", line: 35]}, {:application_master, :start_it_old, 4, [file: ~c\"application_master.erl\", line: 293]}]}}}}}}\n```\n\nYou can resolve this by setting `ERL_FLAGS=\"+JPperf true\"` env to the failing\nstage. You can follow this thread on our community forum for more info:\n[no matching manifest for linux/arm64/v8 in the manifest list entries](https://community.openfn.org/t/lightning-prebuilt-images-throw-no-matching-manifest-for-linux-arm64-v8-in-the-manifest-list-entries/465/15)","ref":"readme.html#problems-with-docker"},{"type":"extras","title":"Problems with Rambo - Lightning","doc":"When running `mix compile.rambo` on Apple Silicon (an Apple M1/M2, `macarm`,\n`aarch64-apple-darwin`) and encountering the following error:\n\n```\n** (RuntimeError) Rambo does not ship with binaries for your environment.\n\n    aarch64-apple-darwin22.3.0 detected\n\nInstall the Rust compiler so a binary can be prepared for you.\n\n    lib/mix/tasks/compile.rambo.ex:89: Mix.Tasks.Compile.Rambo.compile!/0\n    lib/mix/tasks/compile.rambo.ex:51: Mix.Tasks.Compile.Rambo.run/1\n    (mix 1.14.2) lib/mix/task.ex:421: anonymous fn/3 in Mix.Task.run_task/4\n    (mix 1.14.2) lib/mix/cli.ex:84: Mix.CLI.run_task/2\n```\n\nYou can resolve this error by installing the Rust compiler using Homebrew. Run\nthe following command in your terminal: `brew install rust`\n\nIf neither of the approaches above work, please raise an issue.","ref":"readme.html#problems-with-rambo"},{"type":"extras","title":"Support - Lightning","doc":"If you have any questions, feedback, or issues, please:\n\n- Post on the OpenFn Community at\n  [community.openfn.org](https://community.openfn.org)\n- Open an issue directly on this GitHub Repo:\n  [github.com/OpenFn/Lightning/issues](https://github.com/OpenFn/Lightning/issues)","ref":"readme.html#support"},{"type":"extras","title":"Running Locally","doc":"# Running Lightning Locally\n\nThis guide provides instructions for running Lightning locally, either by\ninstalling dependencies on your machine or using Docker.","ref":"runninglocal.html"},{"type":"extras","title":"By Installing Dependencies - Running Locally","doc":"","ref":"runninglocal.html#by-installing-dependencies"},{"type":"extras","title":"Setup - Running Locally","doc":"#### Postgres\n\nRequires `postgres 15`. When running in `dev` mode, the app will use the\nfollowing credentials to authenticate:\n\n- `PORT`: `5432`\n- `USER`: `postgres`\n- `PASSWORD`: `postgres`\n- `DATABASE`: `lightning_dev`\n\nThis can however be overridden by specifying a `DATABASE_URL` env var. e.g.\n`DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lightning_dev`\n\nWe recommend that you use docker for running postgres as you'll get an exact\nversion that we use:\n\n```sh\ndocker volume create lightning-postgres-data\n\ndocker create \\\n  --name lightning-postgres \\\n  --mount source=lightning-postgres-data,target=/var/lib/postgresql/data \\\n  --publish 5432:5432 \\\n  -e POSTGRES_PASSWORD=postgres \\\n  postgres:15.3-alpine\n\ndocker start lightning-postgres\n```\n\n#### Elixir, NodeJS\n\nWe use [asdf](https://github.com/asdf-vm/asdf) to configure our local\nenvironments. Included in the repo is a `.tool-versions` file that is read by\nasdf in order to dynamically make the specified versions of Elixir, Erlang and\nNodeJs available. You'll need asdf plugins for\n[Erlang](https://github.com/asdf-vm/asdf-erlang),\n[NodeJs](https://github.com/asdf-vm/asdf-nodejs)\n[Elixir](https://github.com/asdf-vm/asdf-elixir) and\n[k6](https://github.com/grimoh/asdf-k6).\n\n#### Libsodium\n\nWe use [libsodium](https://doc.libsodium.org/) for encoding values as required\nby the\n[Github API](https://docs.github.com/en/rest/guides/encrypting-secrets-for-the-rest-api).\nYou'll need to install `libsodium` in order for the application to compile.\n\nFor Mac Users:\n\n```sh\nbrew install libsodium\n```\n\nFor Debian Users:\n\n```sh\nsudo apt-get install libsodium-dev\n```\n\nYou can find more on\n[how to install libsodium here](https://doc.libsodium.org/installation)\n\n#### Compilation and Assets\n\n```sh\nasdf install  # Install language versions\nmix local.hex\nmix deps.get\nmix local.rebar --force\n[[ $(uname -m) == 'arm64' ]] && CPATH=/opt/homebrew/include LIBRARY_PATH=/opt/homebrew/lib mix deps.compile enacl # Force compile enacl if on M1\n[[ $(uname -m) == 'arm64' ]] && mix compile.rambo # Force compile rambo if on M1\nmix lightning.install_runtime\nmix lightning.install_schemas\nmix lightning.install_adaptor_icons\nmix ecto.create\nmix ecto.migrate\nnpm install --prefix assets\n```\n\nIn case you encounter errors running any of these commands, see the\n[troubleshooting guide](README.md#troubleshooting) for known errors.","ref":"runninglocal.html#setup"},{"type":"extras","title":"Running the App - Running Locally","doc":"To start the lightning server:\n\n```sh\nmix phx.server\n```\n\nOnce the server has started, head to [`localhost:4000`](http://localhost:4000)\nin your browser.\n\nBy default, the `worker` is started when run `mix phx.server` in `dev` mode. In\ncase you don't want to have your worker started in `dev`, set `RTM=false`:\n\n```sh\nRTM=false mix phx.server\n```","ref":"runninglocal.html#running-the-app"},{"type":"extras","title":"Using Docker - Running Locally","doc":"There is an existing `docker-compose.yaml` file in the project's root which has\nall the services required. To start your services:\n\n```sh\ndocker compose up\n```\n\nThere 2 docker files in the root, `Dockerfile` builds the app in `prod` mode\nwhile `Dockerfile-dev` runs it in `dev` mode. It is important to note that\n`mix commands` do not work in the `prod` images.\n\nFor example, to run migrations in `dev` mode you run:\n\n```sh\ndocker compose run --rm web mix ecto.migrate\n```\n\nWhile in `prod` mode:\n\n```sh\ndocker compose run --rm web /app/bin/lightning eval \"Lightning.Release.migrate()\"\n```","ref":"runninglocal.html#using-docker"},{"type":"extras","title":"Configuring the Worker - Running Locally","doc":"By default, lightning starts the `worker` when running in `dev`. This can also\nbe configured using `RTM` env var. In case you don't want the hassle of\nconfiguring the worker in `dev`, you can just remove/comment out the `worker`\nservice from the `docker-compose.yaml` file because lightning will start it for\nyou.\n\n[Learn more about configuring workers](WORKERS.md)","ref":"runninglocal.html#configuring-the-worker"},{"type":"extras","title":"Using Local Adaptors - Running Locally","doc":"You can force lightning to use adaptor builds from your local\n[adaptors](https://github.com/openfn/adaptors) repo.\n\nNote that this is a global toggle: ALL runs will use local adaptor versions, and\nthe adaptor picklist in the Workflow Editor will only suggest adaptors present\nin the monorepo.\n\nRemember to re-build your adaptors after making changes (use\n`pnpm build --watch` in the monorepo).\n\nTo start, set up the following environment variables:\n\n- `LOCAL_ADAPTORS`: Used to enable or disable the local adaptors mode. Set it to\n  `true` to enable.\n- `OPENFN_ADAPTORS_REPO`: This should point to the adaptors monorepo. This is\n  the same variable used when you pass `-m` to the CLI.\n\nExample configuration:\n\n```sh\nexport LOCAL_ADAPTORS=true\nexport OPENFN_ADAPTORS_REPO=/path/to/repo/\n```\n\nYou can also run the server directly in local mode with:\n\n```sh\nLOCAL_ADAPTORS=true mix phx.server\n```\n\nEnsure that the `OPENFN_ADAPTORS_REPO` directory is correctly set up with the\nnecessary `packages` subdirectory, otherwise the app wont start","ref":"runninglocal.html#using-local-adaptors"},{"type":"extras","title":"Problems with Apple Silicon - Running Locally","doc":"You might run into some errors when running the docker containers on Apple\nSilicon.\n[We have documented the known ones here](README.md#problems-with-docker)","ref":"runninglocal.html#problems-with-apple-silicon"},{"type":"extras","title":"Deployment","doc":"# Deployment\n\nHead to the [Deploy](https://docs.openfn.org/documentation/deploy/options)\nsection of our docs site to get started.\n\nSee below for technical considerations and instructions.","ref":"deployment.html"},{"type":"extras","title":"Encryption - Deployment","doc":"Lightning enforces encryption at rest for credentials, TOTP backup codes, and\nwebhook trigger authentication methods, for which an encryption key must be\nprovided when running in production.\n\nThe key is expected to be a randomized set of bytes, 32 long; and Base64 encoded\nwhen setting the environment variable.\n\nThere is a mix task that can generate keys in the correct shape for use as an\nenvironment variable:\n\n```sh\nmix lightning.gen_encryption_key\n0bJ9w+hn4ebQrsCaWXuA9JY49fP9kbHmywGd5K7k+/s=\n```\n\nCopy your key _(NOT THIS ONE)_ and set it as `PRIMARY_ENCRYPTION_KEY` in your\nenvironment.","ref":"deployment.html#encryption"},{"type":"extras","title":"Workers - Deployment","doc":"Lightning uses external worker processes for executing Runs. There are three\nsettings required to configure worker authentication.\n\n- `WORKER_RUNS_PRIVATE_KEY`\n- `WORKER_LIGHTNING_PUBLIC_KEY`\n- `WORKER_SECRET`\n\nYou can use the `mix lightning.gen_worker_keys` task to generate these for\nconvenience.\n\nFor more information see the [Workers](WORKERS.md) documentation.","ref":"deployment.html#workers"},{"type":"extras","title":"Environment Variables - Deployment","doc":"Note that for secure deployments, it's recommended to use a combination of\n`secrets` and `configMaps` to generate secure environment variables.","ref":"deployment.html#environment-variables"},{"type":"extras","title":"Limits - Deployment","doc":"- `WORKER_MAX_RUN_MEMORY_MB` - how much memory (in MB) can a single run use?\n- `RUN_GRACE_PERIOD_SECONDS` - how long _after_ the `MAX_RUN_DURATION_SECONDS`\n  should the server wait for the worker to send back data on a run.\n- `WORKER_MAX_RUN_DURATION_SECONDS` - the maximum duration (in seconds) that\n  workflows are allowed to run (keep this plus `RUN_GRACE_PERIOD_SECONDS` below\n  your termination_grace_period if using kubernetes)\n- `WORKER_CAPACITY` - the number of runs a ws-worker instance will take on\n  concurrently.\n- `MAX_DATACLIP_SIZE_MB` - the maximum size (in MB) of a dataclip created via\n  the webhook trigger URL for a job. This limits the max request size via the\n  JSON plug and may (in future) limit the size of dataclips that can be stored\n  as run_results via the websocket connection from a worker.","ref":"deployment.html#limits"},{"type":"extras","title":"GitHub - Deployment","doc":"Lightning enables connection to GitHub via GitHub Apps. The following GitHub\nrepository permissions are needed for the GitHub app:\n\n| **Resource** | **Access**     |\n| ------------ | -------------- |\n| Actions      | Read and Write |\n| Contents     | Read and Write |\n| Metadata     | Read only      |\n| Secrets      | Read and Write |\n| Workflows    | Read and Write |\n\nEnsure you set the following URLs:\n\n- **Homepage URL:** ` `\n- **Callback URL for authorizing users:** ` /oauth/github/callback`\n  (Do NOT check the two checkboxes in this section requesting Device Flow and\n  OAuth.)\n- **Setup URL for Post installation:** ` /setup_vcs` (Check the box\n  for **Redirect on update**)\n\nThese environment variables will need to be set in order to configure the github\napp:\n\n| **Variable**               | **Description**                                                                                                           |\n| -------------------------- | ------------------------------------------------------------------------------------------------------------------------- |\n| `GITHUB_APP_ID`            | the github app ID.                                                                                                        |\n| `GITHUB_APP_NAME`          | the github app name. This is the name used in the public link. It is the downcased name with spaces replaced with hyphens |\n| `GITHUB_APP_CLIENT_ID`     | the github app Client ID                                                                                                  |\n| `GITHUB_APP_CLIENT_SECRET` | the github app Client Secret                                                                                              |\n| `GITHUB_CERT`              | the github app private key (Base 64 encoded)                                                                              |\n\nYou can access these from your github app settings menu. Also needed for the\nconfiguration is:\n\n- `REPO_CONNECTION_SIGNING_SECRET` - secret used to sign access tokens. This\n  access token is used to authenticate requests made from the github actions.\n  You can generate this using `mix lightning.gen_encryption_key`","ref":"deployment.html#github"},{"type":"extras","title":"Storage - Deployment","doc":"Lightning can use a storage backend to store exports.\n\n| **Variable**      | Description                                      |\n| ----------------- | ------------------------------------------------ |\n| `STORAGE_BACKEND` | the storage backend to use. (default is `local`) |\n| `STORAGE_PATH`    | the path to store files in. (default is `.`)     |\n\n#### Supported backends:\n\n- `local` - local file storage\n- `gcs` - Google Cloud Storage\n\n#### Google Cloud Storage\n\nFor Google Cloud Storage, the following environment variables are required:\n\n| **Variable**                          | Description                                                                      |\n| ------------------------------------- | -------------------------------------------------------------------------------- |\n| `GCS_BUCKET`                          | the name of the bucket to store files in                                         |\n| `GOOGLE_APPLICATION_CREDENTIALS_JSON` | A base64 encoded JSON keyfile for the service account with access to the bucket. |\n\n>  Note: The `GOOGLE_APPLICATION_CREDENTIALS_JSON` should be base64 encoded,\n> currently Workload Identity is not supported.","ref":"deployment.html#storage"},{"type":"extras","title":"Mail - Deployment","doc":"Lightning can send emails for various reasons, such as password resets and\nalerts for failed runs.\n\nIn order to send emails, you need to set the `MAIL_PROVIDER` environment\nvariable to one of the following:\n\n- `local` (the default)\n- `mailgun`\n- `smtp`\n\nYou will also want to set the `EMAIL_ADMIN` environment variable to the email\naddress that will be used as the sender for system emails.\n\n#### Mailgun\n\nFor mailgun, the following environment variables are required:\n\n| **Variable**      | Description              |\n| ----------------- | ------------------------ |\n| `MAIL_PROVIDER`   | Must be set to `mailgun` |\n| `MAILGUN_API_KEY` | the mail gun api key     |\n| `MAILGUN_DOMAIN`  | the mail gun domain      |\n\n#### SMTP\n\nFor SMTP, the following environment variables are required:\n\n| **Variable**    | Description                                                              |\n| --------------- | ------------------------------------------------------------------------ |\n| `MAIL_PROVIDER` | Must be set to `smtp`                                                    |\n| `SMTP_USERNAME` | Username for your server                                                 |\n| `SMTP_PASSWORD` | Password for the user                                                    |\n| `SMTP_RELAY`    | IP address or hostname                                                   |\n| `SMTP_TLS`      | Use TLS, defaults to `true`, options are `true`, `false`, `if_available` |\n| `SMTP_PORT`     | Which port to use, defaults to `587`                                     |","ref":"deployment.html#mail"},{"type":"extras","title":"Other config - Deployment","doc":"| **Variable**                                      | Description                                                                                                                                                                                                                            |\n| ------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `ADAPTORS_PATH`                                   | Where you store your locally installed adaptors                                                                                                                                                                                        |\n| `ALLOW_SIGNUP`                                    | Set to `true` to enable user access to the registration page. Set to `false` to disable new user registrations and block access to the registration page. Default is `true`.                                                        |\n| `CORS_ORIGIN`                                     | A list of acceptable hosts for browser/cors requests (',' separated)                                                                                                                                                                   |\n| `DISABLE_DB_SSL`                                  | In production, the use of an SSL connection to Postgres is required by default. Setting this to `\"true\"` allows unencrypted connections to the database. This is strongly discouraged in a real production environment.             |\n| `EMAIL_ADMIN`                                     | This is used as the sender email address for system emails. It is also displayed in the menu as the support email.                                                                                                                     |\n| `EMAIL_SENDER_NAME`                               | This is displayed in the email client as the sender name for emails sent by the application.                                                                                                                                           |\n| `ERLANG_NODE_DISCOVERY_VIA_POSTGRES_CHANNEL_NAME` | The name of the Postgresql channel that is used when Erlang node discovery via Postgres is enabled. Defaults to `lightning-cluster` if not set.                                                                                        |\n| `ERLANG_NODE_DISCOVERY_VIA_POSTGRES_ENABLED`      | If set to `true`, Lightning will use Postgres to discover Erlang nodes. This strategy will be used in addition to other strategies that are in use. Default value is `false`                                                           |\n| `IDLE_TIMEOUT`                                    | The number of seconds that must pass without data being received before the Lightning web server kills the connection.                                                                                                                 |\n| `IS_RESETTABLE_DEMO`                              | If set to `yes`, it allows this instance to be reset to the initial \"Lightning Demo\" state. Note that this will destroy _most_ of what you have in your database!                                                                      |\n| `K8S_HEADLESS_SERVICE`                            | This environment variable is automatically set if you're running on GKE and it is used to establish an Erlang node cluster. Note that if you're _not_ using Kubernetes, the \"gossip\" strategy is used to establish clusters.           |\n| `LISTEN_ADDRESS`                                  | The address the web server should bind to. Defaults to `127.0.0.1` to block access from other machines.                                                                                                                                |\n| `LOG_LEVEL`                                       | How noisy you want the logs to be (e.g., `debug`, `info`)                                                                                                                                                                              |\n| `METRICS_RUN_PERFORMANCE_AGE_SECONDS`             | The oldest a run can be to be included in Run performance metrics.                                                                                                                                                                     |\n| `METRICS_RUN_QUEUE_AGE_SECONDS`                   | The polling period for run queue metrics.                                                                                                                                                                                              |\n| `METRICS_STALLED_RUN_THRESHOLD_SECONDS`           | The length of time a Run must be in the `available` state before it is considered stalled.                                                                                                                                             |\n| `METRICS_UNCLAIMED_RUN_THRESHOLD_SECONDS`         | The length of time a Run must be in the `available` state before it counts towards an impeded project.                                                                                                                                 |\n| `MIX_ENV`                                         | Your mix env, likely `prod` for deployment                                                                                                                                                                                             |\n| `NODE_ENV`                                        | Node env, likely `production` for deployment                                                                                                                                                                                           |\n| `ORIGINS`                                         | The allowed origins for web traffic to the backend                                                                                                                                                                                     |\n| `PER_WORKFLOW_CLAIM_LIMIT`                        | The maximum number of runs per workflow to consider during run claiming. This prevents any single workflow from dominating the processing queue while ensuring fairness across workflows. Default is `50`.                          |\n| `PORT`                                            | The port your Phoenix app runs on                                                                                                                                                                                                      |\n| `PROMEX_DATASOURCE_ID`                            | The datasource that PromEx will use if configured to push initial dashboards to Grafana. Defaults to an empty string.                                                                                                                  |\n| `PROMEX_ENABLED`                                  | Enables PromEx tracking and publishing of metrics if set to 'true' or 'yes'. Defaults to false.                                                                                                                                        |\n| `PROMEX_ENDPOINT_SCHEME`                          | The scheme needed when connecting to the Promex Endpoint. Defaults to https.                                                                                                                                                           |\n| `PROMEX_EXPENSIVE_METRICS_ENABLED`                | Certain metrics may be expensive to generate if Lightning is under load. If set to 'true', or 'yes' these metrics will be enabled. Defaults to 'false'.                                                                                |\n| `PROMEX_GRAFANA_HOST`                             | This is used when PromEx is required to push data to a Grafana instance, e.g. when PromEx sets up initial dashboards.                                                                                                                  |\n| `PROMEX_GRAFANA_PASSWORD`                         | This is used when PromEx is required to push data to a Grafana instance, e.g. when PromEx sets up initial dashboards.                                                                                                                  |\n| `PROMEX_GRAFANA_USER`                             | This is used when PromEx is required to push data to a Grafana instance, e.g. when PromEx sets up initial dashboards.                                                                                                                  |\n| `PROMEX_METRICS_ENDPOINT_AUTHORIZATION_REQUIRED`  | If set to 'true' or 'yes', the PromEx endpoint on Lightning will require consumers to provide credentials for authorization. Defaults to 'true'.                                                                                       |\n| `PROMEX_METRICS_ENDPOINT_TOKEN`                   | A Bearer token that the consumer of the promEx endpoint must provide in the Authorization header. Defaults to a random series of bytes.                                                                                                |\n| `PROMEX_UPLOAD_GRAFANA_DASHBOARDS_ON_START`       | Instructs PromEx to upload iniital dashboards to a Grafana instance if set to 'true' or 'yes'. Defaults to false.                                                                                                                      |\n| `PRIMARY_ENCRYPTION_KEY`                          | A base64 encoded 32 character long string. See [Encryption](#encryption).                                                                                                                                                           |\n| `QUEUE_RESULT_RETENTION_PERIOD_MINUTES`           | The number of minutes to keep completed (successful) `ObanJobs` in the queue (not to be confused with runs and/or history)                                                                                                             |\n| `SCHEMAS_PATH`                                    | Path to the credential schemas that provide forms for different adaptors                                                                                                                                                               |\n| `ADAPTORS_REGISTRY_JSON_PATH`                     | Path to adaptor registry file. When provided, the app will attempt to read from it then later fallback to the internet                                                                                                                 |\n| `SECRET_KEY_BASE`                                 | A secret key used as a base to generate secrets for encrypting and signing data.                                                                                                                                                       |\n| `SENTRY_DSN`                                      | If using Sentry for error monitoring, your DSN                                                                                                                                                                                         |\n| `UI_METRICS_ENABLED`                              | Enable serverside tracking of certain metrics related to the UI. This s temporary functionality. Defaults to `false`.                                                                                                                  |\n| `URL_HOST`                                        | The host used for writing URLs (e.g., `demo.openfn.org`)                                                                                                                                                                               |\n| `URL_PORT`                                        | The port, usually `443` for production                                                                                                                                                                                                 |\n| `URL_SCHEME`                                      | The scheme for writing URLs (e.g., `https`)                                                                                                                                                                                            |\n| `USAGE_TRACKER_HOST`                              | The host that receives usage tracking submissions (defaults to https://impact.openfn.org)                                                                                                                                           |\n| `USAGE_TRACKING_DAILY_BATCH_SIZE`                 | The number of days that will be reported on with each run of `UsageTracking.DayWorker`. This will only have a noticeable effect in cases where there is a backlog or where reports are being generated retroactively (defaults to 10). |\n| `USAGE_TRACKING_ENABLED`                          | Enables the submission of anonymized usage data to OpenFn (defaults to `true`)                                                                                                                                                         |\n| `USAGE_TRACKING_RESUBMISSION_BATCH_SIZE`          | The number of failed reports that will be submitted on each resubmission run (defaults to 10)                                                                                                                                          |\n| `USAGE_TRACKING_RUN_CHUNK_SIZE`                   | The size of each batch of runs that is streamed from the database when generating UsageTracking reports (default 100). Decreasing this may decrease memory consumption when generating reports.                                        |\n| `USAGE_TRACKING_UUIDS`                            | Indicates whether submissions should include cleartext UUIDs or not. Options are `cleartext` or `hashed_only`, with the default being `hashed_only`.                                                                                   |\n| `REQUIRE_EMAIL_VERIFICATION`                      | Indicates whether user email addresses should be verified. Defaults to `false`.                                                                                                                                                        |","ref":"deployment.html#other-config"},{"type":"extras","title":"AI Chat - Deployment","doc":" **Experimental**\n\nLightning can be configured to use an AI chatbot for user interactions.\n\nSee [openfn/apollo](https://github.com/OpenFn/apollo) for more information on\nthe Apollo AI service.\n\nThe following environment variables are required:\n\n- `AI_ASSISTANT_API_KEY` - API key to use the assistant. This currently requires\n  an Anthropic key.\n- `APOLLO_ENDPOINT` - the endpoint for the OpenFn Apollo AI service.","ref":"deployment.html#ai-chat"},{"type":"extras","title":"Kafka Triggers - Deployment","doc":" **Experimental**\n\nLightning workflows can be configured with a trigger that will consume messages\nfrom a Kafka Cluster. By default this is disabled and you will not see the\noption to create a Kafka trigger in the UI, nor will the Kafka consumer groups\nbe running.\n\nTo enable this feature set the `KAFKA_TRIGGERS_ENABLED` environment variable to\n`yes` and restart Lightning. Please note that, if you enable this feature and\nthen create some Kafka triggers and then disable the feature, you will not be\nable to edit any triggers created before the feature was disabled.\n\n#### Performance Tuning\n\nThe number of Kafka consumers in the consumer group can be modified by setting\nthe `KAFKA_NUMBER_OF_CONSUMERS` environment variable. The default value is\ncurrently 1. The optimal setting is one consumer per topic partition. NOTE: This\nsetting will move to KafkaConfiguration as it will be trigger-specific.\n\nThe number of messages that the Kafka consumer will forward is rate-limited by\nthe `KAFKA_NUMBER_OF_MESSAGES_PER_SECOND` environment variable. This can be set\nto a value of less than 1 (minimum 0.1) and will converted (and rounded-down) to\nan integer value of messages over a 10-second interval (e.g. 0.15 becomes 1\nmessage every 10 seconds). The default value is 1.\n\nProcessing concurrency within the Kafka Broadway pipeline is controlled by the\n`KAFKA_NUMBER_OF_PROCESSORS` environment variable. Modifying this, modifies the\nnumber of processors that are downstream of the Kafka consumer, so an increase\nin this value should increase throughput (when factoring in the rate limit set\nby `KAFKA_NUMBER_OF_MESSAGES_PER_SECOND`). The default value is 1.\n\n#### Deduplication\n\nEach Kafka trigger maintains record of the topic, partition and offset for each\nmessage received. This to protect against the ingestion of duplicate messages\nfrom the cluster. These records are periodically cleaned out. The duration for\nwhich they are retained is controlled by\n`KAFKA_DUPLICATE_TRACKING_RETENTION_SECONDS`. The default value is 3600.\n\n#### Disabling Kafka Triggers\n\nAfter a Kafka consumer group connects to a Kafka cluster, the cluster will track\nthe last committed offset for a given consumer group ,to ensure that the\nconsumer group receives the correct messages.\n\nThis data is retained for a finite period. If an enabled Kafka trigger is\ndisabled for longer than the offset retention period the consumer group offset\ndata will be cleared.\n\nIf the Kafka trigger is re-enabled after the offset data has been cleared, this\nwill result in the consumer group reverting to what has been configured as the\n'Initial offset reset policy' for the trigger. This may result in the\nduplication of messages or even data loss.\n\nIt is recommended that you check the value of the `offsets.retention.minutes`\nfor the Kafka cluster to determine what the cluster's retention period is, and\nconsider this when disabling a Kafka trigger for an extended period.\n\n#### Failure notifications\n\nUnder certain failure conditions, a Kafka trigger will send an email to certain\nusers that are associated with a project. After each email an embargo is applied\nto ensure that Lightning does not flood the recipients with email. The length of\nthe embargo is controlled by the `KAFKA_NOTIFICATION_EMBARGO_SECONDS` ENV\nvariable.\n\n#### Persisting Failed Messages\n\n**PLEASE NOTE: If alternate file storage is not enabled, messages that fail to\nbe persisted will not be retained by Lightning and this can result in data loss,\nif the Kafka cluster can not make these messages available again.**\n\nIf a Kafka message fails to be persisted as a WorkOrder, Run and Dataclip, the\noption exists to write the failed message to a location on the local file\nsystem. If this option is enabled by setting `KAFKA_ALTERNATE_STORAGE_ENABLED`,\nthen the `KAFKA_ALTERNATE_STORAGE_PATH` ENV variable must be set to the path\nthat exists and is writable by Lightning. The location should also be suitably\nprotected to prevent data exposure as Lightning **will not encrypt** the message\ncontents when writing it.\n\nIf the option is enabled and a message fails to be persisted, Lightning will\ncreate a subdirectory named with the id if the affected trigger's workflow in\nthe location specified by `KAFKA_ALTERNATE_STORAGE_PATH` (assuming such a\nsubdirectory does not already exist). Lightning will serialise the message\nheaders and data as received by the Kafka pipeline and write this to a file\nwithin the subdirectory. The file will be named based on the pattern\n` _ _ _ .json`.\n\nTo recover the persisted messages, it is suggested that the affected triggers be\ndisabled before commencing. Once this is done, the following code needs to be\nrun from an IEx console on each node that is running Lightning:\n\n```elixir\nLightning.KafkaTriggers.MessageRecovery.recover_messages(\n  Lightning.Config.kafka_alternate_storage_file_path()\n)\n```\n\nFurther details regarding the behaviour of `MessageRecovery.recover_messages/1`\ncan be found in the module documentation of `MessageRecovery`. Recovered\nmessages will have the `.json` extension modified to `.json.recovered` but they\nwill be left in place. Future recovery runs will not process files that have\nbeen marked as recovered.\n\nOnce all files have either been recovered or discarded, the triggers can be\nenabled once more.","ref":"deployment.html#kafka-triggers"},{"type":"extras","title":"Google Oauth2 - Deployment","doc":"Using your Google Cloud account, provision a new OAuth 2.0 Client with the 'Web\napplication' type.\n\nSet the callback url to: `https:// /authenticate/callback`.\nReplacing `ENDPOINT DOMAIN` with the host name of your instance.\n\nOnce the client has been created, get/download the OAuth client JSON and set the\nfollowing environment variables:\n\n| **Variable**           | Description                                   |\n| ---------------------- | --------------------------------------------- |\n| `GOOGLE_CLIENT_ID`     | Which is `client_id` from the client details. |\n| `GOOGLE_CLIENT_SECRET` | `client_secret` from the client details.      |","ref":"deployment.html#google-oauth2"},{"type":"extras","title":"Salesforce Oauth2 - Deployment","doc":"Using your Salesforce developer account, create a new Oauth 2.0 connected\napplication.\n\nSet the callback url to: `https:// /authenticate/callback`.\nReplacing `ENDPOINT DOMAIN` with the host name of your instance.\n\nGrant permissions as desired.\n\nOnce the client has been created set the following environment variables:\n\n| **Variable**               | Description                                                           |\n| -------------------------- | --------------------------------------------------------------------- |\n| `SALESFORCE_CLIENT_ID`     | Which is `Consumer Key` from the \"Manage Consumer Details\" screen.    |\n| `SALESFORCE_CLIENT_SECRET` | Which is `Consumer Secret` from the \"Manage Consumer Details\" screen. |","ref":"deployment.html#salesforce-oauth2"},{"type":"extras","title":"Webhook Retry Configuration - Deployment","doc":"Lightning automatically retries webhook processing on **transient database\nconnection errors** using exponential backoff. This helps prevent data loss\nduring brief database outages.\n\nThe following environment variables control webhook retry behavior:\n\n| **Variable**                     | **Description**                                                                                  | **Default** |\n| -------------------------------- | ------------------------------------------------------------------------------------------------ | ----------: |\n| `WEBHOOK_RETRY_MAX_ATTEMPTS`     | Maximum number of attempts (the first attempt runs immediately; backoffs occur between retries). |         `5` |\n| `WEBHOOK_RETRY_INITIAL_DELAY_MS` | Initial backoff delay in milliseconds.                                                           |       `100` |\n| `WEBHOOK_RETRY_MAX_DELAY_MS`     | Maximum backoff delay in milliseconds.                                                           |     `10000` |\n| `WEBHOOK_RETRY_BACKOFF_FACTOR`   | Multiplier for exponential backoff (each delay  this factor, up to the max delay).              |         `2` |\n| `WEBHOOK_RETRY_TIMEOUT_MS`       | Total time budget for all attempts (including sleeps) in milliseconds.                           |     `60000` |\n| `WEBHOOK_RETRY_JITTER`           | Whether to add \\~025% randomization to each delay to avoid thundering herd (`true`/`false`).    |      `true` |\n\n**How backoff works (defaults, jitter off):** attempt 1 runs immediately; on\nfailure we sleep and retry up to `WEBHOOK_RETRY_MAX_ATTEMPTS - 1` times with\nexponential delays starting at `WEBHOOK_RETRY_INITIAL_DELAY_MS` and multiplying\nby `WEBHOOK_RETRY_BACKOFF_FACTOR`, capped by `WEBHOOK_RETRY_MAX_DELAY_MS`.\nExample sequence: `100ms  200ms  400ms  800ms` (four sleeps for five total\nattempts), stopping sooner if `WEBHOOK_RETRY_TIMEOUT_MS` elapses.\n\n**Server timeout alignment:** Set your Phoenix `IDLE_TIMEOUT` to be **at least**\n`WEBHOOK_RETRY_TIMEOUT_MS + 15000` (in milliseconds) so long retries finish\nbefore the connection is closed.","ref":"deployment.html#webhook-retry-configuration"},{"type":"extras","title":"Benchmarking","doc":"# Benchmarking","ref":"benchmarking.md.html"},{"type":"extras","title":"Run benchmarking tests against the demo webhook - Benchmarking","doc":"Execute the following steps to run a benchmark on Lightning:\n\n1. Make sure you have [k6](https://k6.io/docs/get-started/installation/)\n   installed locally. If you're using `asdf` you can run `asdf install` in the\n   project root.\n\n2. Start up a local Lightning instance with an attached iex session. Note that\n   to simulate a production environment, set `RTM=false`. In prod, you'll have\n   your `ws-worker` running on a separate machine:\n\n   `RMT=false iex -S mix phx.server`\n\n3. In the attached iex session, run the following, to have Lightning log\n   internal telemetry data:\n\n   ```elixir\n     filepath = Path.join(\"benchmarking\", \"load_test_data.csv\")\n     output_file = File.open!(filepath, [:append])\n\n     c \"benchmarking/load_test_production_spans.exs\"\n\n     LoadTestingPrep.init(output_file)\n   ```\n\n4. Run the demo setup script: `mix run --no-start priv/repo/demo.exs` The\n   `webhookURL` is already set to default to the webhook created in the demo\n   data\n\n   If you would like to point at a different instance or webhook url you\n   can provide it via `WEBHOOK_URL`.\n\n5. In another terminal (do not stop the Lightning server) run the\n   `benchmarking/script.js` file using the following command\n\n   ```bash\n   k6 run benchmarking/script.js\n   ```\n\n   If the script exits successfully, this means the app met the defined\n   performance thresholds.\n\n   By default, the test payload is just 2 kb. Should you wish to test it with\n   larger payloads, you can pass in the `PAYLOAD_SIZE_KB` ENV variable. This\n   variable allows you to specify the payload size in KB (for now, integer\n   values only), (e.g. 2 KB):\n\n   ```bash\n   k6 run -e PAYLOAD_SIZE_KB=2 benchmarking/script.js\n   ```\n\n   To collect the benchmarking data in a CSV file, run the previous command with\n   the `--out filename` option.\n\n   ```bash\n   k6 run --out csv=test_results.csv benchmarking/script.js\n   ```\n\n6. In the iex session, close the output file:\n\n   ```elixir\n   LoadTestingPrep.fin(output_file)\n   ```\n\nSee [results output](https://k6.io/docs/get-started/results-output/) for other\navailable output formats.","ref":"benchmarking.md.html#run-benchmarking-tests-against-the-demo-webhook"},{"type":"extras","title":"Sample benchmarks - Benchmarking","doc":"#### System specs on a 2020 MacBook Pro\n\n```\nModel Name: MacBook Pro\nModel Identifier: MacBookPro17,1\nModel Number: Z11B000E3LL/A\nChip: Apple M1\nTotal Number of Cores: 8 (4 performance and 4 efficiency)\nMemory: 16 GB\n```\n\n#### Results with 50kb payloads\n\n```\nk6 run -e PAYLOAD_SIZE=10 benchmarking/script.js                         Node 18.17.1 k6 0.43.1 07:40:29\n\n          /\\      || //   //\n     /\\  /  \\     |  |/  /   /  /\n    /  \\/    \\    |     (   /   \\\n   /          \\   |  |\\  \\ |  ()  |\n  / __________ \\  |__| \\__\\ \\_____/ .io\n\n  execution: local\n     script: benchmarking/script.js\n     output: -\n\n  scenarios: (100.00%) 1 scenario, 50 max VUs, 2m50s max duration (incl. graceful stop):\n           * webhookRequests: Up to 50.00 iterations/s for 2m20s over 3 stages (maxVUs: 50, gracefulStop: 30s)\n\n\n      status was 200\n\n      setup\n\n     checks.........................: 100.00%  5765      0\n     data_received..................: 1.6 MB  12 kB/s\n     data_sent......................: 59 MB   421 kB/s\n     http_req_blocked...............: avg=16.01s min=2s     med=9s     max=6.84ms   p(90)=12s    p(95)=13s\n     http_req_connecting............: avg=4.35s  min=0s      med=0s      max=2.22ms   p(90)=0s      p(95)=0s\n    http_req_duration..............: avg=53.62ms min=26.86ms med=49.03ms max=501.62ms p(90)=66.62ms p(95)=84.33ms\n       { expected_response:true }...: avg=53.62ms min=26.86ms med=49.03ms max=501.62ms p(90)=66.62ms p(95)=84.33ms\n    http_req_failed................: 0.00%    0         5765\n     http_req_receiving.............: avg=88.57s min=13s    med=90s    max=2.99ms   p(90)=108s   p(95)=124.8s\n     http_req_sending...............: avg=97.47s min=29s    med=83s    max=6.86ms   p(90)=139s   p(95)=162s\n     http_req_tls_handshaking.......: avg=0s      min=0s      med=0s      max=0s       p(90)=0s      p(95)=0s\n     http_req_waiting...............: avg=53.44ms min=26.68ms med=48.84ms max=501.43ms p(90)=66.43ms p(95)=84.05ms\n     http_reqs......................: 5765    41.15402/s\n     iteration_duration.............: avg=54.34ms min=20.75s med=49.75ms max=502.26ms p(90)=67.39ms p(95)=84.91ms\n     iterations.....................: 5765    41.15402/s\n     vus............................: 50      min=50     max=50\n     vus_max........................: 50      min=50     max=50\n\n\nrunning (2m20.1s), 00/50 VUs, 5765 complete and 0 interrupted iterations\nwebhookRequests  [======================================] 00/50 VUs  2m20s  01.12 iters/s\n```","ref":"benchmarking.md.html#sample-benchmarks"},{"type":"extras","title":"Run load tests for a hypothetical cold chain system - Benchmarking","doc":"`benchmarking/sample_cold_chain_monitoring_script.js` contains a k6 script that\ncan be used to simulate data from a hypothetical cold chain system. It requires a\ncustom job to be created (an example of which can be found at the top of the\nscript file).\n\nThe test can be excuted as follows (`WEBHOOK_URL` is not optional):\n\n```bash\n   WEBHOOK_URL=... k6 run benchmarking/sample_cold_chain_monitoring_script.js\n```","ref":"benchmarking.md.html#run-load-tests-for-a-hypothetical-cold-chain-system"},{"type":"extras","title":"Workers","doc":"# Workers\n\nThe OpenFn Runtime used by Lightning is a [Node.js](https://nodejs.org/en/)\napplication that runs on a server. It is responsible for executing the code that\nyou write in your OpenFn jobs.\n\nA Runtime Manager is a module or application that processes Runs, which\ncontains reference to the Workflow, the starting point and the initial data.\n\nRuns are enqueued, and Runtime Managers request work to be performed when\nthey are ready.","ref":"workers.html"},{"type":"extras","title":"History - Workers","doc":"In previous versions of OpenFn products, the server would invoke a NodeJS child\nprocess for each Run that needs to be executed. Deciding which Job to run in a\nworkflow is decided after each run is completed.\n\nThe current approach to executing Runs, is that a worker checks out the\nentire run and executes it and all the jobs required.\n\nThe advantage of this approach is a significant reduction in latency of\nlaunching new workers for every Run to be processed.","ref":"workers.html#history"},{"type":"extras","title":"Connecting Workers to Lightning - Workers","doc":"Our standard Runtime Manager uses WebSockets to communicate with Lightning.\n\nHowever, since the workers are treated no differently from any other incoming\ntraffic; there are two layers of security applied to anything that can access\nyour data or process work.\n\nWe use two different JWTs to facilitate the follow:","ref":"workers.html#connecting-workers-to-lightning"},{"type":"extras","title":"Worker Token - Workers","doc":"This token is created by the worker and signed with a shared HS256 secret that\nLightning uses to verify.","ref":"workers.html#worker-token"},{"type":"extras","title":"Run Token - Workers","doc":"This token is created by Lightning for every Run that a worker receives. The\ntoken is signed with a private key, and therefore cannot be generated by 3rd\nparties.\n\nThe token is scoped for a single Run and cannot be used to access anything\noutside of the scope of that Run.","ref":"workers.html#run-token"},{"type":"extras","title":"Generating Keys - Workers","doc":"Lightning comes with a mix task to help generate keys:\n\n```\nmix lightning.gen_worker_keys\n```","ref":"workers.html#generating-keys"},{"type":"extras","title":"Configuring Lightning and Workers - Workers","doc":"There are three environment variables required to make everything work.\n\n**`WORKER_RUNS_PRIVATE_KEY`**\n\n_Lightning only_\n\nA Base64 encoded private key in PEM format, used to generate JWTs granting\nworkers permission to access a specific Run, the related Workflow and\ncredentials.\n\n> [!IMPORTANT] This key should never be shared. If you suspect it has been\n> compromised, generate a new one and reconfigure both Lightning and your\n> workers.\n\n**`WORKER_SECRET`**\n\n_Lightning and Workers_\n\nA 256bit long shared secret used by the worker to sign JWTs for authentication\nwith the Lightning API.\n\n**`WORKER_LIGHTNING_PUBLIC_KEY`**\n\n_Workers only_\n\nA Base64 encoded public key in PEM format derived from the private key. This is\nused by workers to verify Run Tokens coming from Lightning.","ref":"workers.html#configuring-lightning-and-workers"},{"type":"extras","title":"Troubleshooting - Workers","doc":"","ref":"workers.html#troubleshooting"},{"type":"extras","title":"Problems with NodeJS DNS name resolution - Workers","doc":"NodeJS v17 [changed](https://github.com/nodejs/node/pull/39987) how DNS name\nresolution is handled. In earlier versions, Node would reorder DNS lookup\nresults so IPv4 addresses came before IPv6 addresses. In v17, Node started\nreturning addresses in the same order provided by the resolver. The net effect\nis that your workers might fail to connect to Lightning if the native DNS\nresolver on your system is returning the loopback IPv6 address (`::1`) before\nthe IPv4 address (`127.0.0.1`). In these cases, your worker might report an\nerror similar to the following:\n\n```\nCRITICAL ERROR: could not connect to lightning at ws://localhost:4000/worker\n```\n\nIf you experience this, it can be helpful to set the `NODE_OPTIONS` environment\nvariable as shown below. This will force pre-v17 behavior of returning IPv4\naddresses first.\n\n```\nNODE_OPTIONS=--dns-result-order=ipv4first\n```\n\nYou can directly inspect what IP address Node returns for `localhost` by running\nthe following command:\n\n```\nnode -e 'dns.lookup(\"localhost\", console.log)'\n```","ref":"workers.html#problems-with-nodejs-dns-name-resolution"},{"type":"extras","title":"Provisioning","doc":"# Provisioning\n\nLightning offers the ability to configure projects via the HTTP API.\n\nBy providing a JSON document with the desired configuration, the project can be\nconfigured to your liking.","ref":"provisioning.html"},{"type":"extras","title":"Using the API - Provisioning","doc":"The API is available at `/api/provision`, and expects an `application/json`\nContent-Type.","ref":"provisioning.html#using-the-api"},{"type":"extras","title":"Authentication - Provisioning","doc":"The API requires a valid auth token to be provided in the `Authorization`\nheader.","ref":"provisioning.html#authentication"},{"type":"extras","title":"Example Request - Provisioning","doc":"```bash\n curl -X POST \\\n   -d @project.json \\\n   -H \"Authorization: Bearer $TOKEN\" \\\n   -H \"Content-Type: application/json\" \\\n   $ENDPOINT/api/provision\n```","ref":"provisioning.html#example-request"},{"type":"extras","title":"Document Structure - Provisioning","doc":"The provisioning document is a JSON document with the project at the root.\n\n> All entities **must have** an `id` field, which is a UUIDv4 string. In the\n> case of new entities, this must be generated by the client.\n\n```jsonc\n{\n  \"id\": \"< >\",\n  \"name\": \"< >\",\n  \"workflows\": [\n    {\n      \"id\": \"< >\",\n      \"name\": \"< >\",\n      \"jobs\": [\n        {\n          \"id\": \"< >\",\n          \"name\": \"< >\",\n          \"body\": \"< >\",\n          \"adaptor\": \"< >\",\n          \"enabled\": true\n        }\n        // ... more jobs\n      ],\n      \"triggers\": [\n        {\n          \"id\": \"< >\",\n          \"name\": \"< >\",\n          \"type\": \"webhook\"\n        }\n        // ... more triggers\n      ],\n      \"edges\": [\n        {\n          \"id\": \"< >\",\n          \"source_trigger_id\": \"< >\",\n          \"target_job_id\": \"< >\"\n        }\n        // ... more edges\n      ]\n    }\n    // ... more workflows\n  ]\n}\n```","ref":"provisioning.html#document-structure"},{"type":"extras","title":"API Behaviour - Provisioning","doc":"The API expects **all** existing entities to be provided in the provisioning\ndocument.\n\nIf the document provided is out of date (e.g. a new job was added on the\nserver), a new reference document should be fetched and the changes applied to\nit.","ref":"provisioning.html#api-behaviour"},{"type":"extras","title":"Deleting Entities - Provisioning","doc":"Entities can be deleted by setting the `delete` key to `true`.\n\nExample:\n\n```jsonc\n{\n  \"id\": \"< >\",\n  \"workflows\": [\n    {\n      \"id\": \"< >\",\n      \"jobs\": [\n        {\n          \"id\": \"< >\",\n          \"delete\": true // <== delete this job\n        }\n      ]\n    }\n  ]\n}\n```","ref":"provisioning.html#deleting-entities"},{"type":"extras","title":"Relationship with Projects as Code - Provisioning","doc":"The Projects as Code spec is a superset of the provisioning API.\n\nProjects as Code allows for the user to specify a key for each entity, which\nmakes it easier to manage the project in the future.\n\nFor example:\n\n```yaml\nname: my-project\nworkflows:\n  workflow-one:\n    jobs:\n      job-one:\n        body: |\n          console.log(\"Hello World\");\n        adaptor: '@openfn/language-common'\n        enabled: true\n    triggers:\n      trigger-one:\n        type: webhook\n    edges:\n      - source_trigger: trigger-one\n        target_job: job-one\n```\n\nThe above YAML document illustrates the use of keys being used to identify\nentities. Allowing the user to provision the same project to multiple\nenvironments.\n\nThe API is unaware of 'keys', and expects IDs to be provided by the client.\n\nIn order to convert the above YAML document to a provisioning document, the CLI\nuses a local state file (if available) to map the keys to UUIDs.\n\nUsing the example above a state file might look like this:\n\n```jsonc\n{\n  \"id\": \"f6ba9a8c-b687-473a-908e-e250686f1eed\",\n  \"workflows\": {\n    \"workflow-one\": {\n      \"id\": \"f206aa85-4fce-492e-94eb-ffd32c75d178\",\n      \"jobs\": {},\n      \"triggers\": {}\n    }\n  }\n}\n```\n\nThe state file shows that the project and workflow already exist, but the job,\ntrigger and edge do not. In order to create these new entities, IDs will be\napplied them.\n\nOn a successful application of the provisioning document, the state file will be\nupdated to reflect the new IDs and entities.\n\n```json\n{\n  \"id\": \"f6ba9a8c-b687-473a-908e-e250686f1eed\",\n  \"workflows\": {\n    \"workflow-one\": {\n      \"id\": \"f206aa85-4fce-492e-94eb-ffd32c75d178\",\n      \"jobs\": {\n        \"job-one\": { \"id\": \"18ed71de-caf8-4822-aefc-5b19351f4016\" }\n      },\n      \"triggers\": {\n        \"trigger-one\": { \"id\": \"e0b9f357-9cf9-4206-9924-4d5674aad830\" }\n      },\n      \"edges\": [\n        {\n          \"id\": \"c239d994-6662-4637-90f8-0293c924b461\",\n          \"source_trigger_id\": \"e0b9f357-9cf9-4206-9924-4d5674aad830\",\n          \"target_job_id\": \"18ed71de-caf8-4822-aefc-5b19351f4016\"\n        }\n      ]\n    }\n  }\n}\n```","ref":"provisioning.html#relationship-with-projects-as-code"},{"type":"extras","title":"Changelog","doc":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\n- `Added` for new features.\n- `Changed` for changes in existing functionality.\n- `Deprecated` for soon-to-be removed features.\n- `Removed` for now removed features.\n- `Fixed` for any bug fixes.\n- `Security` in case of vulnerabilities.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this project adheres to\n[Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]","ref":"changelog.html"},{"type":"extras","title":"Added - Changelog","doc":"","ref":"changelog.html#added"},{"type":"extras","title":"Changed - Changelog","doc":"- Unify disabled button states across collaborative editor for consistent\n  styling and behaviour [#4179](https://github.com/OpenFn/lightning/issues/4179)","ref":"changelog.html#changed"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix saving workflow with same name as deleted workflow\n  [#4165](https://github.com/OpenFn/lightning/pull/4165)\n- Fix validation error states not changing after undo (Ctrl+Z) on Workflow\n  Settings [#4182](https://github.com/OpenFn/lightning/issues/4182))\n\n## [2.15.0-pre4] - 2025-12-08","ref":"changelog.html#fixed"},{"type":"extras","title":"Added - Changelog","doc":"- Display collab editor promotion in the legacy editor\n  [#4091](https://github.com/OpenFn/lightning/issues/4091)\n- Template search and selection in collaborative workflow editor with AI-powered\n  workflow generation for missing templates\n  [#4081](https://github.com/OpenFn/lightning/issues/4081)\n  [#4052](https://github.com/OpenFn/lightning/issues/4052)\n- AI Assistant integration in collaborative workflow editor\n  [#4042](https://github.com/OpenFn/lightning/pull/4042)","ref":"changelog.html#added-1"},{"type":"extras","title":"Changed - Changelog","doc":"- Standardize run buttons so they all behave predictably\n  [#4129](https://github.com/OpenFn/lightning/issues/4129)\n- Make collab editor available to everyone (not just experimental feature users)\n  [#4091](https://github.com/OpenFn/lightning/issues/4091)","ref":"changelog.html#changed-1"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix Run/Retry button flash and improve History button UX in collaborative\n  editor [#4108](https://github.com/OpenFn/lightning/issues/4108)\n- Fix new jobs are misplaced on the canvas in manual layout\n  [#4118](https://github.com/OpenFn/lightning/issues/4118)\n- Fix docs not working for latest version of adaptors in IDE\n  [#4136](https://github.com/OpenFn/lightning/issues/4136)\n\n## [2.15.0-pre3] - 2025-12-05","ref":"changelog.html#fixed-1"},{"type":"extras","title":"Added - Changelog","doc":"- Collab Editor: Respect limits when creating runs and retries\n  [#4102](https://github.com/OpenFn/lightning/issues/4102)","ref":"changelog.html#added-2"},{"type":"extras","title":"Fixed - Changelog","doc":"- Selected run sometimes fails to highlight step in the collab editor\n  [#4127](https://github.com/OpenFn/lightning/issues/4127)\n- Run logs no longer disappear after browser refresh in IDE\n  [#4079](https://github.com/OpenFn/lightning/issues/4079)\n- Fix version chip [#4120](https://github.com/OpenFn/lightning/issues/4120)\n- Fix OAuth credential creation crash in Collaborate view when returning from\n  provider authorization\n  [#4131](https://github.com/OpenFn/lightning/issues/4131)\n\n## [2.15.0-pre2] - 2025-12-04","ref":"changelog.html#fixed-2"},{"type":"extras","title":"Added - Changelog","doc":"- User preference persistence for collaborative editor - users can now toggle\n  between legacy and collaborative editors, and their choice is remembered\n  across sessions with automatic redirect\n  [#4091](https://github.com/OpenFn/lightning/issues/4091)\n- Added mini history to the IDE as a state machine that provides the same\n  experience that's available on the canvas\n  [#4054](https://github.com/OpenFn/lightning/issues/4054)\n  - **If no run chosen?** You can browse from history or create a new one.\n  - **If run chosen?** You can view the details or deselect to start over.","ref":"changelog.html#added-3"},{"type":"extras","title":"Changed - Changelog","doc":"- Refactor URLStore to use Record with Immer for proper structural sharing,\n  reducing unnecessary re-renders when unrelated URL params change\n  [#4097](https://github.com/OpenFn/lightning/issues/4097)\n- Show \"Connect\" button when no credential is selected for non-language-common\n  steps [#4085](https://github.com/OpenFn/lightning/issues/4085)\n- Show credential name (and full name and owner on hover) when a credential is\n  selected [#4085](https://github.com/OpenFn/lightning/issues/4085)\n- Allow owners to edit credentials from the adaptor picker\n  [#4085](https://github.com/OpenFn/lightning/issues/4085)","ref":"changelog.html#changed-2"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix version not switching when selecting a run from history panel\n  [#4097](https://github.com/OpenFn/lightning/issues/4097)\n- User menu dropdown no longer clips or causes horizontal scroll in side\n  navigation [#4092](https://github.com/OpenFn/lightning/issues/4092)\n- Improved version mismatch banner UX: made compact, dismissible, and\n  repositioned to top-center; improved history panel collapse behavior to\n  maintain run selection with visual run chip indicator\n  [#4044](https://github.com/OpenFn/lightning/issues/4044)\n- Settings panel now opens correctly when Run Panel is visible; also improved\n  Run Panel to stay open and update context when switching between nodes\n  [#4008](https://github.com/OpenFn/lightning/issues/4008)\n- Fix collaborative cursors disappearing after switching workflow versions\n  [#4066](https://github.com/OpenFn/lightning/issues/4066)\n- Throttle cursor awareness updates to reduce server load\n  [#4066](https://github.com/OpenFn/lightning/issues/4066)\n- Loading workflow screen appears when disconnected from server\n  [#3972](https://github.com/OpenFn/lightning/issues/3972)\n- IDE shows job expresion of previously selected job\n  [#4022](https://github.com/OpenFn/lightning/issues/4022)\n- Fix save & run buttons disabled after new workflow save\n  [#4084](https://github.com/OpenFn/lightning/issues/4084)\n- Fix flickering of canvas and job editor\n  [#4095](https://github.com/OpenFn/lightning/issues/4095)\n- Run channel crashes when sending `run:updated` event\n  [#4093](https://github.com/OpenFn/lightning/issues/4093)\n- Fix Version mismatch modal appears on top of IDE\n  [#4096](https://github.com/OpenFn/lightning/issues/4096)\n\n## [2.15.0-pre1] - 2025-11-27","ref":"changelog.html#fixed-3"},{"type":"extras","title":"Added - Changelog","doc":"- Add workflow template publishing to collaborative editor\n  [#3921](https://github.com/OpenFn/lightning/issues/3921)","ref":"changelog.html#added-4"},{"type":"extras","title":"Changed - Changelog","doc":"- Optimize dashboard stats queries with database aggregation\n  [#4070](https://github.com/OpenFn/lightning/issues/4070)\n- Add composite indexes on steps and runs for dashboard queries\n  [#4070](https://github.com/OpenFn/lightning/issues/4070)\n- Enable usage limit checks across the whole application\n  [#PR4050](https://github.com/OpenFn/lightning/pull/4050)\n- Make IDE heading separate from top menu\n  [#4077](https://github.com/OpenFn/lightning/issues/4077)\n- Update IDE workflow step selector (order by proximity to trigger)\n  [#4048](https://github.com/OpenFn/lightning/issues/4048)","ref":"changelog.html#changed-3"},{"type":"extras","title":"Fixed - Changelog","doc":"- Version dropdown now updates correctly for all users after workflow save\n  [#3985](https://github.com/OpenFn/lightning/issues/3985)\n  [#4024](https://github.com/OpenFn/lightning/issues/4024)\n- Put close button in top right\n  [PR#4037](https://github.com/OpenFn/lightning/pull/4037)\n- Don't grey out in-progress runs\n  [PR#4037](https://github.com/OpenFn/lightning/pull/4037)\n- Explain why run panel is grey for edge-case when the workflow step selected\n  not in the list of run steps\n  [PR#4037](https://github.com/OpenFn/lightning/pull/4037)\n- Fix history panel unable to close after selecting/deselecting run\n  [#4027](https://github.com/OpenFn/lightning/issues/4027)\n- Fix version chip (and sidebar scroll) when line breaks needed\n  [PR#4047](https://github.com/OpenFn/lightning/pull/4047)\n- Fix error validation for nodes/edges & show better error messages on save\n  [PR#4061](https://github.com/OpenFn/lightning/pull/4061)\n- Fix custom cron expressions getting overwritten & additional cron support\n  [#4011](https://github.com/OpenFn/lightning/issues/4011)\n- Fix monaco popups and tooltips getting cut off\n  [PR#4072](https://github.com/OpenFn/lightning/pull/4072)\n- Fix metadata/docs panel reopening when resizing adjacent panel\n  [#4073](https://github.com/OpenFn/lightning/issues/4073)\n- Fix logs panel not allowing scroll after being resized to minimum height\n  [PR#4067](https://github.com/OpenFn/lightning/pull/4067)\n\n## [2.15.0-pre] - 2025-11-20","ref":"changelog.html#fixed-4"},{"type":"extras","title":"Added - Changelog","doc":"- Show collaborators mouse pointers on the workflow canvas\n  [#3810](https://github.com/OpenFn/lightning/issues/3810)","ref":"changelog.html#added-5"},{"type":"extras","title":"Changed - Changelog","doc":"- Always keep the Diagram mounted even when the IDE is present\n  [#3981](https://github.com/OpenFn/lightning/issues/3981)\n- Dropped react-hotkeys-hook for custom priority based key handler hook\n  [#3981](https://github.com/OpenFn/lightning/issues/3981)\n- Simplified IDE by only letting users see the \"Create a New Manual Run Panel\"\n  when an existing Run isn't already loaded. Cleaned up the Run panel.\n  [#4006](https://github.com/OpenFn/lightning/issues/4006)\n- Consolidated RunStore functionality into HistoryStore in collaborative editor\n  for improved state management and reduced complexity\n- Default failure notifications for project users are now disabled to minimize\n  email volume [#3517](https://github.com/OpenFn/lightning/issues/3517)\n- Simpler \"disabled\" state for workflows, still show last mod\n  [#3962](https://github.com/OpenFn/lightning/issues/3962)\n- Move user profile to top left corner\n  [#3997](https://github.com/OpenFn/lightning/issues/3997)\n- Collapse breadcrumbs when there are more than 2 of them\n  [#3997](https://github.com/OpenFn/lightning/issues/3997)","ref":"changelog.html#changed-4"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix flickering of active collaborator icons between states(active, inactive,\n  unavailable) [#3931](https://github.com/OpenFn/lightning/issues/3931)\n- Restored footers to inspectors on the canvas while in read only mode\n  [#4018](https://github.com/OpenFn/lightning/issues/4018)\n- Fix vertical scrolling in workflow panels\n  [#3979](https://github.com/OpenFn/lightning/issues/3979)\n- Fix ghost edges blocking saves and breaking autolayout when deleting jobs in\n  collaborative editor [#3983](https://github.com/OpenFn/lightning/issues/3983)\n- Fix tooltip styling inconsistencies in collaborative editor\n  [#3980](https://github.com/OpenFn/lightning/issues/3980)\n- Fix beaker icon appearing active in classical editor\n  [#3988](https://github.com/OpenFn/lightning/issues/3988)\n- Fix ESC key closing IDE when pressed on adaptor modal\n  [#3978](https://github.com/OpenFn/lightning/issues/3978)\n- Fix run/save-and-run keystroke mapping for canvas & IDE\n  [#3902](https://github.com/OpenFn/lightning/issues/3902) &\n  [#3903](https://github.com/OpenFn/lightning/issues/3903)\n- Monaco tooltips get cut off\n  [#3900](https://github.com/OpenFn/lightning/issues/3900)\n\n## [2.14.15-pre] - 2025-11-13","ref":"changelog.html#fixed-5"},{"type":"extras","title":"Added - Changelog","doc":"- Add missing adaptor and credential tooltips to the collab editor\n  [#3919](https://github.com/OpenFn/lightning/issues/3919)\n- Show server validation errors in the collab editor forms\n  [#3783](https://github.com/OpenFn/lightning/issues/3783)\n- Add advanced credential type picker in collaborative workflow editor allowing\n  users to create OAuth, raw JSON, and keychain credentials directly from the\n  workflow canvas [#3906](https://github.com/OpenFn/lightning/issues/3906)\n- Enforce readonly state in collaborative editor forms for viewers and old\n  snapshots [#3948](https://github.com/OpenFn/lightning/pull/3948)\n- Collab Editor: Add Workflow YAML code viewer panel\n  [#3646](https://github.com/OpenFn/lightning/issues/3646)\n- Webhook authentication management in the collaborative editor\n  [#3887](https://github.com/OpenFn/lightning/issues/3887)\n- Mix task to merge project state files without database access\n  [#3615](https://github.com/OpenFn/lightning/issues/3615)\n- Support Undo/Redo commands in the collab editor\n  [#3712](https://github.com/OpenFn/lightning/issues/3712)\n- Added adaptor docs & metadata panel to IDE\n  [#3857](https://github.com/OpenFn/lightning/issues/3857)\n- Show Error indication on workflow settings button\n  [#3632](https://github.com/OpenFn/lightning/issues/3632)","ref":"changelog.html#added-6"},{"type":"extras","title":"Changed - Changelog","doc":"- Merged CollaborateNew and Collaborate LiveViews into a single unified LiveView\n  for improved maintainability and consistent modal behavior\n  [#3942](https://github.com/OpenFn/lightning/pull/3942)","ref":"changelog.html#changed-5"},{"type":"extras","title":"Fixed - Changelog","doc":"- 500 error when navigating from collaborative editor to full history page\n  [#3941](https://github.com/OpenFn/lightning/pull/3941)\n- Duplicate `isReadOnly` declaration in TriggerForm that was blocking asset\n  builds [#3976](https://github.com/OpenFn/lightning/issues/3976)\n- Run duration and status alignment drift in history view\n  [#3945](https://github.com/OpenFn/lightning/pull/3945)\n- Shared doc lookup in clustered environments now works across nodes instead of\n  only searching locally\n  [#3910](https://github.com/OpenFn/lightning/issues/3910)\n\n## [2.14.14] - 2025-11-05","ref":"changelog.html#fixed-6"},{"type":"extras","title":"Added - Changelog","doc":"- Add the ability to search by dataclip name on the history page\n  [#3486](https://github.com/OpenFn/lightning/issues/3486)","ref":"changelog.html#added-7"},{"type":"extras","title":"Fixed - Changelog","doc":"- Exception when cleaning up old persisted documents\n  [#3932](https://github.com/OpenFn/lightning/issues/3932)\n- Legacy canvas new job nodes no longer auto-populate with adaptor name\n  [#3920](https://github.com/OpenFn/lightning/issues/3920)\n\n## [2.14.14-pre2] - 2025-11-04","ref":"changelog.html#fixed-7"},{"type":"extras","title":"Added - Changelog","doc":"- Run/retry split button in collaborative editor allowing users to retry\n  existing runs or create new work orders from both the ManualRunPanel and\n  fullscreen IDE header [#3876](https://github.com/OpenFn/lightning/issues/3876)\n- Keyboard shortcuts for run/retry actions - `Cmd+Enter` (or `Ctrl+Enter`)\n  triggers run/retry, `Cmd+Shift+Enter` create new work order\n  [#3861](https://github.com/OpenFn/lightning/issues/3861)","ref":"changelog.html#added-8"},{"type":"extras","title":"Changed - Changelog","doc":"- Updated styles on new IDE to match (nay, exceed!) those on the legacy IDE\n  [#3894](https://github.com/OpenFn/lightning/issues/3894)\n- Add save & sync split button to new canvas & IDE header\n  [#3908](https://github.com/OpenFn/lightning/issues/3908)\n- Show collaborators in the header of the new canvas & IDE\n  [#3845](https://github.com/OpenFn/lightning/issues/3845)","ref":"changelog.html#changed-6"},{"type":"extras","title":"Fixed - Changelog","doc":"- Channel error handling crash when error responses don't include expected\n  structure [#3928](https://github.com/OpenFn/lightning/issues/3928)\n- Dataclip body display timing out due to slow credentials query - optimised\n  query to leverage indexes better using a self-join\n  [#3924](https://github.com/OpenFn/lightning/issues/3924)\n- Adaptor picker changes now sync immediately to Y.Doc instead of requiring\n  manual save [#3904](https://github.com/OpenFn/lightning/issues/3904)\n- Fixed Cmd+Enter creating duplicate work orders in workflow editor - both\n  ManualRunPanel and WorkflowEditor keyboard handlers were firing simultaneously\n  [#3876](https://github.com/OpenFn/lightning/issues/3876)\n- Fixed GenServer crash when retrying from collaborative editor due to Y.Doc\n  workflow data structure issues\n  [#3876](https://github.com/OpenFn/lightning/issues/3876)\n- Fixed run panel blocking node selection and causing screen flashes when\n  switching between nodes\n  [#3876](https://github.com/OpenFn/lightning/issues/3876)\n\n## [2.14.14-pre1] - 2025-10-30","ref":"changelog.html#fixed-8"},{"type":"extras","title":"Added - Changelog","doc":"- Adaptor and credential configuration in canvas job inspector - users can now\n  configure adaptor version and connect credentials directly from the canvas\n  [#3834](https://github.com/OpenFn/lightning/issues/3834)\n- Press `Control-E` (or `+E`) to open the IDE when a job/step is selected\n  [#3890](https://github.com/OpenFn/lightning/issues/3890)\n- Drag-to-connect nodes on workflow canvas - users can now drag from the plus\n  button on a node and drop it onto another node to create connections\n  [#3825](https://github.com/OpenFn/lightning/issues/3825)\n- Read-only indicator in collaborative editor header\n  [#3627](https://github.com/OpenFn/lightning/issues/3627)\n- Sync workflow concurrency and enable_job_logs settings in collaborative\n  editor - allows users to configure max concurrency and console.log() usage\n  with real-time collaborative editing support\n  [#3798](https://github.com/OpenFn/lightning/issues/3798) and\n  [#3799](https://github.com/OpenFn/lightning/issues/3799)\n- Show validation error message when creating sandbox with duplicate name\n  [#3776](https://github.com/OpenFn/lightning/issues/3776)\n- Divergence warning when merging sandboxes - displays alert if target branch\n  was modified after sandbox creation to prevent data loss\n  [#3747](https://github.com/OpenFn/lightning/issues/3747)\n- Sandbox indicator banners in workflow editor (inspector) to help indicate when\n  working in a sandbox environment\n  [#3413](https://github.com/OpenFn/lightning/issues/3413)\n- Manual runs from the canvas and the IDE\n  [#3827](https://github.com/openfn/lightning/issues/3827) and\n  [$3634](https://github.com/openfn/lightning/issues/3634)\n- View and switch versions\n  [#3819](https://github.com/openfn/lightning/issues/3819)\n- Run viewer panel in collaborative IDE with Run, Log, Input, and Output tabs\n  [#3844](https://github.com/OpenFn/lightning/issues/3844)","ref":"changelog.html#added-9"},{"type":"extras","title":"Changed - Changelog","doc":"- Error messages in collaborative editor now include field names for validation\n  errors (e.g., \"Name: can't be blank\")\n  [#3843](https://github.com/OpenFn/lightning/issues/3843)\n- Added error notifications when workflow reset fails in collaborative editor\n  [#3843](https://github.com/OpenFn/lightning/issues/3843)\n- Consolidated toast notification styling in collaborative editor for better\n  maintainability [#3843](https://github.com/OpenFn/lightning/issues/3843)","ref":"changelog.html#changed-7"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevent manual run panel from opening via keystroke if running isn't possible\n  (permissions or snapshot)\n- Default Next Input for Cron-Triggered Workflows\n  [#3856](https://github.com/OpenFn/lightning/issues/3856)\n- Error toasts not appearing when workflow save fails (validation errors,\n  permission denied, etc.) in collaborative editor\n  [#3843](https://github.com/OpenFn/lightning/issues/3843)\n- Toast notification colors not displaying correctly due to CSS specificity\n  issues [#3843](https://github.com/OpenFn/lightning/issues/3843)\n- Canvas goes blank when adding nodes in collaborative workflow editor\n  [#3848](https://github.com/OpenFn/lightning/issues/3848)\n- Crash when switching from old to collaborative editor\n  [#3865](https://github.com/OpenFn/lightning/issues/3865)\n- Position errors when rendering nodes\n  [#3866](https://github.com/OpenFn/lightning/issues/3866)\n- Layout animation crashes when adding nodes\n  [#3867](https://github.com/OpenFn/lightning/issues/3867)\n- Fixed sandbox merge failing with StaleEntryError when parent workflow was\n  modified after sandbox creation\n  [#3765](https://github.com/OpenFn/lightning/issues/3765)\n- Workflow is either decapitated or uneditable\n  [#3842](https://github.com/OpenFn/lightning/issues/3842)\n- User can navigate to React canvas from LiveView version\n  [#3847](https://github.com/openfn/lightning/issues/3847)\n- Fixed missing cron icon in trigger on new canvas\n  [#3849](https://github.com/OpenFn/lightning/issues/3849)\n\n## [2.14.13] - 2025-10-24\n\n## [2.14.13-pre1] - 2025-10-24","ref":"changelog.html#fixed-9"},{"type":"extras","title":"Added - Changelog","doc":"- Ability to run a workflow from the new react canvas\n  [#3634](https://github.com/OpenFn/lightning/issues/3634)\n\n## [2.14.13-pre] - 2025-10-24","ref":"changelog.html#added-10"},{"type":"extras","title":"Added - Changelog","doc":"- Ability to delay webhook trigger replies until a workflow finishes;  note\n  that this is an experimental feature (API subject to change, only enabled via\n  DB updates) [#PR3785](https://github.com/OpenFn/lightning/pull/3785)\n- REST API for runs, work_orders, and log_lines to refresh GovStack compliance\n  [#1656](https://github.com/OpenFn/lightning/issues/1656) &\n  [PR#3786](https://github.com/OpenFn/lightning/pull/3786)\n- Added full-screen IDE for job editing\n  [#3708](https://github.com/OpenFn/lightning/issues/3708)\n- Show collaborative editor toggle (beaker icon) when creating new workflows\n  [#3797](https://github.com/OpenFn/lightning/pull/3797)\n- Auto-format code on commit with git hooks\n  [#3806](https://github.com/OpenFn/lightning/pull/3806)\n- Escape key support for closing inspector panels in collaborative workflow\n  editor, using react-hotkeys-hook for scoped keyboard shortcuts with modal\n  priority [#3768](https://github.com/OpenFn/lightning/issues/3768)","ref":"changelog.html#added-11"},{"type":"extras","title":"Changed - Changelog","doc":"- Removed Cancel button from inspector panel footers (redundant with X button\n  and Escape key) [#3768](https://github.com/OpenFn/lightning/issues/3768)\n- Refactored inspector component architecture to use composition pattern with\n  reusable layout shell and pure form components\n  [#3768](https://github.com/OpenFn/lightning/issues/3768)\n- Updated breadcrumb navigation to display parent project name before sandbox\n  name [#3474](https://github.com/OpenFn/lightning/issues/3474)","ref":"changelog.html#changed-8"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed credential preservation during sandbox workflow merge - credentials are\n  now correctly maintained when merging sandboxes back to parent projects\n  [#3782](https://github.com/OpenFn/lightning/issues/3782)\n- Backfilled `env` field for existing root projects to ensure environment chips\n  display correctly in workflow editor and inspector\n  [#3839](https://github.com/OpenFn/lightning/issues/3839)\n\n## [2.14.12] - 2025-10-21\n\n## [2.14.12-pre1] - 2025-10-21","ref":"changelog.html#fixed-10"},{"type":"extras","title":"Fixed - Changelog","doc":"- Ensure default positions when using the Workflow Assistant with manual\n  positioning enabled [#3795](https://github.com/OpenFn/lightning/issues/3795)\n\n## [2.14.12-pre] - 2025-10-21","ref":"changelog.html#fixed-11"},{"type":"extras","title":"Added - Changelog","doc":"- Editable EdgeInspector form in collaborative workflow editor with TanStack\n  Form, enabling users to configure edge properties (label, condition type, JS\n  expressions, enabled state) with auto-save and real-time collaborative editing\n  [#3701](https://github.com/OpenFn/lightning/issues/3701)\n- Delete nodes from Job panel in Collaborative Editor\n  [#3702](https://github.com/OpenFn/lightning/issues/3702)\n- Reintroduce the impeded project with hopefully better performance\n  characteristics [#3542](https://github.com/OpenFn/lightning/issues/3542)","ref":"changelog.html#added-12"},{"type":"extras","title":"Changed - Changelog","doc":"- Tweaked the Sandbox color palette\n- Detect and clean stale CMake caches in bootstrap script\n  [PR#3762](https://github.com/OpenFn/lightning/pull/3762)\n- Implement workflow settings form using tanstack form\n  [#3643](https://github.com/OpenFn/lightning/issues/3643)\n- [#3774](https://github.com/OpenFn/lightning/pull/3774)Adjusted padding of\n  labels in the Workflow Diagram.","ref":"changelog.html#changed-9"},{"type":"extras","title":"Fixed - Changelog","doc":"- Jobs in collaborative editor can now be saved without selecting a credential\n  [#3760](https://github.com/OpenFn/lightning/issues/3760)\n- Runtime permission checks in WorkflowChannel save/reset operations to prevent\n  unauthorized edits when user roles change during active collaboration sessions\n  [#3749](https://github.com/OpenFn/lightning/issues/3749)\n\n## [2.14.11] - 2025-10-15\n\n## [2.14.11-pre1] - 2025-10-15","ref":"changelog.html#fixed-12"},{"type":"extras","title":"Added - Changelog","doc":"- Create new workflow via YAML in the collaborative editor\n  [#3700](https://github.com/OpenFn/lightning/issues/3700)\n- E2E tests for edge validation in collaborative editor\n  [#3724](https://github.com/OpenFn/lightning/issues/3724)\n- Ensure that TOTP codes cannot be reused.\n  [#3758](https://github.com/OpenFn/lightning/issues/3758)","ref":"changelog.html#added-13"},{"type":"extras","title":"Changed - Changelog","doc":"- Detect and clean stale CMake caches in bootstrap script\n  [PR#3762](https://github.com/OpenFn/lightning/pull/3762)","ref":"changelog.html#changed-10"},{"type":"extras","title":"Fixed - Changelog","doc":"- Credentials added to parent projects now automatically propagate to all\n  descendant sandbox projects, ensuring sandboxes have access to parent\n  credentials. Includes migration to backfill existing missing associations.\n  [#3756](https://github.com/OpenFn/lightning/issues/3756)\n\n## [2.14.11-pre] - 2025-10-14","ref":"changelog.html#fixed-13"},{"type":"extras","title":"Added - Changelog","doc":"- User interface for merging sandboxes\n  [#3436](https://github.com/OpenFn/lightning/issues/3436)\n- Credential environments user interface and runtime\n  [#3598](https://github.com/OpenFn/lightning/issues/3598)\n- Save button with validation and permissions in collaborative workflow editor\n  [#3635](https://github.com/OpenFn/lightning/issues/3635)\n- Workflow reset functionality in collaborative editor\n  [#3635](https://github.com/OpenFn/lightning/issues/3635)\n- Toast notifications and Redux DevTools integration for collaborative editor\n  [#3635](https://github.com/OpenFn/lightning/issues/3635)\n- E2E test infrastructure with Page Object Models for workflow testing\n- E2E testing guidelines for Playwright\n- Add project merging functionality\n  [#3432](https://github.com/OpenFn/lightning/issues/3432)\n- SessionContextStore for collaborative workflow editor to provide user,\n  project, and config data to React components via Phoenix Channel\n- E2E test infrastructure with Page Object Models for workflow editor testing\n- E2E test for workflow step creation and configuration\n- Force restart and AdaptorRegistry warming on E2E manager script","ref":"changelog.html#added-14"},{"type":"extras","title":"Changed - Changelog","doc":"- Delete oauth_tokens tables\n  [#3608](https://github.com/OpenFn/lightning/issues/3608)\n- Improved state management and store architecture in collaborative editor\n  [#3635](https://github.com/OpenFn/lightning/issues/3635)\n- Upgraded Tailwind CSS from 4.0.13 to 4.1.14","ref":"changelog.html#changed-11"},{"type":"extras","title":"Fixed - Changelog","doc":"- Project merge now correctly preserves target project identity (name,\n  description, env, color) instead of overwriting with source metadata\n  [#3742](https://github.com/OpenFn/lightning/issues/3742)\n- New workflows created in sandboxes now properly retain all jobs, triggers, and\n  edges when merged into target projects (previously only workflow metadata was\n  copied, resulting in empty workflows)\n  [#3744](https://github.com/OpenFn/lightning/issues/3744)","ref":"changelog.html#fixed-14"},{"type":"extras","title":"Released - Changelog","doc":"## [2.14.10] - 2025-10-07\n\n## [2.14.10-pre] - 2025-10-07","ref":"changelog.html#released"},{"type":"extras","title":"Added - Changelog","doc":"- Worker \"presence\" module to track connected workers (and their capacity)\n  across the app. [#3725](https://github.com/OpenFn/lightning/pull/3725)\n- SessionContextStore for collaborative workflow editor to provide user,\n  project, and config data to React components via Phoenix Channel\n  [#3624](https://github.com/OpenFn/lightning/issues/3624)","ref":"changelog.html#added-15"},{"type":"extras","title":"Changed - Changelog","doc":"- Limit sandbox creation\n  [PR#3655](https://github.com/OpenFn/lightning/pull/3655)\n\n## [v2.14.9] - 2025-10-03\n\n## [v2.14.9-pre] - 2025-10-02","ref":"changelog.html#changed-12"},{"type":"extras","title":"Added - Changelog","doc":"","ref":"changelog.html#added-16"},{"type":"extras","title":"Changed - Changelog","doc":"- Removed unused functions for getting dataclip bodies from postgres as\n  JSON/maps [#3653](https://github.com/OpenFn/lightning/issues/3653)\n- Limit sandbox creation\n  [PR#3655](https://github.com/OpenFn/lightning/pull/3655)","ref":"changelog.html#changed-13"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevent the janitor trying to mark runs as lost that aren't actually lost\n  [PR#3672](https://github.com/OpenFn/lightning/pull/3672)\n- Fix canvas \"lockup\" after AI chat errors, prevent sending empty message to AI\n  [3605](https://github.com/OpenFn/lightning/issues/3605)\n\n## [v2.14.8] - 2025-10-01\n\n## [v2.14.8-pre1] - 2025-10-01","ref":"changelog.html#fixed-15"},{"type":"extras","title":"Fixed - Changelog","doc":"- Send back `null` if a requested dataclip has been wiped\n  [PR#3652](https://github.com/OpenFn/lightning/pull/3652)\n\n## [v2.14.8-pre] - 2025-10-01","ref":"changelog.html#fixed-16"},{"type":"extras","title":"Fixed - Changelog","doc":"- Reduced\n  [high server memory usage on dataclip body retrieval](https://github.com/OpenFn/lightning/issues/3641)\n  by 97% [PR#3651](https://github.com/OpenFn/lightning/pull/3651)\n\n## [v2.14.7] - 2025-09-30","ref":"changelog.html#fixed-17"},{"type":"extras","title":"Changed - Changelog","doc":"- Optimized map and join with `Enum.map_join/3`\n  [`c112f3d`](https://github.com/OpenFn/lightning/commit/c112f3df29f8ab83b187f3695fdaf32c0837a016)","ref":"changelog.html#changed-14"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed tests for dataclip live viewer\n  [#3648](https://github.com/OpenFn/lightning/issues/3648)\n\n## [v2.14.7-pre] - 2025-09-30","ref":"changelog.html#fixed-18"},{"type":"extras","title":"Added - Changelog","doc":"- Add database changes for credentials environments support\n  [#3597](https://github.com/OpenFn/lightning/issues/3597)\n- REST API for Credential creation, deletion, list\n  [#3583](https://github.com/OpenFn/lightning/issues/3583)","ref":"changelog.html#added-17"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped devDeps `ws-worker` version to `1.15.0` to better handle job\n  compilation memory issues\n  [#3613](https://github.com/OpenFn/lightning/pull/3613)","ref":"changelog.html#changed-15"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix memory bloat on dataclip viewer in dataclip detail page\n  [#3641](https://github.com/OpenFn/lightning/issues/3641)\n- Ameliorate memory usage when scrubbing dataclips for security\n  [#3641](https://github.com/OpenFn/lightning/issues/3641)\n- Fixed bootstrap script compatibility for Intel Macs and older Bash versions\n  (3.1+) [#3623](https://github.com/OpenFn/lightning/pull/3623)\n- Fixed GDPR Compliance component\n  [#3611](https://github.com/OpenFn/lightning/issues/3611)\n- Fixed vertical alignment in breadcrumbs\n  [#3612](https://github.com/OpenFn/lightning/issues/3612)\n- Updated Project Digest to include count of work orders in an unsuccessful\n  state [#3616](https://github.com/OpenFn/lightning/issues/3616)\n\n## [v2.14.6] - 2025-09-30\n\n## [v2.14.6-pre1] - 2025-09-26","ref":"changelog.html#fixed-19"},{"type":"extras","title":"Changed - Changelog","doc":"- Modify `Common.root_name` to display any map with a `:name` key\n\n## [v2.14.6-pre] - 2025-09-25","ref":"changelog.html#changed-16"},{"type":"extras","title":"Added - Changelog","doc":"- Sandbox Basic CRUD UI [#3412](https://github.com/OpenFn/lightning/issues/3412)\n  [#3431](https://github.com/OpenFn/lightning/issues/3431)\n- Generate workflow version on save\n  [#3452](https://github.com/OpenFn/lightning/issues/3452)\n- Add `bin/update-images` script for automated Dockerfile version management","ref":"changelog.html#added-18"},{"type":"extras","title":"Changed - Changelog","doc":"- Optimized queue query planner stability to prevent 60s+ spikes\n  [#3564](https://github.com/OpenFn/lightning/issues/3564)\n- Fix aarch64 (Apple Silicon) Dockerfile-dev build\n  [PR#3589](https://github.com/OpenFn/lightning/pull/3589)","ref":"changelog.html#changed-17"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix project deletion for projects with webhook auth methods\n  [#3619](https://github.com/OpenFn/lightning/issues/3619),\n  [#3523](https://github.com/OpenFn/lightning/issues/3523)\n- Fix pagination bar rounding to match table corners\n  [#3595](https://github.com/OpenFn/lightning/issues/3595)\n- Restore export history button\n  [#3594](https://github.com/OpenFn/lightning/issues/3594)\n- Wrong timestamp information in mini-history for in-progress runs\n  [#3579](https://github.com/OpenFn/lightning/pull/3579)\n\n## [v2.14.5] - 2025-09-24\n\n## [v2.14.5-pre1] - 2025-09-11","ref":"changelog.html#fixed-20"},{"type":"extras","title":"Added - Changelog","doc":"- Hide sandboxes from project lists and project picker\n  [#3573](https://github.com/OpenFn/lightning/issues/3573)","ref":"changelog.html#added-19"},{"type":"extras","title":"Changed - Changelog","doc":"- Update deps\n\n## [v2.14.5-pre] - 2025-09-11","ref":"changelog.html#changed-18"},{"type":"extras","title":"Added - Changelog","doc":"- Experimental feature - Collaborative Editing\n  [#3509](https://github.com/OpenFn/lightning/issues/3509)\n- API for provisioning Sandboxes\n  [#3430](https://github.com/OpenFn/lightning/issues/3430)\n- Added DB support for sandboxes and workflow version provenance.\n  [#3422](https://github.com/OpenFn/lightning/issues/3422)\n- Retry webhook events on transient database connection errors\n  [#3097](https://github.com/OpenFn/lightning/issues/3097)\n- Allow users to retry followed runs from the job panel\n  [#3502](https://github.com/OpenFn/lightning/issues/3502)","ref":"changelog.html#added-20"},{"type":"extras","title":"Changed - Changelog","doc":"- Make `:work_available` broadcast opt-out-able via ENV.\n  [#3574](https://github.com/OpenFn/lightning/pull/3574)\n- Enable X-Content-Type-Options header for static pages.\n  [#3534](https://github.com/OpenFn/lightning/issues/3534)\n- Refactor webhook auth methods modals\n  [#1588](https://github.com/OpenFn/lightning/issues/1588)","ref":"changelog.html#changed-19"},{"type":"extras","title":"Fixed - Changelog","doc":"- Tooltip gets stuck when switching pages\n  [#3559](https://github.com/OpenFn/lightning/pull/3559)\n- Current run dataclip stuck when switching nodes\n  [#3560](https://github.com/OpenFn/lightning/pull/3560)\n\n## [v2.14.4] - 2025-09-09","ref":"changelog.html#fixed-21"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix Workflow AI Assistant apearing above inspector panel\n  [#3567](https://github.com/OpenFn/lightning/issues/3567)\n\n## [v2.14.3] - 2025-08-29\n\n## [v2.14.3-pre1] - 2025-08-22","ref":"changelog.html#fixed-22"},{"type":"extras","title":"Fixed - Changelog","doc":"- Clean UI for errors with recovery from the errors\n  [#3239](https://github.com/OpenFn/lightning/issues/3239)\n\n## [v2.14.3-pre] - 2025-08-21","ref":"changelog.html#fixed-23"},{"type":"extras","title":"Added - Changelog","doc":"- Visualizing runs on the workflow editor canvas\n  [#3387](https://github.com/OpenFn/lightning/issues/3387)\n- Add test gauge metric that can be used to set arbitrary values for the\n  purposes of triggering behaviour in metric consumers.\n  [3510](https://github.com/OpenFn/lightning/issues/3510)\n- Add test gauge metric that can be used to set arbitrary values for the\n  purposes of triggering behaviour in metric consumers.\n  [#3510](https://github.com/OpenFn/lightning/issues/3510)\n- Possibly temporary plumbing to allow the use of libcluster_postgres as an\n  additional mechanism for discovering Erlang nodes.\n  [#3482](https://github.com/OpenFn/lightning/issues/3482)\n- Remove redundant 'preconnect' link\n  [#3532](https://github.com/OpenFn/lightning/issues/3532)","ref":"changelog.html#added-21"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix cannot read properties of undefined (reading 'x') error on canvas\n  [#3530](https://github.com/OpenFn/lightning/issues/3530)\n- Hide Mini-History on new template page\n  [#3531](https://github.com/OpenFn/lightning/pull/3531)\n\n## [v2.14.2] - 2025-08-15\n\n## [v2.14.2-pre] - 2025-08-15","ref":"changelog.html#fixed-24"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue where adaptors icons didn't change on the canvas when in\n  auto-layout mode [#3526](https://github.com/OpenFn/lightning/issues/3526)\n\n## [v2.14.1] - 2025-08-14","ref":"changelog.html#fixed-25"},{"type":"extras","title":"Changed - Changelog","doc":"- Removed impeded project metric until performance improvements can be made.\n  [#3519](https://github.com/OpenFn/lightning/issues/3519)\n\n## [v2.14.1-pre2] - 2025-08-12","ref":"changelog.html#changed-20"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix workflow diagram collapsing in on itself to become a neutron star\n  [#3506](https://github.com/OpenFn/lightning/issues/3506)\n- Fix Oban crash when Apollo times out\n  [#3497](https://github.com/OpenFn/lightning/issues/3497)\n- Fix PostgreSQL UTF-8 error when inserting log lines with null bytes\n  [#3090](https://github.com/OpenFn/lightning/issues/3090)\n\n## [v2.14.1-pre1] - 2025-08-07","ref":"changelog.html#fixed-26"},{"type":"extras","title":"Fixed - Changelog","doc":"- Restored historical migration ( if you ran migrations on `v2.14.1-pre` by\n  editing your DB directly or dropping your DB first, you must undo those\n  changes by hand before running this migration) and added a migration to change\n  `:workflow_code` to `:code` on the AI Chat Messages table\n  [3495](https://github.com/OpenFn/lightning/issues/3495)\n\n## [v2.14.1-pre] - 2025-08-06","ref":"changelog.html#fixed-27"},{"type":"extras","title":"Added - Changelog","doc":"- Extended the AI Assistant to support editing existing workflows\n  [#3247](https://github.com/OpenFn/lightning/issues/3247)\n- Alert that workflows may break before letting users revoke access to a project\n  for their credential [#537](https://github.com/OpenFn/lightning/issues/537)","ref":"changelog.html#added-22"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgraded Elixir from 1.17 to 1.18\n  [d35a6d1](https://github.com/OpenFn/lightning/commit/d35a6d1)","ref":"changelog.html#changed-21"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix CTRL+S saving previously selected template when creating a workflow\n  [#3442](https://github.com/OpenFn/lightning/issues/3442)\n\n## [v2.14.0] - 2025-08-05","ref":"changelog.html#fixed-28"},{"type":"extras","title":"Fixed - Changelog","doc":"- Added \"interactive\" to checkbox disabled tooltip to allow user to click link,\n  ensure permissions line up with admin or above.\n  [PR-3473](https://github.com/OpenFn/lightning/pull/3473)\n- Fixed table action menus\n  [#3476](https://github.com/OpenFn/lightning/issues/3476)\n- Fixed \" Production\" icon size in credentials table\n  [#3483](https://github.com/OpenFn/lightning/issues/3483)\n- Fixed test on history page\n  [3475](https://github.com/OpenFn/lightning/issues/3475)\n\n## [v2.14.0-pre1] - 2025-08-04","ref":"changelog.html#fixed-29"},{"type":"extras","title":"Added - Changelog","doc":"- Added a retry button to the work order row itself\n  [PR-3472](https://github.com/OpenFn/lightning/pull/3472)","ref":"changelog.html#added-23"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed small table UI regression for history\n  [PR-3472](https://github.com/OpenFn/lightning/pull/3472)\n\n## [v2.14.0-pre] - 2025-08-01","ref":"changelog.html#fixed-30"},{"type":"extras","title":"Added - Changelog","doc":"- Allow users to name and preserve existing dataclips\n  [#311](https://github.com/OpenFn/lightning/issues/311)","ref":"changelog.html#added-24"},{"type":"extras","title":"Changed - Changelog","doc":"- Click to copy all timestamps in UTC across the application\n  [#1419](https://github.com/OpenFn/lightning/issues/1419)\n- Display relative times and respect browser timezones\n  [#1255](https://github.com/OpenFn/lightning/issues/1255)\n- Sortable history table\n  [PR-3356](https://github.com/OpenFn/lightning/pull/3356)\n- Visible run durations on the history table\n  [PR-3356](https://github.com/OpenFn/lightning/pull/3356)\n- Easier expansion of work orders in the history table\n  [PR-3356](https://github.com/OpenFn/lightning/pull/3356)\n\n## [v2.13.7-pre1] 2025-08-01","ref":"changelog.html#changed-22"},{"type":"extras","title":"Added - Changelog","doc":"- Keychain credentials allow variable authentication/secret selection based on a\n  run's input dataclip [#3359](https://github.com/OpenFn/lightning/issues/3359)\n\n## [v2.13.7-pre] 2025-07-31","ref":"changelog.html#added-25"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevent requests to webhook URLs from matching non-webhook triggers\n  [#3453](https://github.com/OpenFn/lightning/issues/3453)\n- Authorized users unable to change the workflow concurrency setting\n  [#3459](https://github.com/OpenFn/lightning/issues/3459)\n\n## [v2.13.6] - 2025-07-24","ref":"changelog.html#fixed-31"},{"type":"extras","title":"Added - Changelog","doc":"- Extended impeded project to take workflow concurrency into account.\n  [#3408](https://github.com/OpenFn/lightning/issues/3408)","ref":"changelog.html#added-26"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgrade Ecto from v3.11 to v3.13\n  [#3448](https://github.com/OpenFn/lightning/pull/3448)","ref":"changelog.html#changed-23"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed bug that prevented HTTP credentials from loading, now allow JSON objects\n  to be passed as credential form inputs for complex settings like custom TLS\n  options [#3437](https://github.com/OpenFn/lightning/issues/3437)\n\n## [v2.13.6-pre] 2025-07-18","ref":"changelog.html#fixed-32"},{"type":"extras","title":"Changed - Changelog","doc":"- Bump bcrypt_elixir from 3.2.1 to 3.3.2\n  [#3264](https://github.com/OpenFn/lightning/issues/3264)\n- Bump sobelow from 0.13.0 to 0.14.0\n  [#3263](https://github.com/OpenFn/lightning/issues/3263)\n- Bump jsonpatch from 1.0.2 to 2.2.2\n  [#3262](https://github.com/OpenFn/lightning/issues/3262)\n- Bump oban from 2.18.3 to 2.19.4\n  [#3159](https://github.com/OpenFn/lightning/issues/3159)\n- Bump eqrcode from 0.1.10 to 0.2.1\n  [#3116](https://github.com/OpenFn/lightning/issues/3116)\n- Remove unused test as well as puppeteer dependency.\n  [#3404](https://github.com/OpenFn/lightning/issues/3404)","ref":"changelog.html#changed-24"},{"type":"extras","title":"Fixed - Changelog","doc":"- Don't render credential modals inside table cells\n  [#1588](https://github.com/OpenFn/lightning/issues/1588)\n- Handling of CLI error messages when fetching metadata via an adaptor\n  [#3367](https://github.com/OpenFn/lightning/issues/3367)\n- Error messages in forms not appearing when LastPass enabled\n  [#3402](https://github.com/OpenFn/lightning/issues/3402)\n\n## [v2.13.5] 2025-07-11\n\n## [v2.13.5-pre] 2025-07-11","ref":"changelog.html#fixed-33"},{"type":"extras","title":"Added - Changelog","doc":"- Allow users to see & _use_ the \"next input\" state that would be used by a cron\n  trigger when inspecting and running cron-triggered jobs\n  [3335](https://github.com/OpenFn/lightning/issues/3335)\n- Enable Undo and Redo in the Workflow Editor\n  [#3358](https://github.com/OpenFn/lightning/pull/3358)","ref":"changelog.html#added-27"},{"type":"extras","title":"Changed - Changelog","doc":"- Bump CLI to 1.13.1 [#3351](https://github.com/OpenFn/lightning/issues/3351)","ref":"changelog.html#changed-25"},{"type":"extras","title":"Fixed - Changelog","doc":"- Isolate failed to refresh token errors from other oauth errros\n  [#3332](https://github.com/OpenFn/lightning/issues/3332)\n\n## [v2.13.4] - 2025-07-05\n\n## [v2.13.4-pre1] - 2025-07-04","ref":"changelog.html#fixed-34"},{"type":"extras","title":"Changed - Changelog","doc":"- Standardize modal footers and paddings\n  [#3277](https://github.com/OpenFn/lightning/issues/3277)","ref":"changelog.html#changed-26"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix text content overflowing in credential modal\n  [#3280](https://github.com/OpenFn/lightning/pull/3280)\n- Fix tables UI broken [#3324](https://github.com/OpenFn/lightning/issues/3324)\n\n## [v2.13.4-pre] - 2025-07-04","ref":"changelog.html#fixed-35"},{"type":"extras","title":"Added - Changelog","doc":"- New buttons to run a workflow directly from the canvas, both from the start of\n  the workflow [#3290](https://github.com/OpenFn/lightning/issues/3290) and from\n  an individual step [#3294](https://github.com/OpenFn/lightning/issues/3294)\n- Sorting & filtering superuser interfaces for Projects, Project, and Users\n  [#3354](https://github.com/OpenFn/lightning/pull/3354)","ref":"changelog.html#added-28"},{"type":"extras","title":"Changed - Changelog","doc":"- Dont send oauth token expiry errors to Sentry\n  [#3334](https://github.com/OpenFn/lightning/issues/3334)\n- Improve error message when credential fails during runs\n  [#3332](https://github.com/OpenFn/lightning/issues/3332)","ref":"changelog.html#changed-27"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix OAuth scope validation error caused by `offline_access`\n  [#3363](https://github.com/OpenFn/lightning/issues/3363)\n- Cannot send message in old ai chat sessions\n  [#3347](https://github.com/OpenFn/lightning/issues/3347)\n- Fixes brief flash of previously viewed diagram when switching workflows\n  [#3352](https://github.com/OpenFn/lightning/pull/3352)\n- Fixes import of workflow YML for a manual laid out workflow.\n  [#3360](https://github.com/OpenFn/lightning/pull/3360)\n\n## [v2.13.3] 2025-06-26\n\n## [v2.13.3-pre1] 2025-06-26","ref":"changelog.html#fixed-36"},{"type":"extras","title":"Fixed - Changelog","doc":"-  **Security patch for cases when a single user creates multiple Oauth\n  credentials for the same Oauth client.** This fix prevents credential token\n  sharing for users with _multiple_ Oauth credentials linked to a single OpenFn\n  username, a single Oauth Client, and the _same_ set of scopes. Previously,\n  these credentials would be considered the unique (`user_id`, `client_id`,\n  `scopes`) and only the _last_ issued token would be persisted. This fix binds\n  oauth_tokens to credentials 1:1 and provides a number of enhancements for\n  debugging and reauthorizing Oauth credentials.\n  [#3326](https://github.com/OpenFn/lightning/issues/3326)\n\n## [v2.13.3-pre]","ref":"changelog.html#fixed-37"},{"type":"extras","title":"Added - Changelog","doc":"- Give users the option to attach job code and logs to AI Assistant\n  [#2935](https://github.com/OpenFn/lightning/issues/2935)\n- Allow users to edit position of nodes in the workflow\n  [#3123](https://github.com/OpenFn/lightning/issues/3123)\n- Minimap for easier workflow navigation\n  [#3125](https://github.com/OpenFn/lightning/issues/3125)\n- Added icons to control layout in the workflow\n  [PR #3242](https://github.com/OpenFn/lightning/pull/3242)","ref":"changelog.html#added-29"},{"type":"extras","title":"Changed - Changelog","doc":"- Update React Flow to version 12\n  [PR #3242](https://github.com/OpenFn/lightning/pull/3242)\n- Create nodes and edges with the same button in the workflow\n  [#2175](https://github.com/OpenFn/lightning/issues/2175)","ref":"changelog.html#changed-28"},{"type":"extras","title":"Fixed - Changelog","doc":"- AI Assistant fails to send job context in subsequent messages\n  [#3329](https://github.com/OpenFn/lightning/issues/3329)\n- Fix snapshot cleanup incorrectly deleting runs via cascade deletion\n  [#3313](https://github.com/OpenFn/lightning/issues/3313)\n- `Lightning.Demo.reset_demo()` was broken by an ordering issue between\n  Credentials and Oauth tokens.\n\n## [v2.13.2] - 2025-06-18\n\n Please note that **this version fixes an issue that caused premature run\nhistory deletion** when snapshots were cleaned. Certain additional runs related\nto pre-existing work orders were being deleted before their retention period.\nThis bug was introduced in version `v2.12.3-pre` on May 29th. If you're tracking\n`latest` you'd see this bug come out in `v2.13.0` on June 4th.\n\n## [v2.13.2-pre] - 2025-06-18","ref":"changelog.html#fixed-38"},{"type":"extras","title":"Added - Changelog","doc":"- Show who started each run\n  [#3309](https://github.com/OpenFn/lightning/issues/3309)","ref":"changelog.html#added-30"},{"type":"extras","title":"Changed - Changelog","doc":"","ref":"changelog.html#changed-29"},{"type":"extras","title":"Fixed - Changelog","doc":"- Stop cleanup of snapshots (was causing data loss)\n- The application env `queue_result_retention_period` was previously pulling\n  from a wrongly named `QUEUE_RESULT_RETENTION_PERIOD_SECONDS`; the calculation\n  is actually done in minutes; we now set this env from\n  `QUEUE_RESULT_RETENTION_PERIOD_MINUTES`\n  [#3316](https://github.com/OpenFn/lightning/issues/3316)\n\n## [v2.13.1] - 2025-06-12\n\n## [v2.13.1-pre] - 2025-06-11","ref":"changelog.html#fixed-39"},{"type":"extras","title":"Changed - Changelog","doc":"- Report AI Assistant errors to Sentry\n  [#3010](https://github.com/OpenFn/lightning/issues/3010)\n- Do not validate edge js condition expression\n  [#3028](https://github.com/OpenFn/lightning/issues/3028)","ref":"changelog.html#changed-30"},{"type":"extras","title":"Fixed - Changelog","doc":"- Allow scrolling in the template grid\n  [#3284](https://github.com/OpenFn/lightning/issues/3284)\n- Search input in run history is cleared when you click on the filter buttons\n  [#1951](https://github.com/OpenFn/lightning/issues/1951)\n- Fix Inspector Input panel not showing current run's dataclip for older\n  workflow runs [#3288](https://github.com/OpenFn/lightning/issues/3288)\n\n## [v2.13.0] - 2025-06-04\n\n## [v2.13.0-pre2] - 2025-06-04","ref":"changelog.html#fixed-40"},{"type":"extras","title":"Fixed - Changelog","doc":"- Only show credentials owned by current user in `/credentials` (not those\n  shared with them also) [3273](https://github.com/OpenFn/lightning/issues/3273)\n- Fix texts not getting wrapped in modals that are inside table rows\n  [3274](https://github.com/OpenFn/lightning/issues/3274)\n\n## [v2.13.0-pre1] - 2025-06-03","ref":"changelog.html#fixed-41"},{"type":"extras","title":"Changed - Changelog","doc":"- Removed heavy Arcade videos, replaced with time-aware, friendly greeting.\n  [#3267](https://github.com/OpenFn/lightning/issues/3267)","ref":"changelog.html#changed-31"},{"type":"extras","title":"Fixed - Changelog","doc":"- Don't display hidden secondary buttons\n  [#3265](https://github.com/OpenFn/lightning/issues/3265)\n\n## [v2.13.0-pre] - 2025-06-02","ref":"changelog.html#fixed-42"},{"type":"extras","title":"Added - Changelog","doc":"- Set timeout for Apollo client requests.\n  [#3009](https://github.com/OpenFn/lightning/issues/3009)\n- Generate workflows using AI\n  [#3174](https://github.com/OpenFn/lightning/issues/3174)\n- Enhance workflows templates UI\n  [#3175](https://github.com/OpenFn/lightning/issues/3175)","ref":"changelog.html#added-31"},{"type":"extras","title":"Changed - Changelog","doc":"- Standardize sub-tabs (tabs inside tabs on Inspector)\n  [#3261](https://github.com/OpenFn/lightning/pull/3261)\n- No longer blocking the \"Create new workflow\" button based on _active_ workflow\n  limits [#3251](https://github.com/OpenFn/lightning/pull/3251)","ref":"changelog.html#changed-32"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix magic metadata [#3134](https://github.com/OpenFn/lightning/issues/3134)\n- Padding Changes on Project Setup Page\n  [#3257](https://github.com/OpenFn/lightning/issues/3257)\n\n## [v2.12.3-pre] - 2025-05-29","ref":"changelog.html#fixed-43"},{"type":"extras","title":"Added - Changelog","doc":"- Added a custom metric to track projects that could benefit from additional\n  worker pods. [#3189](https://github.com/OpenFn/lightning/issues/3189)\n- Add a test metric that can be used to test external infrastructure (e.g.\n  alerting) in a deployed Lightning instance.\n  [#3229](https://github.com/OpenFn/lightning/issues/3229)\n- Broadcast work-available to worker when runs are enqueued\n  [#2934](https://github.com/OpenFn/lightning/issues/2934)","ref":"changelog.html#added-32"},{"type":"extras","title":"Changed - Changelog","doc":"- Update Elixir to 1.18.3 [#2748](https://github.com/OpenFn/lightning/pull/2748)\n- Standardized table components across the application\n  [#2905](https://github.com/OpenFn/lightning/issues/2905)\n- Standardize buttons [#3093](https://github.com/OpenFn/lightning/issues/3093)\n- Make the chunk size for deleting expired activty configurable via ENV\n  [#3181](https://github.com/OpenFn/lightning/pull/3181)\n- Reduce the cardinality of `lightning_run_lost_count`.\n  [#3226](https://github.com/OpenFn/lightning/issues/3226)\n- Improve manual run component\n  [#3089](https://github.com/OpenFn/lightning/issues/3089)","ref":"changelog.html#changed-33"},{"type":"extras","title":"Fixed - Changelog","doc":"- Delay purge user having project file(s)\n  [#2919](https://github.com/OpenFn/lightning/issues/2919)\n- Display all github repositories even if they're more than 30\n  [#3206](https://github.com/OpenFn/lightning/issues/3206)\n- Github repo names getting truncated\n  [#3037](https://github.com/OpenFn/lightning/issues/3037)\n\n## [v2.12.2] - 2025-05-01","ref":"changelog.html#fixed-44"},{"type":"extras","title":"Changed - Changelog","doc":"- Tweak language on webhook auth method modal and list action\n  [#3166](https://github.com/OpenFn/lightning/pull/3166)\n- Re-order nightly cron jobs to reduce acute stress on db\n  [#3179](https://github.com/OpenFn/lightning/pull/3179)","ref":"changelog.html#changed-34"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix save and sync not working in the workflow editor\n  [#3177](https://github.com/OpenFn/lightning/issues/3177)\n\n## [v2.12.1] - 2025-04-29","ref":"changelog.html#fixed-45"},{"type":"extras","title":"Changed - Changelog","doc":"- Sort logs in failure notification emails by timestamp, ascending\n  [#2347](https://github.com/OpenFn/lightning/issues/2347)\n- Rename webhook auth method button and title\n  [#3165](https://github.com/OpenFn/lightning/issues/3165)","ref":"changelog.html#changed-35"},{"type":"extras","title":"Fixed - Changelog","doc":"- Importer not updating canvas properly\n  [#3156](https://github.com/OpenFn/lightning/issues/3156)\n- Template name overwritten by workflow name when updating an existing template\n  [#3157](https://github.com/OpenFn/lightning/issues/3157)\n- Route not found after pressing Enter to create a workflow\n  [#3142](https://github.com/OpenFn/lightning/issues/3142)\n- Make Collections delete_all idempotent\n  [#3143](https://github.com/OpenFn/lightning/issues/3143)\n- Blank modal showing when you click to show webhook auth method password\n  [#3154](https://github.com/OpenFn/lightning/issues/3154)\n\n## [v2.12.0] - 2025-04-25","ref":"changelog.html#fixed-46"},{"type":"extras","title":"Added - Changelog","doc":"- Create workflows from base templates\n  [#3018](https://github.com/OpenFn/lightning/issues/3018),\n  [#3031](https://github.com/OpenFn/lightning/issues/3031)\n  [#3080](https://github.com/OpenFn/lightning/issues/3080)\n- Custom metrics to track lost runs\n  [#3070](https://github.com/OpenFn/lightning/issues/3070)\n- AI Assistant: add metadata column to chat sessions\n  [#3054](https://github.com/OpenFn/lightning/issues/3054)\n- Added a message to explain to the user why they're waiting for a run\n  [#3131](https://github.com/OpenFn/lightning/issues/3131)\n- Allow users to create workflows from base templates\n  [#3110](https://github.com/OpenFn/lightning/issues/3110)\n- Simplified adding credentials to projects\n  [#3034](https://github.com/OpenFn/lightning/issues/3034)\n- Enabled displaying full workflow name when hovering workflow name in the\n  workflows list page [#2894](https://github.com/OpenFn/lightning/issues/2894)\n- Enabled clickable rows in the workflows list page\n  [#3047](https://github.com/OpenFn/lightning/issues/3047)\n- Added sorting & filtering workflows\n  [#3046](https://github.com/OpenFn/lightning/issues/3046)\n- Add helper function to create latest snapshot\n  [#3099](https://github.com/OpenFn/lightning/issues/3099)\n- Restart the credential setup from selecting the credential type\n  [#2284](https://github.com/OpenFn/lightning/issues/2284)\n- Enable Support User and adds audit trail for MFA.\n  [#3072](https://github.com/OpenFn/lightning/issues/3072)\n- Allow users to view and copy their workflow as a code\n  [#3016](https://github.com/OpenFn/lightning/issues/3016)\n- Allow users to create workflow via YAML import\n  [#3013](https://github.com/OpenFn/lightning/issues/3013)\n- Make provision for the inclusion of 'external' metrics.\n  [#3096](https://github.com/OpenFn/lightning/issues/3096)\n- Introduce 'seeding' of PromEx event metrics\n  [#3096](https://github.com/OpenFn/lightning/issues/3096)\n- When claiming a run, a worker name can optionally be provided to the adaptor\n  that is responsible for claiming runs.\n  [#3079](https://github.com/OpenFn/lightning/issues/3079)\n- Persist worker name provided by worker when claiming a run. NOTE: This\n  requires version `1.13.2` of the worker.\n  [#3079](https://github.com/OpenFn/lightning/issues/3079)","ref":"changelog.html#added-33"},{"type":"extras","title":"Changed - Changelog","doc":"- Add project name to failure email subject\n  [#2974](https://github.com/OpenFn/lightning/issues/2974)\n- Large refactor of the inspector and React components\n  [#3043](https://github.com/OpenFn/lightning/pull/3043)\n- The AI Assistant now has access to docs.openfn.org to better inform its\n  responses [apollo#209](https://github.com/OpenFn/apollo/pull/209)\n- Adjusted flash messages\n- Updated dependencies [#3086](https://github.com/OpenFn/lightning/pull/3086):\n  - `phoenix` from 1.7.20 to 1.7.21\n  - `phoenix_live_view` from 1.0.5 to 1.0.9\n  - `petal_components` from 2.9.0 to 3.0.1\n- Move new workflow form into the edit page\n  [#3083](https://github.com/OpenFn/lightning/issues/3083)\n- Added logos & case-insensitive sorting of credential types\n  [#3107](https://github.com/OpenFn/lightning/pull/3107)\n- Added a \"BETA\" label to the Kafka trigger type\n  [#3098](https://github.com/OpenFn/lightning/pull/3098)\n\n## [v2.11.2] - 2025-04-10","ref":"changelog.html#changed-36"},{"type":"extras","title":"Added - Changelog","doc":"- Remove Credentials for Collaborators Removed from a Project\n  [#2942](https://github.com/OpenFn/lightning/issues/2942)\n- Enable Credential Transfer In Projects Credentials Table\n  [#2978](https://github.com/OpenFn/lightning/issues/2978)\n- Allow possibility to inject components for implementing GDPR compliance\n  [PR#3056](https://github.com/OpenFn/lightning/pull/3056)\n- Change edge color in the workflow when there is an error\n  [#2999](https://github.com/OpenFn/lightning/issues/2999)","ref":"changelog.html#added-34"},{"type":"extras","title":"Changed - Changelog","doc":"- Stagger cleanup crons in the hopes that it reduces the imapct on the database.\n  [#3061](https://github.com/OpenFn/lightning/issues/3061)\n- Default to latest specific version instead of @latest when selecting adaptors\n  [#2843](https://github.com/OpenFn/lightning/issues/2843)\n- Remove OpenTelemetry suport as it is not currently in use\n  [#3081](https://github.com/OpenFn/lightning/issues/3081)\n\n## [v2.11.1] - 2025-04-03","ref":"changelog.html#changed-37"},{"type":"extras","title":"Added - Changelog","doc":"- Fix putting project credentials on a new credential\n  [#2993](https://github.com/OpenFn/lightning/issues/2993)\n- Allow users to book for demo sessions\n  [PR#3035](https://github.com/OpenFn/lightning/pull/3035)\n- Allow workflow and project concurrency progress windows\n  [#2995](https://github.com/OpenFn/lightning/issues/2995)","ref":"changelog.html#added-35"},{"type":"extras","title":"Changed - Changelog","doc":"- Update flash message to contain link to github actions after save & sync\n  [#2989](https://github.com/OpenFn/lightning/issues/2989)\n- Added alphabetical sort to credential and Oauth2 client lists.\n  [#2994](https://github.com/OpenFn/lightning/issues/2994)\n- Update Phoenix LiveView to 1.0.5, Petal Components to 2.9.0 and TailwindCSS to\n  v4 [#3033](https://github.com/OpenFn/lightning/pull/3033)","ref":"changelog.html#changed-38"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixes to some issues with code-complete in the editor\n  [#3052](https://github.com/OpenFn/lightning/pull/3052)\n\n## [v2.11.0] - 2025-03-19","ref":"changelog.html#fixed-47"},{"type":"extras","title":"Added - Changelog","doc":"- Update Collections admin UI storage counter after deleting all\n  [#2986](https://github.com/OpenFn/lightning/issues/2986)\n- Refactor OAuth credentials to reuse existing refresh tokens for same scopes\n  [#2908](https://github.com/OpenFn/lightning/issues/2908) \\\n   Please note that you will need to migrate your existing OAuth credentials.\n  To do that run the following command:\n  `mix run priv/repo/migrate_oauth_credentials.exs` for local setup or\n  `docker exec -it   /app/bin/lightning eval \"Lightning.Credentials.OauthMigration.run()\"`\n  for production environments.","ref":"changelog.html#added-36"},{"type":"extras","title":"Changed - Changelog","doc":"- Changed the way Monaco workers are loaded, using ESM modules instead.\n- Do not include `v` param in workflow links when it is latest\n  [#2941](https://github.com/OpenFn/lightning/issues/2941)\n- Use dropdown instead of modal for the log level filter\n  [#2980](https://github.com/OpenFn/lightning/issues/2980)\n- Upgrade esbuild to 0.25.0\n  [#2962](https://github.com/OpenFn/lightning/issues/2962)","ref":"changelog.html#changed-39"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix broken highlighter for selected step in the log viewer\n  [#2980](https://github.com/OpenFn/lightning/issues/2980)\n- Don't delete latest snapshot when deleting unused snaphots in workorders\n  [#2996](https://github.com/OpenFn/lightning/issues/2996)\n- Don't allow users to disable edges coming from a trigger\n  [#3008](https://github.com/OpenFn/lightning/issues/3008)\n\n## [v2.10.16] - 2025-02-28","ref":"changelog.html#fixed-48"},{"type":"extras","title":"Added - Changelog","doc":"- Disable jobs with non retriable steps\n  [#2925](https://github.com/OpenFn/lightning/issues/2925)","ref":"changelog.html#added-37"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix toggle button not visually disabled\n  [#2976](https://github.com/OpenFn/lightning/issues/2976)\n- Dont clear dataclip input when user saves workflow\n  [#2944](https://github.com/OpenFn/lightning/issues/2944)\n\n## [v2.10.16-pre.0] - 2025-02-26","ref":"changelog.html#fixed-49"},{"type":"extras","title":"Added - Changelog","doc":"- Allow the billing app to schedule project deletion\n  [#2972](https://github.com/OpenFn/lightning/issues/2972)\n- Enable project level concurrency limit\n  [#2906](https://github.com/OpenFn/lightning/issues/2906)\n- Transfer credentials ownership to a project collaborator\n  [#2820](https://github.com/OpenFn/lightning/issues/2820)\n- Delete unused snapshots on workorders retention cleanup\n  [#1832](https://github.com/OpenFn/lightning/issues/1832)\n- Allow users to configure their preferred log levels\n  [#2206](https://github.com/OpenFn/lightning/issues/2206)\n- Allow project admins and owners to disable `console.log()` in jobs\n  [#2205](https://github.com/OpenFn/lightning/issues/2205)","ref":"changelog.html#added-38"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped CI NodeJS and Postgres versions to 22.12.0 and 17.3 respectively\n  [#2938](https://github.com/OpenFn/lightning/pull/2938)","ref":"changelog.html#changed-40"},{"type":"extras","title":"Fixed - Changelog","doc":"- Creating a dataclip fails on indexing when it's too large\n  [#2682](https://github.com/OpenFn/lightning/issues/2682)\n\n## [v2.10.15] - 2025-02-14","ref":"changelog.html#fixed-50"},{"type":"extras","title":"Changed - Changelog","doc":"- Allow empty/blank log lines from the worker/jobs\n  [#2914](https://github.com/OpenFn/lightning/issues/2914)\n- Only allow `owner` and `admin` users to manage collections\n  [#2923](https://github.com/OpenFn/lightning/issues/2923)","ref":"changelog.html#changed-41"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue where we failed to send failure alerts via email when runs were\n  \"lost\". [#2921](https://github.com/OpenFn/lightning/issues/2921)\n\n## [v2.10.14] - 2025-02-06","ref":"changelog.html#fixed-51"},{"type":"extras","title":"Added - Changelog","doc":"- Extend provisioner to support collections\n  [#2830](https://github.com/OpenFn/lightning/issues/2830)\n- Add collection limiter in the provisioner\n  [PR#2910](https://github.com/OpenFn/lightning/pull/2910)\n- Adds project name to failure alert email\n  [#2884](https://github.com/OpenFn/lightning/pull/2884)\n- Allow project users to manage collections\n  [#2838](https://github.com/OpenFn/lightning/issues/2838)\n- Allow limiting Collection create, put and put_all\n  [#2853](https://github.com/OpenFn/lightning/issues/2853)","ref":"changelog.html#added-39"},{"type":"extras","title":"Changed - Changelog","doc":"- Makes the whole project row in the projects table clickable.\n  [#2889](https://github.com/OpenFn/lightning/pull/2889)\n- Standardizes date formats to YYYY-MM-DD\n  [#2884](https://github.com/OpenFn/lightning/pull/2884)","ref":"changelog.html#changed-42"},{"type":"extras","title":"Fixed - Changelog","doc":"- Allow ordering of Plug Injection\n  [#2903](https://github.com/OpenFn/lightning/issues/2903)\n- Removed empty first line in job editor helper text\n  [#2887](https://github.com/OpenFn/lightning/pull/2887)\n- Standardizes sort order arrows (all now show the direction of sort, rather\n  than the direction they would sort if toggled)\n  [#2423](https://github.com/OpenFn/lightning/issues/2423)\n- Project combobox is populated when viewing MFA backup codes.\n  [#2870](https://github.com/OpenFn/lightning/issues/2870)\n- Allow JobEditor metrics to be tracked when the version of the workflow being\n  viewed is not the latest version.\n  [#2891](https://github.com/OpenFn/lightning/issues/2891)\n\n## [v2.10.13] - 2025-01-29","ref":"changelog.html#fixed-52"},{"type":"extras","title":"Added - Changelog","doc":"- Add support for local adaptors. This can be enabled via `LOCAL_ADAPTORS=true`\n  and path specified via `OPENFN_ADAPTORS_REPO=./path/to/repo/`\n  [#905](https://github.com/OpenFn/lightning/issues/905)\n- Add component injection for AI responses feedback\n  [#2495](https://github.com/OpenFn/lightning/issues/2495)\n- Audit the provisioning of projects via the API\n  [#2718](https://github.com/OpenFn/lightning/issues/2718)\n- Track Collections storage usage based on items key and value sizes\n  [#2853](https://github.com/OpenFn/lightning/issues/2853)\n- Temporary instrumentation for JobEditor to help identify performance issues.\n  [#2617](https://github.com/OpenFn/lightning/issues/2617)\n- Indexes to foreign keys on `workflow_edges` and `steps` tables to try and\n  alleviate slow loading of the job editor.\n  [#2617](https://github.com/OpenFn/lightning/issues/2617)\n- Remove `Snapshot.get_or_create_latest_for`.\n  [#2703](https://github.com/OpenFn/lightning/issues/2703)\n- Add temporary events to allow Lightning to log metrics reported by editors.\n  [#2617](https://github.com/OpenFn/lightning/issues/2617)\n- Audit when workflow deletion is requested.\n  [#2727](https://github.com/OpenFn/lightning/issues/2727)","ref":"changelog.html#added-40"},{"type":"extras","title":"Changed - Changelog","doc":"- Remove snapshot creation when performing the Github sync - no longer needed\n  post-migration. [#2703](https://github.com/OpenFn/lightning/issues/2703)\n- Remove some redundant code related to `WorkOrders.create_for`.\n  [#2703](https://github.com/OpenFn/lightning/issues/2703)\n- Remove use of Snapshot.get_or_create_latest_for from tests.\n  [#2703](https://github.com/OpenFn/lightning/issues/2703)\n- Bump PostCSS [#2863](https://github.com/OpenFn/lightning/pull/2863)\n- Replaced HTTPoison with Tesla in the AdaptorRegistry.\n  [#2861](https://github.com/OpenFn/lightning/pull/2861)\n- Remove googlesheets, gmail and collections from credential schemas list\n  [#2854](https://github.com/OpenFn/lightning/issues/2854)\n- Remove ring on save workflow button\n  [#2829](https://github.com/OpenFn/lightning/issues/2829)","ref":"changelog.html#changed-43"},{"type":"extras","title":"Fixed - Changelog","doc":"- Do not send digest emails for projects with no workflows\n  [#2688](https://github.com/OpenFn/lightning/issues/2688)\n- Fixed navbar items alignment in the workflow builder\n  [#2825](https://github.com/OpenFn/lightning/issues/2825)\n- PromEx metrics no longer detaching on error\n  [#2875](https://github.com/OpenFn/lightning/issues/2875)\n\n## [v2.10.12] - 2025-01-21","ref":"changelog.html#fixed-53"},{"type":"extras","title":"Changed - Changelog","doc":"- PromEx metrics endpoint returns 401 on unauthorized requests.\n  [#2823](https://github.com/OpenFn/lightning/issues/2823)\n- Allow non-openfn.org users to access AI Assistant\n  [#2845](https://github.com/OpenFn/lightning/issues/2845)\n\n## [v2.10.11] - 2025-01-21","ref":"changelog.html#changed-44"},{"type":"extras","title":"Added - Changelog","doc":"- Add component injection for AI responses feedback\n  [#2495](https://github.com/OpenFn/lightning/issues/2495)","ref":"changelog.html#added-41"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix `z-index` for unsaved workflow dot on workflow edit page\n  [#2809](https://github.com/OpenFn/lightning/issues/2809)\n\n## [v2.10.10] - 2025-01-15","ref":"changelog.html#fixed-54"},{"type":"extras","title":"Added - Changelog","doc":"- Add workflows API to create, update, get and list.\n  [#1887](https://github.com/OpenFn/lightning/issues/1887)\n- Show email address of credential owner on project credentials page\n  [#2210](https://github.com/OpenFn/lightning/issues/2210)","ref":"changelog.html#added-42"},{"type":"extras","title":"Changed - Changelog","doc":"- Configure Monaco to load files from lightning instead of cdn\n  [#2786](https://github.com/OpenFn/lightning/issues/2786)","ref":"changelog.html#changed-45"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed Save and Run to always execute jobs with latest changes\n  [#2804](https://github.com/OpenFn/lightning/issues/2804)\n- Fixed aggressive CSS rule in app.css that made it hard to style menu items\n  [#2807](https://github.com/OpenFn/lightning/pull/2807)\n- `z-index` broken on unsaved dot on workflow edit page\n  [#2809](https://github.com/OpenFn/lightning/issues/2809)\n- Fixed an issue in the editor where the Loading Types message displays forever\n  while running offline [#2813](https://github.com/OpenFn/lightning/issues/2813)\n- Fixed an a small layout issue in the Docs panel when loading the editor\n  offline [#2813](https://github.com/OpenFn/lightning/issues/2813)\n\n## [v2.10.9] - 2025-01-09","ref":"changelog.html#fixed-55"},{"type":"extras","title":"Added - Changelog","doc":"- Audit the creation and removal of Github repo connections.\n  [#2668](https://github.com/OpenFn/lightning/issues/2668)\n- Add save and sync option in the workflow edit page\n  [#2707](https://github.com/OpenFn/lightning/issues/2707)","ref":"changelog.html#added-43"},{"type":"extras","title":"Changed - Changelog","doc":"- Git-ignore files from mix assets.deploy\n  [#2788](https://github.com/OpenFn/lightning/issues/2788)\n- Added Claude integration in job chat\n  [#2403](https://github.com/OpenFn/lightning/pull/2403)\n- OPENAI_API_KEY renamed to AI_ASSISTANT_API_KEY\n  [#2403](https://github.com/OpenFn/lightning/pull/2403)\n- Remove snapshot creation from WorkOrders, no longer necessary post-migration.\n  [#2703](https://github.com/OpenFn/lightning/issues/2703)\n\n## [v2.10.8] - 2024-12-18","ref":"changelog.html#changed-46"},{"type":"extras","title":"Added - Changelog","doc":"- Add ability to retry or cancel AI Assistant error responses for user messages\n  [#2704](https://github.com/OpenFn/lightning/issues/2704)","ref":"changelog.html#added-44"},{"type":"extras","title":"Changed - Changelog","doc":"## [v2.10.7] - 2024-12-13   Happy Birthday, Mom!","ref":"changelog.html#changed-47"},{"type":"extras","title":"Added - Changelog","doc":"- Clear AI assistant's chat input after a message is sent\n  [#2781](https://github.com/OpenFn/lightning/issues/2781)\n- Allow different rules and action for delete user.\n  [#2500](https://github.com/OpenFn/lightning/issues/2500)\n- Handle errors from the AI Assistant more gracefully\n  [#2474](https://github.com/OpenFn/lightning/issues/2474)","ref":"changelog.html#added-45"},{"type":"extras","title":"Changed - Changelog","doc":"- Make the AdaptorRegistry cache path configurable\n  [#2780](https://github.com/OpenFn/lightning/issues/2780)","ref":"changelog.html#changed-48"},{"type":"extras","title":"Fixed - Changelog","doc":"- Delete user modal no longer uses the same id as the underlying user record.\n  [#2751](https://github.com/OpenFn/lightning/issues/2751)\n- Use workflow activation limiter on index toggle.\n  [#2777](https://github.com/OpenFn/lightning/issues/2777)\n\n## [v2.10.6] - 2024-12-10","ref":"changelog.html#fixed-56"},{"type":"extras","title":"Added - Changelog","doc":"- Handle errors from the AI Assistant more gracefully\n  [#2741](https://github.com/OpenFn/lightning/issues/2741)","ref":"changelog.html#added-46"},{"type":"extras","title":"Changed - Changelog","doc":"- Updated the About the AI Assistant help text\n- Make user email verification optional. Defaults to `false`\n  [#2755](https://github.com/OpenFn/lightning/issues/2755)\n  >  The default was behaviour was to always require email verification. Set\n  > `REQUIRE_EMAIL_VERIFICATION` to `true` to revert to the old behaviour.\n- Enhance AI assistant panel UI\n  [#2497](https://github.com/OpenFn/lightning/issues/2497)\n- Allow superusers to be created via the user UI.\n  [#2719](https://github.com/OpenFn/lightning/issues/2719)","ref":"changelog.html#changed-49"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix Priority and Scope Issues in Inspector Key Bindings\n  [#2770](https://github.com/OpenFn/lightning/issues/2770)\n- Fixed an issue where sometimes adaptor docs won't load in the Inspector\n  [#2749](https://github.com/OpenFn/lightning/pull/2749)\n- Return a 422 when a duplicate key is sent to the collections post/put_all API\n  [#2752](https://github.com/OpenFn/lightning/issues/2752)\n- Do not require the user's password when a superuser updates a user.\n  [#2757](https://github.com/OpenFn/lightning/issues/2757)\n\n## [v2.10.5] - 2024-12-04","ref":"changelog.html#fixed-57"},{"type":"extras","title":"Added - Changelog","doc":"- Enable Tab Key for Indenting Text in AI Assistant Input Box\n  [#2407](https://github.com/OpenFn/lightning/issues/2407)\n- Ctrl/Cmd + Enter to Send a Message to the AI Assistant\n  [#2406](https://github.com/OpenFn/lightning/issues/2406)\n- Add styles to AI chat messages\n  [#2484](https://github.com/OpenFn/lightning/issues/2484)\n- Auditing when enabling/disabling a workflow\n  [#2697](https://github.com/OpenFn/lightning/issues/2697)\n- Ability to enable/disable a workflow from the workflow editor\n  [#2698](https://github.com/OpenFn/lightning/issues/2698)","ref":"changelog.html#added-47"},{"type":"extras","title":"Changed - Changelog","doc":"- Insert all on a collection with the same timestamp\n  [#2711](https://github.com/OpenFn/lightning/issues/2711)\n- AI Assistant: Show disclaimer once every day per user\n  [#2481](https://github.com/OpenFn/lightning/issues/2481)\n- AI Assistant: Scroll to new message when it arrives\n  [#2409](https://github.com/OpenFn/lightning/issues/2409)\n- AI Assistant: Set vertical scrollbar below the session title\n  [#2477](https://github.com/OpenFn/lightning/issues/2477)\n- AI Assistant: Increase size of input box for easier handling of large inputs\n  [#2408](https://github.com/OpenFn/lightning/issues/2408)\n- Bumped dependencies\n- Extend display of audit events to cater for deletions.\n  [#2701](https://github.com/OpenFn/lightning/issues/2701)\n- Kafka documentation housekeeping.\n  [#2414](https://github.com/OpenFn/lightning/issues/2414)","ref":"changelog.html#changed-50"},{"type":"extras","title":"Fixed - Changelog","doc":"- Collections controller sending an invalid response body when a item doesn't\n  exist [#2733](https://github.com/OpenFn/lightning/issues/2733)\n- AI Assistant: Text in the form gets cleared when you change the editor content\n  [#2739](https://github.com/OpenFn/lightning/issues/2739)\n\n## [v2.10.4] - 2024-11-22","ref":"changelog.html#fixed-58"},{"type":"extras","title":"Added - Changelog","doc":"- Support dynamic json schema email format validation.\n  [#2664](https://github.com/OpenFn/lightning/issues/2664)\n- Audit snapshot creation\n  [#2601](https://github.com/OpenFn/lightning/issues/2601)\n- Allow filtering collection items by updated_before and updated_after.\n  [#2693](https://github.com/OpenFn/lightning/issues/2693)\n- Add support for SMTP email configuration\n  [#2699](https://github.com/OpenFn/lightning/issues/2699)  Please note that\n  `EMAIL_ADMIN` defaults to `lightning@example.com` in production environments","ref":"changelog.html#added-48"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix cursor for small limit on collections request\n  [#2683](https://github.com/OpenFn/lightning/issues/2683)\n- Disable save and run actions on deleted workflows\n  [#2170](https://github.com/OpenFn/lightning/issues/2170)\n- Distinguish active and inactive sort arrows in projects overview table\n  [#2423](https://github.com/OpenFn/lightning/issues/2423)\n- Fix show password toggle icon gets flipped after changing the password value\n  [#2611](https://github.com/OpenFn/lightning/issues/2611)\n\n## [v2.10.3] - 2024-11-13","ref":"changelog.html#fixed-59"},{"type":"extras","title":"Added - Changelog","doc":"- Disable monaco command palette in Input and Log viewers\n  [#2643](https://github.com/OpenFn/lightning/issues/2643)\n- Make provision for non-User actors when creating Audit entries.\n  [#2601](https://github.com/OpenFn/lightning/issues/2601)","ref":"changelog.html#added-49"},{"type":"extras","title":"Fixed - Changelog","doc":"- Superusers can't update users passwords\n  [#2621](https://github.com/OpenFn/lightning/issues/2621)\n- Attempt to reduce memory consumption when generating UsageTracking reports.\n  [#2636](https://github.com/OpenFn/lightning/issues/2636)\n\n## [v2.10.2] - 2024-11-14","ref":"changelog.html#fixed-60"},{"type":"extras","title":"Added - Changelog","doc":"- Audit history exports events\n  [#2637](https://github.com/OpenFn/lightning/issues/2637)","ref":"changelog.html#added-50"},{"type":"extras","title":"Changed - Changelog","doc":"- Ignore Plug.Conn.InvalidQueryError in Sentry\n  [#2672](https://github.com/OpenFn/lightning/issues/2672)\n- Add Index to `dataclip_id` on `runs` and `work_orders` tables to speed up\n  deletion [PR#2677](https://github.com/OpenFn/lightning/pull/2677)","ref":"changelog.html#changed-51"},{"type":"extras","title":"Fixed - Changelog","doc":"- Error when the logger receives a boolean\n  [#2666](https://github.com/OpenFn/lightning/issues/2666)\n\n## [v2.10.1] - 2024-11-13","ref":"changelog.html#fixed-61"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix metadata loading as code-assist in the editor\n  [#2669](https://github.com/OpenFn/lightning/pull/2669)\n- Fix Broken Input Dataclip UI\n  [#2670](https://github.com/OpenFn/lightning/pull/2670)\n\n## [v2.10.0] - 2024-11-13","ref":"changelog.html#fixed-62"},{"type":"extras","title":"Changed - Changelog","doc":"- Increase collection items value limit to 1M characters\n  [#2661](https://github.com/OpenFn/lightning/pull/2661)","ref":"changelog.html#changed-52"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix issues loading suggestions for code-assist\n  [#2662](https://github.com/OpenFn/lightning/pull/2662)\n\n## [v2.10.0-rc.2] - 2024-11-12","ref":"changelog.html#fixed-63"},{"type":"extras","title":"Added - Changelog","doc":"- Bootstrap script to help install and configure the Lightning app for\n  development [#2654](https://github.com/OpenFn/lightning/pull/2654)","ref":"changelog.html#added-51"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgrade dependencies [#2624](https://github.com/OpenFn/lightning/pull/2624)\n- Hide the collections and fhir-jembi adaptors from the available adaptors list\n  [#2648](https://github.com/OpenFn/lightning/issues/2648)\n- Change column name for \"Last Activity\" to \"Last Modified\" on Projects list\n  [#2593](https://github.com/OpenFn/lightning/issues/2593)","ref":"changelog.html#changed-53"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix LiveView crash when pressing \"esc\" on inspector\n  [#2622](https://github.com/OpenFn/lightning/issues/2622)\n- Delete project data in batches to avoid timeouts in the db connection\n  [#2632](https://github.com/OpenFn/lightning/issues/2632)\n- Fix MetadataService crashing when errors are encountered\n  [#2659](https://github.com/OpenFn/lightning/issues/2659)\n\n## [v2.10.0-rc.1] - 2024-11-08","ref":"changelog.html#fixed-64"},{"type":"extras","title":"Changed - Changelog","doc":"- Reduce transaction time when fetching collection items by fetching upfront\n  [#2645](https://github.com/OpenFn/lightning/issues/2645)\n\n## [v2.10.0-rc.0] - 2024-11-07","ref":"changelog.html#changed-54"},{"type":"extras","title":"Added - Changelog","doc":"- Adds a UI for managing collections\n  [#2567](https://github.com/OpenFn/lightning/issues/2567)\n- Introduces collections, a programatic workflow data sharing resource.\n  [#2551](https://github.com/OpenFn/lightning/issues/2551)\n\n## [v2.9.15] - 2024-11-06","ref":"changelog.html#added-52"},{"type":"extras","title":"Added - Changelog","doc":"- Added some basic editor usage tips to the docs panel\n  [#2629](https://github.com/OpenFn/lightning/pull/2629)\n- Create audit events when the retention periods for a project's dataclips and\n  history are modified. [#2589](https://github.com/OpenFn/lightning/issues/2589)","ref":"changelog.html#added-53"},{"type":"extras","title":"Changed - Changelog","doc":"- The Docs panel in the inspector will now be closed by default\n  [#2629](https://github.com/OpenFn/lightning/pull/2629)\n- JSDoc annotations are removed from code assist descriptions\n  [#2629](https://github.com/OpenFn/lightning/pull/2629)\n- Show project name during delete confirmation\n  [#2634](https://github.com/OpenFn/lightning/pull/2634)","ref":"changelog.html#changed-55"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix misaligned margins on collapsed panels in the inspector\n  [#2571](https://github.com/OpenFn/lightning/issues/2571)\n- Fix sorting directions icons in projects table in the project dashboard page\n  [#2631](https://github.com/OpenFn/lightning/pull/2631)\n- Fixed an issue where code-completion prompts don't load properly in the\n  inspector [#2629](https://github.com/OpenFn/lightning/pull/2629)\n- Fixed an issue where namespaces (like http.) don't appear in code assist\n  prompts [#2629](https://github.com/OpenFn/lightning/pull/2629)\n\n## [v2.9.14] - 2024-10-31","ref":"changelog.html#fixed-65"},{"type":"extras","title":"Added - Changelog","doc":"- Additional documentation and notification text relating to the importance of\n  alternate storage for Kafka triggers.\n  [#2614](https://github.com/OpenFn/lightning/issues/2614)\n- Add support for run memory limit option\n  [#2623](https://github.com/OpenFn/lightning/pull/2623)","ref":"changelog.html#added-54"},{"type":"extras","title":"Changed - Changelog","doc":"- Enforcing MFA for a project can be enforced by the usage limiter\n  [#2607](https://github.com/OpenFn/lightning/pull/2607)\n- Add extensions for limiting retention period\n  [#2618](https://github.com/OpenFn/lightning/pull/2618)\n\n## [v2.9.13] - 2024-10-28","ref":"changelog.html#changed-56"},{"type":"extras","title":"Changed - Changelog","doc":"- Add responsible ai disclaimer to arcade video\n  [#2610](https://github.com/OpenFn/lightning/pull/2610)\n\n## [v2.9.12] - 2024-10-25","ref":"changelog.html#changed-57"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix editor panel buttons gets out of shape on smaller screens\n  [#2278](https://github.com/OpenFn/lightning/issues/2278)\n- Do not send empty strings in credential body to the worker\n  [#2585](https://github.com/OpenFn/lightning/issues/2585)\n- Refactor projects dashboard page and fix bug on last activity column\n  [#2593](https://github.com/OpenFn/lightning/issues/2593)\n\n## [v2.9.11] - 2024-10-23","ref":"changelog.html#fixed-66"},{"type":"extras","title":"Added - Changelog","doc":"- Optionally write Kafka messages that can not be persisted to the file system.\n  [#2386](https://github.com/OpenFn/lightning/issues/2386)\n- Add `MessageRecovery` utility code to restore Kafka messages that were\n  pesisted to the file system.\n  [#2386](https://github.com/OpenFn/lightning/issues/2386)\n- Projects page welcome section: allow users to learn how to use the app thru\n  Arcade videos [#2563](https://github.com/OpenFn/lightning/issues/2563)\n- Store user preferences in database\n  [#2564](https://github.com/OpenFn/lightning/issues/2564)","ref":"changelog.html#added-55"},{"type":"extras","title":"Changed - Changelog","doc":"- Allow users to to preview password fields in credential forms\n  [#2584](https://github.com/OpenFn/lightning/issues/2584)\n- Remove superuser flag for oauth clients creation\n  [#2417](https://github.com/OpenFn/lightning/issues/2417)\n- Make URL validator more flexible to support URLs with dashes and other cases\n  [#2417](https://github.com/OpenFn/lightning/issues/2417)","ref":"changelog.html#changed-58"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix retry many workorders when built for job\n  [#2597](https://github.com/OpenFn/lightning/issues/2597)\n- Do not count deleted workflows in the projects table\n  [#2540](https://github.com/OpenFn/lightning/issues/2540)\n\n## [v2.9.10] - 2024-10-16","ref":"changelog.html#fixed-67"},{"type":"extras","title":"Added - Changelog","doc":"- Notify users when a Kafka trigger can not persist a message to the database.\n  [#2386](https://github.com/OpenFn/lightning/issues/2386)\n- Support `kafka` trigger type in the provisioner\n  [#2506](https://github.com/OpenFn/lightning/issues/2506)","ref":"changelog.html#added-56"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix work order retry sorting and avoids loading dataclips\n  [#2581](https://github.com/OpenFn/lightning/issues/2581)\n- Fix editor panel overlays output panel when scrolled\n  [#2291](https://github.com/OpenFn/lightning/issues/2291)\n\n## [v2.9.9] - 2024-10-09","ref":"changelog.html#fixed-68"},{"type":"extras","title":"Changed - Changelog","doc":"- Make project description multiline in project.yaml\n  [#2534](https://github.com/OpenFn/lightning/issues/2534)\n- Do not track partition timestamps when ingesting Kafka messages.\n  [#2531](https://github.com/OpenFn/lightning/issues/2531)\n- Always use the `initial_offset_reset_policy` when enabling a Kafka pipeline.\n  [#2531](https://github.com/OpenFn/lightning/issues/2531)\n- Add plumbing to simulate a persistence failure in a Kafka trigger pipeline.\n  [#2386](https://github.com/OpenFn/lightning/issues/2386)","ref":"changelog.html#changed-59"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix Oban errors not getting logged in Sentry\n  [#2542](https://github.com/OpenFn/lightning/issues/2542)\n- Perform data retention purging in batches to avoid timeouts\n  [#2528](https://github.com/OpenFn/lightning/issues/2528)\n- Fix editor panel title gets pushed away when collapsed\n  [#2545](https://github.com/OpenFn/lightning/issues/2545)\n- Mark unfinished steps having finished runs as `lost`\n  [#2416](https://github.com/OpenFn/lightning/issues/2416)\n\n## [v2.9.8] - 2024-10-03","ref":"changelog.html#fixed-69"},{"type":"extras","title":"Added - Changelog","doc":"- Ability for users to to retry Runs and create manual Work Orders from the job\n  inspector #2496 [#2496](https://github.com/OpenFn/lightning/issues/2496)","ref":"changelog.html#added-57"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix panel icons overlays on top title when collapsed\n  [#2537](https://github.com/OpenFn/lightning/issues/2537)\n\n## [v2.9.7] - 2024-10-02","ref":"changelog.html#fixed-70"},{"type":"extras","title":"Added - Changelog","doc":"- Enqueues many work orders retries in the same transaction per Oban job.\n  [#2363](https://github.com/OpenFn/lightning/issues/2363)\n- Added the ability to retry rejected work orders.\n  [#2391](https://github.com/OpenFn/lightning/issues/2391)","ref":"changelog.html#added-58"},{"type":"extras","title":"Changed - Changelog","doc":"- Notify other present users when the promoted user saves the workflow\n  [#2282](https://github.com/OpenFn/lightning/issues/2282)\n- User email change: Add debounce on blur to input forms to avoid validation\n  after every keystroke [#2365](https://github.com/OpenFn/lightning/issues/2365)","ref":"changelog.html#changed-60"},{"type":"extras","title":"Fixed - Changelog","doc":"- Use timestamps sent from worker when starting and completing runs\n  [#2434](https://github.com/OpenFn/lightning/issues/2434)\n- User email change: Add debounce on blur to input forms to avoid validation\n  after every keystroke [#2365](https://github.com/OpenFn/lightning/issues/2365)","ref":"changelog.html#fixed-71"},{"type":"extras","title":"Fixed - Changelog","doc":"- User email change: Send notification of change to the old email address and\n  confirmation to the new email address\n  [#2365](https://github.com/OpenFn/lightning/issues/2365)\n- Fixes filters to properly handle the \"rejected\" status for work orders.\n  [#2391](https://github.com/OpenFn/lightning/issues/2391)\n- Fix item selection (project / billing account) in the context switcher\n  [#2518](https://github.com/OpenFn/lightning/issues/2518)\n- Export edge condition expressions as multiline in project spec\n  [#2521](https://github.com/OpenFn/lightning/issues/2521)\n- Fix line spacing on AI Assistant\n  [#2498](https://github.com/OpenFn/lightning/issues/2498)\n\n## [v2.9.6] - 2024-09-23","ref":"changelog.html#fixed-72"},{"type":"extras","title":"Added - Changelog","doc":"","ref":"changelog.html#added-59"},{"type":"extras","title":"Changed - Changelog","doc":"- Increase minimum password length to 12 in accordance with ASVS 4.0.3\n  recommendation V2.1.2 [#2507](https://github.com/OpenFn/lightning/pull/2507)\n- Changed the public sandbox (https://demo.openfn.org) setup script to use\n  `welcome12345` passwords to comply with a 12-character minimum","ref":"changelog.html#changed-61"},{"type":"extras","title":"Fixed - Changelog","doc":"- Dataclip selector always shows that the dataclip is wiped even when the job\n  wasn't run [#2303](https://github.com/OpenFn/lightning/issues/2303)\n- Send run channel errors to sentry\n  [#2515](https://github.com/OpenFn/lightning/issues/2515)\n\n## [v2.9.5] - 2024-09-18","ref":"changelog.html#fixed-73"},{"type":"extras","title":"Changed - Changelog","doc":"- Hide export history button when no workorder is rendered in the table\n  [#2440](https://github.com/OpenFn/lightning/issues/2440)\n- Improve docs for running lightning locally #2499\n  [#2499](https://github.com/OpenFn/lightning/pull/2499)","ref":"changelog.html#changed-62"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix empty webhook URL when switching workflow trigger type\n  [#2050](https://github.com/OpenFn/lightning/issues/2050)\n- Add quotes when special YAML characters are present in the exported project\n  [#2446](https://github.com/OpenFn/lightning/issues/2446)\n- In the AI Assistant, don't open the help page when clicking the Responsible AI\n  Link [#2511](https://github.com/OpenFn/lightning/issues/2511)\n\n## [v2.9.4] - 2024-09-16","ref":"changelog.html#fixed-74"},{"type":"extras","title":"Changed - Changelog","doc":"- Responsible AI review of AI Assistant\n  [#2478](https://github.com/OpenFn/lightning/pull/2478)\n- Improve history export page UI\n  [#2442](https://github.com/OpenFn/lightning/issues/2442)\n- When selecting a node in the workflow diagram, connected edges will also be\n  highlighted [#2396](https://github.com/OpenFn/lightning/issues/2358)","ref":"changelog.html#changed-63"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix AI Assitant crashes on a job that is not saved yet\n  [#2479](https://github.com/OpenFn/lightning/issues/2479)\n- Fix jumpy combobox for scope switcher\n  [#2469](https://github.com/OpenFn/lightning/issues/2469)\n- Fix console errors when rending edge labels in the workflow diagram\n- Fix tooltip on export workorder button\n  [#2430](https://github.com/OpenFn/lightning/issues/2430)\n\n## [v2.9.3] - 2024-09-11","ref":"changelog.html#fixed-75"},{"type":"extras","title":"Added - Changelog","doc":"- Add utility module to seed a DB to support query performance analysis.\n  [#2441](https://github.com/OpenFn/lightning/issues/2441)","ref":"changelog.html#added-60"},{"type":"extras","title":"Changed - Changelog","doc":"- Enhance user profile page to add a section for updating basic information\n  [#2470](https://github.com/OpenFn/lightning/pull/2470)\n- Upgraded Heroicons to v2.1.5, from v2.0.18\n  [#2483](https://github.com/OpenFn/lightning/pull/2483)\n- Standardize `link-uuid` style for uuid chips\n- Updated PromEx configuration to align with custom Oban naming.\n  [#2488](https://github.com/OpenFn/lightning/issues/2488)\n\n## [v2.9.2] - 2024-09-09","ref":"changelog.html#changed-64"},{"type":"extras","title":"Changed - Changelog","doc":"- Temporarily limit AI to @openfn emails while testing\n  [#2482](https://github.com/OpenFn/lightning/pull/2482)\n\n## [v2.9.1] - 2024-09-09","ref":"changelog.html#changed-65"},{"type":"extras","title":"Fixed - Changelog","doc":"- Provisioner creates invalid snapshots when doing CLI deploy\n  [#2461](https://github.com/OpenFn/lightning/issues/2461)\n  [#2460](https://github.com/OpenFn/lightning/issues/2460)\n\n  > This is a fix for future Workflow updates that are deployed by the CLI and\n  > Github integrations. Unfortunately, there is a high likelihood that your\n  > existing snapshots could be incorrect (e.g. missing steps, missing edges).\n  > In order to fix this, you will need to manually create new snapshots for\n  > each of your workflows. This can be done either by modifying the workflow in\n  > the UI and saving it. Or running a command on the running instance:\n  >\n  > ```elixir\n  > alias Lightning.Repo\n  > alias Lightning.Workflows.{Workflow, Snapshot}\n  >\n  > Repo.transaction(fn ->\n  >   snapshots =\n  >     Repo.all(Workflow)\n  >     |> Enum.map(&Workflow.touch/1)\n  >     |> Enum.map(&Repo.update!/1)\n  >     |> Enum.map(fn workflow ->\n  >       {:ok, snapshot} = Snapshot.create(workflow)\n  >       snapshot\n  >     end)\n  >\n  >  {:ok, snapshots}\n  > end)\n  > ```\n\n## [v2.9.0] - 2024-09-06","ref":"changelog.html#fixed-76"},{"type":"extras","title":"Added - Changelog","doc":"- Limit AI queries and hook the increment of AI queries to allow usage limiting.\n  [#2438](https://github.com/OpenFn/lightning/pull/2438)\n- Persist AI Assistant conversations and enable it for all users\n  [#2296](https://github.com/OpenFn/lightning/issues/2296)","ref":"changelog.html#added-61"},{"type":"extras","title":"Changed - Changelog","doc":"- Rename `new_table` component to `table`.\n  [#2448](https://github.com/OpenFn/lightning/pull/2448)","ref":"changelog.html#changed-66"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix `workflow_id` presence in state.json during Github sync\n  [#2445](https://github.com/OpenFn/lightning/issues/2445)\n\n## [v2.8.2] - 2024-09-04","ref":"changelog.html#fixed-77"},{"type":"extras","title":"Added - Changelog","doc":"- Change navbar colors depending on scope.\n  [#2449](https://github.com/OpenFn/lightning/pull/2449)\n- Add support for configurable idle connection timeouts via the `IDLE_TIMEOUT`\n  environment variable. [#2443](https://github.com/OpenFn/lightning/issues/2443)","ref":"changelog.html#added-62"},{"type":"extras","title":"Changed - Changelog","doc":"- Allow setup_user command to be execute from outside the container with\n  `/app/bin/lightning eval Lightning.Setup.setup_user/3`\n- Implement a combo-box to make navigating between projects easier\n  [#241](https://github.com/OpenFn/lightning/pull/2424)\n- Updated vulnerable version of micromatch.\n  [#2454](https://github.com/OpenFn/lightning/issues/2454)\n\n## [v2.8.1] - 2024-08-28","ref":"changelog.html#changed-67"},{"type":"extras","title":"Changed - Changelog","doc":"- Improve run claim query by removing extraneous sorts\n  [#2431](https://github.com/OpenFn/lightning/issues/2431)\n\n## [v2.8.0] - 2024-08-27","ref":"changelog.html#changed-68"},{"type":"extras","title":"Added - Changelog","doc":"- Users are now able to export work orders, runs, steps, logs, and dataclips\n  from the History page.\n  [#1698](https://github.com/OpenFn/lightning/issues/1698)","ref":"changelog.html#added-63"},{"type":"extras","title":"Changed - Changelog","doc":"- Add index over `run_id` and `step_id` in run_steps to improve worker claim\n  speed. [#2428](https://github.com/OpenFn/lightning/issues/2428)\n- Show Github Error messages as they are to help troubleshooting\n  [#2156](https://github.com/OpenFn/lightning/issues/2156)\n- Allow `Setup_utils.setup_user` to be used for the initial superuser creation.\n- Update to code assist in the Job Editor to import namespaces from adaptors.\n  [#2432](https://github.com/OpenFn/lightning/issues/2432)","ref":"changelog.html#changed-69"},{"type":"extras","title":"Fixed - Changelog","doc":"- Unable to remove/reconnect github app in lightning after uninstalling directly\n  from Github [#2168](https://github.com/OpenFn/lightning/issues/2168)\n- Github sync buttons available even when usage limiter returns error\n  [PR#2390](https://github.com/OpenFn/lightning/pull/2390)\n- Fix issue with the persisting of a Kafka message with headers.\n  [#2402](https://github.com/OpenFn/lightning/issues/2402)\n- Protect against race conditions when updating partition timestamps for a Kafka\n  trigger. [#2378](https://github.com/OpenFn/lightning/issues/2378)\n\n## [v2.7.19] - 2024-08-19","ref":"changelog.html#fixed-78"},{"type":"extras","title":"Added - Changelog","doc":"- Pass the user_id param on check usage limits.\n  [#2387](https://github.com/OpenFn/lightning/issues/2387)\n\n## [v2.7.18] - 2024-08-17","ref":"changelog.html#added-64"},{"type":"extras","title":"Added - Changelog","doc":"- Ensure that all users in an instance have a confirmed email address within 48\n  hours [#2389](https://github.com/OpenFn/lightning/issues/2389)","ref":"changelog.html#added-65"},{"type":"extras","title":"Changed - Changelog","doc":"- Ensure that all the demo accounts are confirmed by default\n  [#2395](https://github.com/OpenFn/lightning/issues/2395)","ref":"changelog.html#changed-70"},{"type":"extras","title":"Fixed - Changelog","doc":"- Removed all Kafka trigger code that ensured that message sequence is honoured\n  for messages with keys. Functionality to ensure that message sequence is\n  honoured will be added in the future, but in an abstraction that is a better\n  fit for the current Lightning design.\n  [#2362](https://github.com/OpenFn/lightning/issues/2362)\n- Dropped the `trigger_kafka_messages` table that formed part of the Kafka\n  trigger implementation, but which is now obsolete given the removal of the\n  code related to message sequence preservation.\n  [#2362](https://github.com/OpenFn/lightning/issues/2362)\n\n## [v2.7.17] - 2024-08-14","ref":"changelog.html#fixed-79"},{"type":"extras","title":"Added - Changelog","doc":"- Added an `iex` command to setup a user, an apiToken, and credentials so that\n  it's possible to get a fully running lightning instance via external shell\n  script. (This is a tricky requirement for a distributed set of local\n  deployments) [#2369](https://github.com/OpenFn/lightning/issues/2369) and\n  [#2373](https://github.com/OpenFn/lightning/pull/2373)\n- Added support for _very basic_ project-credential management (add, associate\n  with job) via provisioning API.\n  [#2367](https://github.com/OpenFn/lightning/issues/2367)","ref":"changelog.html#added-66"},{"type":"extras","title":"Changed - Changelog","doc":"- Enforced uniqueness on credential names _by user_.\n  [#2371](https://github.com/OpenFn/lightning/pull/2371)\n- Use Swoosh to format User models into recipients\n  [#2374](https://github.com/OpenFn/lightning/pull/2374)\n- Bump default CLI to `@openfn/cli@1.8.1`","ref":"changelog.html#changed-71"},{"type":"extras","title":"Fixed - Changelog","doc":"- When a Workflow is deleted, any associated Kafka trigger pipelines will be\n  stopped and deleted. [#2379](https://github.com/OpenFn/lightning/issues/2379)\n\n## [v2.7.16] - 2024-08-07","ref":"changelog.html#fixed-80"},{"type":"extras","title":"Fixed - Changelog","doc":"- @ibrahimwickama fixed issue that prevented users from creating new workflows\n  if they are running in an `http` environment (rather than `localhost` or\n  `https`). [#2365](https://github.com/OpenFn/lightning/pull/2356)\n\n## [v2.7.15] - 2024-08-07","ref":"changelog.html#fixed-81"},{"type":"extras","title":"Changed - Changelog","doc":"- Kafka messages without keys are synchronously converted into a Workorder,\n  Dataclip and Run. Messages with keys are stored as TriggerKafkaMessage\n  records, however the code needed to process them has been disabled, pending\n  removal. [#2351](https://github.com/OpenFn/lightning/issues/2351)\n\n## [v2.7.14] - 2024-08-05","ref":"changelog.html#changed-72"},{"type":"extras","title":"Changed - Changelog","doc":"- Use standard styles for link, fix home button in breadcrumbs\n  [#2354](https://github.com/OpenFn/lightning/pull/2354)\n\n## [v2.7.13] - 2024-08-05","ref":"changelog.html#changed-73"},{"type":"extras","title":"Changed - Changelog","doc":"- Don't log 406 Not Acceptable errors to Sentry\n  [#2350](https://github.com/OpenFn/lightning/issues/2350)","ref":"changelog.html#changed-74"},{"type":"extras","title":"Fixed - Changelog","doc":"- Correctly handle floats in LogMessage\n  [#2348](https://github.com/OpenFn/lightning/issues/2348)\n\n## [v2.7.12] - 2024-07-31","ref":"changelog.html#fixed-82"},{"type":"extras","title":"Changed - Changelog","doc":"- Make root layout configurable\n  [#2310](https://github.com/OpenFn/lightning/pull/2310)\n- Use snapshots when initiating Github Sync\n  [#1827](https://github.com/OpenFn/lightning/issues/1827)\n- Move runtime logic into module\n  [#2338](https://github.com/OpenFn/lightning/pull/2338)\n- Use `AccountHook Extension` to register new users invited in a project\n  [#2341](https://github.com/OpenFn/lightning/pull/2341)\n- Standardized top bars across the UI with a navigable breadcrumbs interface\n  [#2299](https://github.com/OpenFn/lightning/pull/2299)","ref":"changelog.html#changed-75"},{"type":"extras","title":"Fixed - Changelog","doc":"- Limit frame size of worker socket connections\n  [#2339](https://github.com/OpenFn/lightning/issues/2339)\n- Limit number of days to 31 in cron trigger dropdown\n  [#2331](https://github.com/OpenFn/lightning/issues/2331)\n\n## [v2.7.11] - 2024-07-26","ref":"changelog.html#fixed-83"},{"type":"extras","title":"Added - Changelog","doc":"- Expose more Kafka configuration at instance-level.\n  [#2329](https://github.com/OpenFn/lightning/issues/2329)","ref":"changelog.html#added-67"},{"type":"extras","title":"Fixed - Changelog","doc":"- Table action css tweaks\n  [#2333](https://github.com/OpenFn/lightning/issues/2333)\n\n## [v2.7.10]","ref":"changelog.html#fixed-84"},{"type":"extras","title":"Added - Changelog","doc":"- A rudimentary optimisation for Kafka messages that do not have a key as the\n  sequence of these messages can not be guaranteed.\n  [#2323](https://github.com/OpenFn/lightning/issues/2323)","ref":"changelog.html#added-68"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix an intermittent bug when trying to intern Kafka offset reset policy.\n  [#2327](https://github.com/OpenFn/lightning/issues/2327)\n\n## [v2.7.9] - 2024-07-24","ref":"changelog.html#fixed-85"},{"type":"extras","title":"Changed - Changelog","doc":"- CSS - standardized some more tailwind components\n  [PR#2324](https://github.com/OpenFn/lightning/pull/2324)\n\n## [v2.7.8] - 2024-07-24","ref":"changelog.html#changed-76"},{"type":"extras","title":"Changed - Changelog","doc":"- Enable End to End Integration tests\n  [#2187](https://github.com/OpenFn/lightning/issues/2187)\n- Make selected Kafka trigger parameters configurable via ENV vars.\n  [#2315](https://github.com/OpenFn/lightning/issues/2315)\n- Use the Oauth2 `revocation_endpoint` to revoke token access (1) before\n  attempting to reauthorize and (2) when users schedule a credential for\n  deletion [#2314](https://github.com/OpenFn/lightning/issues/2314)\n- Standardized tailwind alerts\n  [#2314](https://github.com/OpenFn/lightning/issues/2314)\n- Standardized `link` tailwind style (and provided `link-plain`, `link-info`,\n  `link-error`, and `link-warning`)\n  [#2314](https://github.com/OpenFn/lightning/issues/2314)","ref":"changelog.html#changed-77"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix work order URL in failure alerts\n  [#2305](https://github.com/OpenFn/lightning/pull/2305)\n- Fix error when handling existing encrypted credentials\n  [#2316](https://github.com/OpenFn/lightning/issues/2316)\n- Fix job editor switches to the snapshot version when body is changed\n  [#2306](https://github.com/OpenFn/lightning/issues/2306)\n- Fix misaligned \"Retry from here\" button on inspector page\n  [#2308](https://github.com/OpenFn/lightning/issues/2308)\n\n## [v2.7.7] - 2024-07-18","ref":"changelog.html#fixed-86"},{"type":"extras","title":"Added - Changelog","doc":"- Add experimental support for triggers that consume message from a Kafka\n  cluster [#1801](https://github.com/OpenFn/lightning/issues/1801)\n- Workflows can now specify concurrency, allowing runs to be executed\n  syncronously or to a maximum concurrency level. Note that this applies to the\n  default FifoRunQueue only.\n  [#2022](https://github.com/OpenFn/lightning/issues/2022)\n- Invite Non-Registered Users to a Project\n  [#2288](https://github.com/OpenFn/lightning/pull/2288)","ref":"changelog.html#added-69"},{"type":"extras","title":"Changed - Changelog","doc":"- Make modal close events configurable\n  [#2298](https://github.com/OpenFn/lightning/issues/2298)","ref":"changelog.html#changed-78"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevent Oauth credentials from being created if they don't have a\n  `refresh_token` [#2289](https://github.com/OpenFn/lightning/pull/2289) and\n  send more helpful error data back to the worker during token refresh failure\n  [#2135](https://github.com/OpenFn/lightning/issues/2135)\n- Fix CLI deploy not creating snapshots for workflows\n  [#2271](https://github.com/OpenFn/lightning/issues/2271)\n\n## [v2.7.6] - 2024-07-11","ref":"changelog.html#fixed-87"},{"type":"extras","title":"Fixed - Changelog","doc":"- UsageTracking crons are enabled again (if config is enabled)\n  [#2276](https://github.com/OpenFn/lightning/issues/2276)\n- UsageTracking metrics absorb the fact that a step's job_id may not currently\n  exist when counting unique jobs\n  [#2279](https://github.com/OpenFn/lightning/issues/2279)\n- Adjusted layout and text displayed when preventing simultaneous edits to\n  accommodate more screen sizes\n  [#2277](https://github.com/OpenFn/lightning/issues/2277)\n\n## [v2.7.5] - 2024-07-10","ref":"changelog.html#fixed-88"},{"type":"extras","title":"Changed - Changelog","doc":"- Prevent two editors from making changes to the same workflow at the same time\n  [#1949](https://github.com/OpenFn/lightning/issues/1949)\n- Moved the Edge Condition Label field to the top of the form, so it's always\n  visible [#2236](https://github.com/OpenFn/lightning/pull/2236)\n- Update edge condition labels in the Workflow Diagram to always show the\n  condition type icon and the label\n  [#2236](https://github.com/OpenFn/lightning/pull/2236)","ref":"changelog.html#changed-79"},{"type":"extras","title":"Fixed - Changelog","doc":"- Do Not Require Lock Version In URL Parameters\n  [#2267](https://github.com/OpenFn/lightning/pull/2267)\n- Trim erroneous spaces on user first and last names\n  [#2269](https://github.com/OpenFn/lightning/pull/2269)\n\n## [v2.7.4] - 2024-07-06","ref":"changelog.html#fixed-89"},{"type":"extras","title":"Changed - Changelog","doc":"- When the entire log string is a valid JSON object, pretty print it with a\n  standard `JSON.stringify(str, null, 2)` but if it's something else then let\n  the user do whatever they want (e.g., if you write\n  `console.log('some', 'cool', state.data)` we won't mess with it.)\n  [#2260](https://github.com/OpenFn/lightning/pull/2260)","ref":"changelog.html#changed-80"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed sticky toggle button for switching between latest version and a snapshot\n  of a workflow [#2264](https://github.com/OpenFn/lightning/pull/2264)\n\n## [v2.7.3] - 2024-07-05","ref":"changelog.html#fixed-90"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped the ws-worker to v1.3","ref":"changelog.html#changed-81"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix issue when selecting different steps in RunViewer and the parent liveview\n  not being informed [#2253](https://github.com/OpenFn/lightning/issues/2253)\n- Stopped inspector from crashing when looking for a step by a run/job\n  combination [#2201](https://github.com/OpenFn/lightning/issues/2201)\n- Workflow activation only considers new and changed workflows\n  [#2237](https://github.com/OpenFn/lightning/pull/2237)\n\n## [v2.7.2] - 2024-07-03","ref":"changelog.html#fixed-91"},{"type":"extras","title":"Changed - Changelog","doc":"- Allow endpoint plugs to be injected at compile time.\n  [#2248](https://github.com/OpenFn/lightning/pull/2248)\n- All models to use the `public` schema.\n  [#2249](https://github.com/OpenFn/lightning/pull/2249)\n- In the workflow diagram, smartly update the view when adding new nodes\n  [#2174](https://github.com/OpenFn/lightning/issues/2174)\n- In the workflow diagram, remove the \"autofit\" toggle in the control bar","ref":"changelog.html#changed-82"},{"type":"extras","title":"Fixed - Changelog","doc":"- Remove prompt parameter from the authorization URL parameters for the Generic\n  Oauth Clients [#2250](https://github.com/OpenFn/lightning/issues/2250)\n- Fixed react key error [#2233](https://github.com/OpenFn/lightning/issues/2233)\n- Show common functions in the Docs panel\n  [#1733](https://github.com/OpenFn/lightning/issues/1733)\n\n## [v2.7.1] - 2024-07-01","ref":"changelog.html#fixed-92"},{"type":"extras","title":"Changed - Changelog","doc":"- Update email copies [#2213](https://github.com/OpenFn/lightning/issues/2213)","ref":"changelog.html#changed-83"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix jumpy cursor in the Job editor.\n  [#2229](https://github.com/OpenFn/lightning/issues/2229)\n- Rework syncing behaviour to prevent changes getting thrown out on a socket\n  reconnect. [#2007](https://github.com/OpenFn/lightning/issues/2007)\n\n## [v2.7.0] - 2024-06-26","ref":"changelog.html#fixed-93"},{"type":"extras","title":"Added - Changelog","doc":"- Use of snapshots for displaying runs and their associated steps in the History\n  page. [#1825](https://github.com/OpenFn/lightning/issues/1825)\n- Added view-only mode for rendering workflows and runs in the Workflow Canvas\n  and the Inspector page using snapshots, with the option to switch between a\n  specific snapshot version and the latest version. Edit mode is available when\n  displaying the latest version.\n  [#1843](https://github.com/OpenFn/lightning/issues/1843)\n- Allow users to delete steps sssociated with runs in the Workflow Canvas\n  [#2027](https://github.com/OpenFn/lightning/issues/2027)\n- Link to adaptor `/src` from inspector.\n- Prototype AI Assistant for working with job code.\n  [#2193](https://github.com/OpenFn/lightning/issues/2193)","ref":"changelog.html#added-70"},{"type":"extras","title":"Changed - Changelog","doc":"- Reverted behaviour on \"Rerun from here\" to select the Log tab.\n  [#2202](https://github.com/OpenFn/lightning/issues/2202)\n- Don't allow connections between an orphaned node and a\n  Trigger[#2188](https://github.com/OpenFn/lightning/issues/2188)\n- Reduce the minimum zoom in the workflow diagram\n  [#2214](https://github.com/OpenFn/lightning/issues/2214)","ref":"changelog.html#changed-84"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix some adaptor docs not displaying\n  [#2019](https://github.com/OpenFn/lightning/issues/2019)\n- Fix broken `mix lightning.install_adaptor_icons` task due to addition of Finch\n  http client change.\n\n## [v2.6.3] - 2024-06-19","ref":"changelog.html#fixed-94"},{"type":"extras","title":"Changed - Changelog","doc":"- Added a notice on application start about anonymous public impact reporting\n  and its importance for the sustainability of\n  [Digital Public Goods](https://digitalpublicgoods.net/) and\n  [Digital Public Infrastructure](https://www.codevelop.fund/insights-1/what-is-digital-public-infrastructure).\n- Increase default `WORKER_MAX_RUN_DURATION_SECONDS` to 300 to match the\n  [ws-worker default](https://github.com/OpenFn/kit/blob/main/packages/ws-worker/src/util/cli.ts#L149-L153)\n  so if people don't set their timeout via ENV, at least the two match up.\n\n## [v2.6.2] - 2024-06-13","ref":"changelog.html#changed-85"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix vanishing Docs panel when Editor panel is collapsed and opened again\n  [#2195](https://github.com/OpenFn/lightning/issues/2195)\n- Maintain tab when RunViewer remounts/push state drops tab hash\n  [#2199](https://github.com/OpenFn/lightning/issues/2199)\n\n## [v2.6.1] - 2024-06-12","ref":"changelog.html#fixed-95"},{"type":"extras","title":"Changed - Changelog","doc":"- Erlang to 26.2.5\n- Update debian bookworm from 20240130 to 20240513.\n- Return 403s when Provisioning API fails because of usage limits\n  [#2182](https://github.com/OpenFn/lightning/pull/2182)\n- Update email notification for changing retention period\n  [#2066](https://github.com/OpenFn/lightning/issues/2066)\n- Return 415s when Webhooks are sent Content-Types what are not supported.\n  [#2180](https://github.com/OpenFn/lightning/issues/2180)\n- Updated the default step text","ref":"changelog.html#changed-86"},{"type":"extras","title":"Fixed - Changelog","doc":"- Rewrite TabSelector (now Tabbed) components fixing a number of navigation\n  issues [#2051](https://github.com/OpenFn/lightning/issues/2051)\n\n## [v2.6.0] - 2024-06-05","ref":"changelog.html#fixed-96"},{"type":"extras","title":"Added - Changelog","doc":"- Support multiple edges leading to the same step (a.k.a., \"drag & drop\")\n  [#2008](https://github.com/OpenFn/lightning/issues/2008)","ref":"changelog.html#added-71"},{"type":"extras","title":"Changed - Changelog","doc":"","ref":"changelog.html#changed-87"},{"type":"extras","title":"Fixed - Changelog","doc":"## [v2.5.5] - 2024-06-05","ref":"changelog.html#fixed-97"},{"type":"extras","title":"Added - Changelog","doc":"- Replace LiveView Log Viewer component with React Monaco\n  [#1863](https://github.com/OpenFn/lightning/issues/1863)","ref":"changelog.html#added-72"},{"type":"extras","title":"Changed - Changelog","doc":"- Bump default CLI to `@openfn/cli@1.3.2`\n- Don't show deprecated adaptor versions in the adaptor version picklist (to be\n  followed by some graceful deprecation handling/warning in\n  [later work](https://github.com/OpenFn/lightning/issues/2172))\n  [#2169](https://github.com/OpenFn/lightning/issues/2169)\n- Refactor count workorders to reuse search code\n  [#2121](https://github.com/OpenFn/lightning/issues/2121)\n- Updated provisioning error message to include workflow and job names\n  [#2140](https://github.com/OpenFn/lightning/issues/2140)","ref":"changelog.html#changed-88"},{"type":"extras","title":"Fixed - Changelog","doc":"- Don't let two deploy workflows run at the same time to prevent git collisions\n  [#2044](https://github.com/OpenFn/lightning/issues/2044)\n- Stopped sending emails when creating a starter project\n  [#2161](https://github.com/OpenFn/lightning/issues/2161)\n\n## [v2.5.4] - 2024-05-31","ref":"changelog.html#fixed-98"},{"type":"extras","title":"Added - Changelog","doc":"- CORS support [#2157](https://github.com/OpenFn/lightning/issues/2157)\n- Track users emails preferences\n  [#2163](https://github.com/OpenFn/lightning/issues/2163)","ref":"changelog.html#added-73"},{"type":"extras","title":"Changed - Changelog","doc":"- Change Default Text For New Job Nodes\n  [#2014](https://github.com/OpenFn/lightning/pull/2014)\n- Persisted run options when runs are _created_, not when they are _claimed_.\n  This has the benefit of \"locking in\" the behavior desired by the user at the\n  time they demand a run, not whenever the worker picks it up.\n  [#2085](https://github.com/OpenFn/lightning/pull/2085)\n- Made `RUN_GRACE_PERIOD_SECONDS` a configurable ENV instead of 20% of the\n  `WORKER_MAX_RUN_DURATION`\n  [#2085](https://github.com/OpenFn/lightning/pull/2085)","ref":"changelog.html#changed-89"},{"type":"extras","title":"Fixed - Changelog","doc":"- Stopped Janitor from calling runs lost if they have special runtime options\n  [#2079](https://github.com/OpenFn/lightning/issues/2079)\n- Dataclip Viewer now responds to page resize and internal page layout\n  [#2120](https://github.com/OpenFn/lightning/issues/2120)\n\n## [v2.5.3] - 2024-05-27","ref":"changelog.html#fixed-99"},{"type":"extras","title":"Changed - Changelog","doc":"- Stop users from creating deprecated Salesforce and GoogleSheets credentials.\n  [#2142](https://github.com/OpenFn/lightning/issues/2142)\n- Delegate menu customization and create menu components for reuse.\n  [#1988](https://github.com/OpenFn/lightning/issues/1988)","ref":"changelog.html#changed-90"},{"type":"extras","title":"Fixed - Changelog","doc":"- Disable Credential Save Button Until All Form Fields Are Validated\n  [#2099](https://github.com/OpenFn/lightning/issues/2099)\n- Fix Credential Modal Closure Error When Workflow Is Unsaved\n  [#2101](https://github.com/OpenFn/lightning/pull/2101)\n- Fix error when socket reconnects and user is viewing a run via the inspector\n  [#2148](https://github.com/OpenFn/lightning/issues/2148)\n\n## [v2.5.2] - 2024-05-23","ref":"changelog.html#fixed-100"},{"type":"extras","title":"Fixed - Changelog","doc":"- Preserve custom values (like `apiVersion`) during token refresh for OAuth2\n  credentials [#2131](https://github.com/OpenFn/lightning/issues/2131)\n\n## [v2.5.1] - 2024-05-21","ref":"changelog.html#fixed-101"},{"type":"extras","title":"Fixed - Changelog","doc":"- Don't compile Phoenix Storybook in production and test environments\n  [#2119](https://github.com/OpenFn/lightning/pull/2119)\n- Improve performance and memory consumption on queries and logic for digest\n  mailer [#2121](https://github.com/OpenFn/lightning/issues/2121)\n\n## [v2.5.0] - 2024-05-20","ref":"changelog.html#fixed-102"},{"type":"extras","title":"Fixed - Changelog","doc":"- When a refresh token is updated, save it!\n  [#2124](https://github.com/OpenFn/lightning/pull/2124)\n\n## [v2.5.0-pre4] - 2024-05-20","ref":"changelog.html#fixed-103"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix duplicate credential type bug\n  [#2100](https://github.com/OpenFn/lightning/issues/2100)\n- Ensure Global OAuth Clients Accessibility for All Users\n  [#2114](https://github.com/OpenFn/lightning/issues/2114)\n\n## [v2.5.0-pre3] - 2024-05-20","ref":"changelog.html#fixed-104"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix credential not added automatically after being created from the canvas.\n  [#2105](https://github.com/OpenFn/lightning/issues/2105)\n- Replace the \"not working?\" prompt by \"All good, but if your credential stops\n  working, you may need to re-authorize here.\".\n  [#2102](https://github.com/OpenFn/lightning/issues/1872)\n- Fix Generic Oauth credentials don't get included in the refresh flow\n  [#2106](https://github.com/OpenFn/lightning/pull/2106)\n\n## [v2.5.0-pre2] - 2024-05-17","ref":"changelog.html#fixed-105"},{"type":"extras","title":"Changed - Changelog","doc":"- Replace LiveView Dataclip component with React Monaco bringing large\n  performance improvements when viewing large dataclips.\n  [#1872](https://github.com/OpenFn/lightning/issues/1872)\n\n## [v2.5.0-pre] - 2024-05-17","ref":"changelog.html#changed-91"},{"type":"extras","title":"Added - Changelog","doc":"- Allow users to build Oauth clients and associated credentials via the user\n  interface. [#1919](https://github.com/OpenFn/lightning/issues/1919)\n\n## [v2.4.14] - 2024-05-16","ref":"changelog.html#added-74"},{"type":"extras","title":"Changed - Changelog","doc":"- Refactored image and version info\n  [#2097](https://github.com/OpenFn/lightning/pull/2097)","ref":"changelog.html#changed-92"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue where updating adaptor name and version of job node in the\n  workflow canvas crashes the app when no credential is selected\n  [#99](https://github.com/OpenFn/lightning/issues/99)\n- Removes stacked viewer after switching tabs and steps.\n  [#2064](https://github.com/OpenFn/lightning/issues/2064)\n\n## [v2.4.13] - 2024-05-16","ref":"changelog.html#fixed-106"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue where updating an existing Salesforce credential to use a\n  `sandbox` endpoint would not properly re-authenticate.\n  [#1842](https://github.com/OpenFn/lightning/issues/1842)\n- Navigate directly to settings from url hash and renders default panel when\n  there is no hash. [#1971](https://github.com/OpenFn/lightning/issues/1971)\n\n## [v2.4.12] - 2024-05-15","ref":"changelog.html#fixed-107"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix render settings default panel on first load\n  [#1971](https://github.com/OpenFn/lightning/issues/1971)\n\n## [v2.4.11] - 2024-05-15","ref":"changelog.html#fixed-108"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgraded Sentry to v10 for better error reporting.\n\n## [v2.4.10] - 2024-05-14","ref":"changelog.html#changed-93"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix the \"reset demo\" script by disabling the emailing that was introduced to\n  the `create_project` function.\n  [#2063](https://github.com/OpenFn/lightning/pull/2063)\n\n## [v2.4.9] - 2024-05-14","ref":"changelog.html#fixed-109"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped @openfn/ws-worker to 1.1.8","ref":"changelog.html#changed-94"},{"type":"extras","title":"Fixed - Changelog","doc":"- Correctly pass max allowed run time into the Run token, ensuring it's valid\n  for the entirety of the Runs execution time\n  [#2072](https://github.com/OpenFn/lightning/issues/2072)\n\n## [v2.4.8] - 2024-05-13","ref":"changelog.html#fixed-110"},{"type":"extras","title":"Added - Changelog","doc":"- Add Github sync to usage limiter\n  [#2031](https://github.com/OpenFn/lightning/pull/2031)","ref":"changelog.html#added-75"},{"type":"extras","title":"Changed - Changelog","doc":"- Remove illogical cancel buttons on user/pass change screen\n  [#2067](https://github.com/OpenFn/lightning/issues/2067)","ref":"changelog.html#changed-95"},{"type":"extras","title":"Fixed - Changelog","doc":"- Stop users from configuring failure alerts when the limiter returns error\n  [#2076](https://github.com/OpenFn/lightning/pull/2076)\n\n## [v2.4.7] - 2024-05-11","ref":"changelog.html#fixed-111"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed early worker token expiry bug\n  [#2070](https://github.com/OpenFn/lightning/issues/2070)\n\n## [v2.4.6] - 2024-05-08","ref":"changelog.html#fixed-112"},{"type":"extras","title":"Added - Changelog","doc":"- Allow for automatic resubmission of failed usage tracking report submissions.\n  [1789](https://github.com/OpenFn/lightning/issues/1789)\n- Make signup feature configurable\n  [#2049](https://github.com/OpenFn/lightning/issues/2049)\n- Apply runtime limits to worker execution\n  [#2015](https://github.com/OpenFn/lightning/pull/2015)\n- Limit usage for failure alerts\n  [#2011](https://github.com/OpenFn/lightning/pull/2011)\n\n## [v2.4.5] - 2024-05-07","ref":"changelog.html#added-76"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix provioning API calls workflow limiter without the project ID\n  [#2057](https://github.com/OpenFn/lightning/issues/2057)\n\n## [v2.4.4] - 2024-05-03","ref":"changelog.html#fixed-113"},{"type":"extras","title":"Added - Changelog","doc":"- Benchmarking script that simulates data from a cold chain.\n  [#1993](https://github.com/OpenFn/lightning/issues/1993)","ref":"changelog.html#added-77"},{"type":"extras","title":"Changed - Changelog","doc":"- Changed Snapshot `get_or_create_latest_for` to accept multis allow controlling\n  of which repo it uses.\n- Require exactly one owner for each project\n  [#1991](https://github.com/OpenFn/lightning/issues/1991)","ref":"changelog.html#changed-96"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue preventing credential updates\n  [#1861](https://github.com/OpenFn/lightning/issues/1861)\n\n## [v2.4.3] - 2024-05-01","ref":"changelog.html#fixed-114"},{"type":"extras","title":"Added - Changelog","doc":"- Allow menu items customization\n  [#1988](https://github.com/OpenFn/lightning/issues/1988)\n- Workflow Snapshot support\n  [#1822](https://github.com/OpenFn/lightning/issues/1822)\n- Fix sample workflow from init_project_for_new_user\n  [#2016](https://github.com/OpenFn/lightning/issues/2016)","ref":"changelog.html#added-78"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped @openfn/ws-worker to 1.1.6","ref":"changelog.html#changed-97"},{"type":"extras","title":"Fixed - Changelog","doc":"- Assure workflow is always passed to Run.enqueue\n  [#2032](https://github.com/OpenFn/lightning/issues/2032)\n- Fix regression on History page where snapshots were not preloaded correctly\n  [#2026](https://github.com/OpenFn/lightning/issues/2026)\n\n## [v2.4.2] - 2024-04-24","ref":"changelog.html#fixed-115"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix missing credential types when running Lightning using Docker\n  [#2010](https://github.com/OpenFn/lightning/issues/2010)\n- Fix provisioning API includes deleted workflows in project state\n  [#2001](https://github.com/OpenFn/lightning/issues/2001)\n\n## [v2.4.1] - 2024-04-19","ref":"changelog.html#fixed-116"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix github cli deploy action failing to auto-commit\n  [#1995](https://github.com/OpenFn/lightning/issues/1995)\n\n## [v2.4.1-pre] - 2024-04-18","ref":"changelog.html#fixed-117"},{"type":"extras","title":"Added - Changelog","doc":"- Add custom metric to track the number of finalised runs.\n  [#1790](https://github.com/OpenFn/lightning/issues/1790)","ref":"changelog.html#added-79"},{"type":"extras","title":"Changed - Changelog","doc":"- Set better defaults for the GitHub connection creation screen\n  [#1994](https://github.com/OpenFn/lightning/issues/1994)\n- Update `submission_status` for any Usagetracking.Report that does not have it\n  set. [#1789](https://github.com/OpenFn/lightning/issues/1789)\n\n## [v2.4.0] - 2024-04-12","ref":"changelog.html#changed-98"},{"type":"extras","title":"Added - Changelog","doc":"- Allow description below the page title\n  [#1975](https://github.com/OpenFn/lightning/issues/1975)\n- Enable users to connect projects to their Github repos and branches that they\n  have access to [#1895](https://github.com/OpenFn/lightning/issues/1895)\n- Enable users to connect multiple projects to a single Github repo\n  [#1811](https://github.com/OpenFn/lightning/issues/1811)","ref":"changelog.html#added-80"},{"type":"extras","title":"Changed - Changelog","doc":"- Change all System.get_env calls in runtime.exs to use dotenvy\n  [#1968](https://github.com/OpenFn/lightning/issues/1968)\n- Track usage tracking submission status in new field\n  [#1789](https://github.com/OpenFn/lightning/issues/1789)\n- Send richer version info as part of usage tracking submission.\n  [#1819](https://github.com/OpenFn/lightning/issues/1819)","ref":"changelog.html#changed-99"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix sync to branch only targetting main branch\n  [#1892](https://github.com/OpenFn/lightning/issues/1892)\n- Fix enqueue run without the workflow info\n  [#1981](https://github.com/OpenFn/lightning/issues/1981)\n\n## [v2.3.1] - 2024-04-03","ref":"changelog.html#fixed-118"},{"type":"extras","title":"Changed - Changelog","doc":"- Run the usage tracking submission job more frequently to reduce the risk of\n  Oban unavailability at a particular time.\n  [#1778](https://github.com/OpenFn/lightning/issues/1778)\n- Remove code supporting V1 usage tracking submissions.\n  [#1853](https://github.com/OpenFn/lightning/issues/1853)","ref":"changelog.html#changed-100"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix scrolling behaviour on inspector for small screens\n  [#1962](https://github.com/OpenFn/lightning/issues/1962)\n- Fix project picker for users with many projects\n  [#1952](https://github.com/OpenFn/lightning/issues/1952)\n\n## [v2.3.0] - 2024-04-02","ref":"changelog.html#fixed-119"},{"type":"extras","title":"Added - Changelog","doc":"- Support for additional paths on a webhook URL such as `/i/ /Patient`\n  [#1954](https://github.com/OpenFn/lightning/issues/1954)\n- Support for a GET endpoint to \"check\" webhook URL availability\n  [#1063](https://github.com/OpenFn/lightning/issues/1063)\n- Allow external apps to control the run enqueue db transaction\n  [#1958](https://github.com/OpenFn/lightning/issues/1958)\n\n## [v2.2.2] - 2024-04-01","ref":"changelog.html#added-81"},{"type":"extras","title":"Changed - Changelog","doc":"- Changed dataclip search from string `LIKE` to tsvector on keys and values.\n  While this will limit partial string matching to the beginning of words (not\n  the middle or end) it will make searching way more performant\n  [#1939](https://github.com/OpenFn/lightning/issues/1939)\n- Translate job error messages using errors.po file\n  [#1935](https://github.com/OpenFn/lightning/issues/1935)\n- Improve the UI/UX of the run panel on the inspector for small screens\n  [#1909](https://github.com/OpenFn/lightning/issues/1909)","ref":"changelog.html#changed-101"},{"type":"extras","title":"Fixed - Changelog","doc":"- Regular database timeouts when searching across dataclip bodies\n  [#1794](https://github.com/OpenFn/lightning/issues/1794)\n\n## [v2.2.1] - 2024-03-27","ref":"changelog.html#fixed-120"},{"type":"extras","title":"Added - Changelog","doc":"- Enable users to connect to their Github accounts in preparation for\n  streamlined GitHub project sync setup\n  [#1894](https://github.com/OpenFn/lightning/issues/1894)","ref":"changelog.html#added-82"},{"type":"extras","title":"Fixed - Changelog","doc":"- Apply usage limit to bulk-reruns\n  [#1931](https://github.com/OpenFn/lightning/issues/1931)\n- Fix edge case that could result in duplicate usage tracking submissions.\n  [#1853](https://github.com/OpenFn/lightning/issues/1853)\n- Fix query timeout issue on history retention deletion\n  [#1937](https://github.com/OpenFn/lightning/issues/1937)\n\n## [v2.2.0] - 2024-03-21","ref":"changelog.html#fixed-121"},{"type":"extras","title":"Added - Changelog","doc":"- Allow admins to set project retention periods\n  [#1760](https://github.com/OpenFn/lightning/issues/1760)\n- Automatically wipe input/output data after their retention period\n  [#1762](https://github.com/OpenFn/lightning/issues/1762)\n- Automatically delete work order history after their retention period\n  [#1761](https://github.com/OpenFn/lightning/issues/1761)","ref":"changelog.html#added-83"},{"type":"extras","title":"Changed - Changelog","doc":"- When automatically creating a project for a newly registered user (via the\n  `INIT_PROJECT_FOR_NEW_USER=true` environment variable) that user should be the\n  `owner` of the project.\n  [#1927](https://github.com/OpenFn/lightning/issues/1927)\n- Give priority to manual runs (over webhook requests and cron) so that active\n  users on the inspector don't have to wait ages for thier work during high load\n  periods [#1918](https://github.com/OpenFn/lightning/issues/1918)\n\n## [v2.1.0] - 2024-03-20","ref":"changelog.html#changed-102"},{"type":"extras","title":"Added - Changelog","doc":"- TSVector index to log_lines, and gin index to dataclips\n  [#1898](https://github.com/OpenFn/lightning/issues/1898)\n- Add API Version field to Salesforce OAuth credentials\n  [#1838](https://github.com/OpenFn/lightning/issues/1838)","ref":"changelog.html#added-84"},{"type":"extras","title":"Changed - Changelog","doc":"- Replace v1 usage tracking with v2 usage tracking.\n  [#1853](https://github.com/OpenFn/lightning/issues/1853)\n\n## [v2.0.10]","ref":"changelog.html#changed-103"},{"type":"extras","title":"Changed - Changelog","doc":"- Updated anonymous usage tracker submissions\n  [#1853](https://github.com/OpenFn/lightning/issues/1853)\n\n## [v2.0.9] - 2024-03-19","ref":"changelog.html#changed-104"},{"type":"extras","title":"Added - Changelog","doc":"- Support for smaller screens on history and inspector.\n  [#1908](https://github.com/OpenFn/lightning/issues/1908)\n- Polling metric to track number of available runs.\n  [#1790](https://github.com/OpenFn/lightning/issues/1790)\n- Allows limiting creation of new runs and retries.\n  [#1754](https://github.com/OpenFn/Lightning/issues/1754)\n- Add specific messages for log, input, and output tabs when a run is lost\n  [#1757](https://github.com/OpenFn/lightning/issues/1757)\n- Soft and hard limits for runs created by webhook trigger.\n  [#1859](https://github.com/OpenFn/Lightning/issues/1859)\n- Publish an event when a new user is registered\n  [#1873](https://github.com/OpenFn/lightning/issues/1873)\n- Adds ability to add project collaborators from existing users\n  [#1836](https://github.com/OpenFn/lightning/issues/1836)\n- Added ability to remove project collaborators\n  [#1837](https://github.com/OpenFn/lightning/issues/1837)\n- Added new usage tracking submission code.\n  [#1853](https://github.com/OpenFn/lightning/issues/1853)","ref":"changelog.html#added-85"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgrade Elixir to 1.16.2\n- Remove all values from `.env.example`.\n  [#1904](https://github.com/OpenFn/lightning/issues/1904)","ref":"changelog.html#changed-105"},{"type":"extras","title":"Fixed - Changelog","doc":"- Verify only stale project credentials\n  [#1861](https://github.com/OpenFn/lightning/issues/1861)\n\n## [v2.0.8] - 2024-02-29","ref":"changelog.html#fixed-122"},{"type":"extras","title":"Fixed - Changelog","doc":"- Show flash error when editing stale project credentials\n  [#1795](https://github.com/OpenFn/lightning/issues/1795)\n- Fixed bug with Github sync installation on docker-based deployments\n  [#1845](https://github.com/OpenFn/lightning/issues/1845)\n\n## [v2.0.6] - 2024-02-29","ref":"changelog.html#fixed-123"},{"type":"extras","title":"Added - Changelog","doc":"- Automatically create Github workflows in a target repository/branch when users\n  set up a Github repo::OpenFn project sync\n  [#1046](https://github.com/OpenFn/lightning/issues/1046)\n- Allows limiting creation of new runs and retries.\n  [#1754](https://github.com/OpenFn/Lightning/issues/1754)","ref":"changelog.html#added-86"},{"type":"extras","title":"Changed - Changelog","doc":"- Change bucket size used by the run queue delay custom metric.\n  [#1790](https://github.com/OpenFn/lightning/issues/1790)\n- Require setting `IS_RESETTABLE_DEMO` to \"yes\" via ENV before allowing the\n  destructive `Demo.reset_demo/0` function from being called.\n  [#1720](https://github.com/OpenFn/lightning/issues/1720)\n- Remove version display condition that was redundant due to shadowing\n  [#1819](https://github.com/OpenFn/lightning/issues/1819)","ref":"changelog.html#changed-106"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix series of sentry issues related to OAuth credentials\n  [#1799](https://github.com/OpenFn/lightning/issues/1799)\n\n## [v2.0.5] - 2024-02-25","ref":"changelog.html#fixed-124"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed error in Credentials without `sanbox` field set; only display `sandbox`\n  field for Salesforce oauth credentials.\n  [#1798](https://github.com/OpenFn/lightning/issues/1798)\n\n## [v2.0.4] - 2024-02-24","ref":"changelog.html#fixed-125"},{"type":"extras","title":"Added - Changelog","doc":"- Display and edit OAuth credentials\n  scopes[#1706](https://github.com/OpenFn/Lightning/issues/1706)","ref":"changelog.html#added-87"},{"type":"extras","title":"Changed - Changelog","doc":"- Stop sending `operating_system_detail` to the usage tracker\n  [#1785](https://github.com/OpenFn/lightning/issues/1785)","ref":"changelog.html#changed-107"},{"type":"extras","title":"Fixed - Changelog","doc":"- Make handling of usage tracking errors more robust.\n  [#1787](https://github.com/OpenFn/lightning/issues/1787)\n- Fix inspector shows selected dataclip as wiped after retying workorder from a\n  non-first step [#1780](https://github.com/OpenFn/lightning/issues/1780)\n\n## [v2.0.3] - 2024-02-21","ref":"changelog.html#fixed-126"},{"type":"extras","title":"Added - Changelog","doc":"- Actual metrics will now be submitted by Lightning to the Usage Tracker.\n  [#1742](https://github.com/OpenFn/lightning/issues/1742)\n- Added a support link to the menu that goes to the instance admin contact\n  [#1783](https://github.com/OpenFn/lightning/issues/1783)","ref":"changelog.html#added-88"},{"type":"extras","title":"Changed - Changelog","doc":"- Usage Tracking submissions are now opt-out, rather than opt-in. Hashed UUIDs\n  to ensure anonymity are default.\n  [#1742](https://github.com/OpenFn/lightning/issues/1742)\n- Usage Tracking submissions will now run daily rather than hourly.\n  [#1742](https://github.com/OpenFn/lightning/issues/1742)\n\n- Bumped @openfn/ws-worker to `v1.0` (this is used in dev mode when starting the\n  worker from your mix app: `RTM=true iex -S mix phx.server`)\n- Bumped @openfn/cli to `v1.0` (this is used for adaptor docs and magic)","ref":"changelog.html#changed-108"},{"type":"extras","title":"Fixed - Changelog","doc":"- Non-responsive workflow canvas after web socket disconnection\n  [#1750](https://github.com/OpenFn/lightning/issues/1750)\n\n## [v2.0.2] - 2024-02-14","ref":"changelog.html#fixed-127"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed a bug with the OAuth2 credential refresh flow that prevented\n  GoogleSheets jobs from running after token expiration\n  [#1735](https://github.com/OpenFn/Lightning/issues/1735)\n\n## [v2.0.1] - 2024-02-13","ref":"changelog.html#fixed-128"},{"type":"extras","title":"Changed - Changelog","doc":"- Renamed ImpactTracking to UsageTracking\n  [#1729](https://github.com/OpenFn/lightning/issues/1729)\n- Block github installation if there's a pending installation in another project\n  [#1731](https://github.com/OpenFn/Lightning/issues/1731)","ref":"changelog.html#changed-109"},{"type":"extras","title":"Fixed - Changelog","doc":"- Expand work order button balloons randomly\n  [#1737](https://github.com/OpenFn/Lightning/issues/1737)\n- Editing credentials doesn't work from project scope\n  [#1743](https://github.com/OpenFn/Lightning/issues/1743)\n\n## [v2.0.0] - 2024-02-10\n\n> At the time of writing there are no more big changes planned and testing has\n> gone well. Thanks to everyone who's helped to kick the tyres during the \"rc\"\n> phase. There are still a _lot of **new features** coming_, so please:\n>\n> - watch our [**Public Roadmap**](https://github.com/orgs/OpenFn/projects/3) to\n>   stay abreast of our core team's backlog,\n> - request a feature in the\n>   [**Community Forum**](https://community.openfn.org),\n> - raise a\n>   [**new issue**](https://github.com/OpenFn/lightning/issues/new/choose) if\n>   you spot a bug,\n> - and head over to the\n>   [**Contributing**](https://github.com/OpenFn/lightning/?tab=readme-ov-file#contribute-to-this-project)\n>   section to lend a hand.\n>\n> Head to [**docs.openfn.org**](https://docs.openfn.org) for product\n> documentation and help with v1 to v2 migration.","ref":"changelog.html#fixed-129"},{"type":"extras","title":"Changed - Changelog","doc":"- Bump `@openfn/worker` to `v0.8.1`\n- Only show GoogleSheets and Salesforce credential options if Oauth clients are\n  registered with the instance via ENV\n  [#1734](https://github.com/OpenFn/Lightning/issues/1734)","ref":"changelog.html#changed-110"},{"type":"extras","title":"Fixed - Changelog","doc":"- Use standard table type for webhook auth methods\n  [#1514](https://github.com/OpenFn/Lightning/issues/1514)\n- Make disabled button for \"Connect to GitHub\" clear, add tooltip\n  [#1732](https://github.com/OpenFn/Lightning/issues/1715)\n\n## [v2.0.0-rc12] - 2024-02-09","ref":"changelog.html#fixed-130"},{"type":"extras","title":"Added - Changelog","doc":"- Add RunQueue extension to allow claim customization.\n  [#1715](https://github.com/OpenFn/Lightning/issues/1715)\n- Add support for Salesforce OAuth2 credentials\n  [#1633](https://github.com/OpenFn/Lightning/issues/1633)","ref":"changelog.html#added-89"},{"type":"extras","title":"Changed - Changelog","doc":"- Use `PAYLOAD_SIZE_KB` in k6 load testing script, set thresholds on wait time,\n  set default payload size to `2kb`","ref":"changelog.html#changed-111"},{"type":"extras","title":"Fixed - Changelog","doc":"- Adds more detail to work order states on dashboard\n  [#1677](https://github.com/OpenFn/lightning/issues/1677)\n- Fix Output & Logs in inspector fails to show sometimes\n  [#1702](https://github.com/OpenFn/lightning/issues/1702)\n\n## [v2.0.0-rc11] - 2024-02-08","ref":"changelog.html#fixed-131"},{"type":"extras","title":"Fixed - Changelog","doc":"- Bumped Phoenix LiveView from `0.20.4` to `0.20.5` to fix canvas selection\n  issue [#1724](https://github.com/OpenFn/lightning/issues/1724)\n\n## [v2.0.0-rc10] - 2024-02-08","ref":"changelog.html#fixed-132"},{"type":"extras","title":"Changed - Changelog","doc":"- Implemented safeguards to prevent deletion of jobs with associated run history\n  [#1570](https://github.com/OpenFn/Lightning/issues/1570)","ref":"changelog.html#changed-112"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed inspector dataclip body not getting updated after dataclip is wiped\n  [#1718](https://github.com/OpenFn/Lightning/issues/1718)\n- Fixed work orders getting retried despite having wiped dataclips\n  [#1721](https://github.com/OpenFn/Lightning/issues/1721)\n\n## [v2.0.0-rc9] 2024-02-05","ref":"changelog.html#fixed-133"},{"type":"extras","title":"Added - Changelog","doc":"- Persist impact tracking configuration and reports\n  [#1684](https://github.com/OpenFn/Lightning/issues/1684)\n- Add zero-persistence project setting\n  [#1209](https://github.com/OpenFn/Lightning/issues/1209)\n- Wipe dataclip after use when zero-persistence is enabled\n  [#1212](https://github.com/OpenFn/Lightning/issues/1212)\n- Show appropriate message when a wiped dataclip is viewed\n  [#1211](https://github.com/OpenFn/Lightning/issues/1211)\n- Disable selecting work orders having wiped dataclips in the history page\n  [#1210](https://github.com/OpenFn/Lightning/issues/1210)\n- Hide rerun button in inspector when the selected step has a wiped dataclip\n  [#1639](https://github.com/OpenFn/Lightning/issues/1639)\n- Add rate limiter to webhook endpoints and runtime limiter for runs.\n  [#639](https://github.com/OpenFn/Lightning/issues/639)","ref":"changelog.html#added-90"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevented secret scrubber from over-eagerly adding \\*\\*\\* between all\n  characters if an empty string secret was provided as a credential field value\n  (e.g., {\"username\": \"come-on-in\", \"password\": \"\"})\n  [#1585](https://github.com/OpenFn/Lightning/issues/1585)\n- Fixed permissions issue that allowed viewer/editor to modify webhook auth\n  methods. These permissions only belong to project owners and admins\n  [#1692](https://github.com/OpenFn/Lightning/issues/1692)\n- Fixed bug that was duplicating inbound http_requests, resulting in unnecessary\n  data storage [#1695](https://github.com/OpenFn/Lightning/issues/1695)\n- Fixed permissions issue that allowed editors to set up new Github connections\n  [#1703](https://github.com/OpenFn/Lightning/issues/1703)\n- Fixed permissions issue that allowed viewers to initiate syncs to github\n  [#1704](https://github.com/OpenFn/Lightning/issues/1704)\n- Fixed inspector view stuck at processing when following a crashed run\n  [#1711](https://github.com/OpenFn/Lightning/issues/1711)\n- Fixed inspector dataclip selector not getting updated after running manual run\n  [#1714](https://github.com/OpenFn/Lightning/issues/1714)\n\n## [v2.0.0-rc8] - 2024-01-30","ref":"changelog.html#fixed-134"},{"type":"extras","title":"Added - Changelog","doc":"- Shim code to interact with the Impact Tracking service\n  [#1671](https://github.com/OpenFn/Lightning/issues/1671)","ref":"changelog.html#added-91"},{"type":"extras","title":"Changed - Changelog","doc":"- Standardized naming of \"attempts\" to \"runs\". This had already been done in the\n  front-end, but this change cleans up the backend, the database, and the\n  interface with the worker. Make sure to **run migrations** and update your\n  ENV/secrets to use `WORKER_RUNS_PRIVATE_KEY` rather than\n  `WORKER_ATTEMPTS_PRIVATE_KEY`\n  [#1657](https://github.com/OpenFn/Lightning/issues/1657)\n- Required `@openfn/ws-worker@0.8.0` or above.\n\n## [v2.0.0-rc7] - 2024-01-26","ref":"changelog.html#changed-113"},{"type":"extras","title":"Added - Changelog","doc":"- Store webhook request headers in Dataclips for use in jobs.\n  [#1638](https://github.com/OpenFn/Lightning/issues/1638)","ref":"changelog.html#added-92"},{"type":"extras","title":"Changed - Changelog","doc":"- Display `http_request` dataclips to the user as they will be provided to the\n  worker as \"input\" state to avoid confusion while writing jobs.\n  [1664](https://github.com/OpenFn/Lightning/issues/1664)\n- Named-spaced all worker environment variables with `WORKER_` and added\n  documentation for how to configure them.\n  [#1672](https://github.com/OpenFn/Lightning/pull/1672)\n- Bumped to `@openfn/ws-worker@0.6.0`\n- Bumped to `@openfn/cli@0.4.15`","ref":"changelog.html#changed-114"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix Run via Docker [#1653](https://github.com/OpenFn/Lightning/issues/1653)\n- Fix remaining warnings, enable \"warnings as errors\"\n  [#1642](https://github.com/OpenFn/Lightning/issues/1642)\n- Fix workflow dashboard bug when viewed for newly created workflows with only\n  unfinished run steps. [#1674](https://github.com/OpenFn/Lightning/issues/1674)\n\n## [v2.0.0-rc5] - 2024-01-22","ref":"changelog.html#fixed-135"},{"type":"extras","title":"Changed - Changelog","doc":"- Made two significant backend changes that don't impact UI/UX but **require\n  migrations** and should make Lightning developer lives easier by updating\n  parts of the backend to match terms now used in the frontend:\n  - Renamed the `Runs` model and table to `Steps`\n    [#1571](https://github.com/OpenFn/Lightning/issues/1571)\n  - Renamed the `AttemptRuns` model and table to `AttemptSteps`\n    [#1571](https://github.com/OpenFn/Lightning/issues/1571)\n\n## [v2.0.0-rc4] - 2024-01-19","ref":"changelog.html#changed-115"},{"type":"extras","title":"Added - Changelog","doc":"- Scrub output dataclips in the UI to avoid unintentional secret exposure\n  [#1606](https://github.com/OpenFn/Lightning/issues/1606)","ref":"changelog.html#added-93"},{"type":"extras","title":"Changed - Changelog","doc":"- Bump to `@openfn/cli@0.4.14`\n- Do not persist the active tab setting on the job editor\n  [#1504](https://github.com/OpenFn/Lightning/issues/1504)\n- Make condition label optional\n  [#1648](https://github.com/OpenFn/Lightning/issues/1648)","ref":"changelog.html#changed-116"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix credential body getting leaked to sentry incase of errors\n  [#1600](https://github.com/OpenFn/Lightning/issues/1600)\n- Fixed validation on Javascript edge conditions\n  [#1602](https://github.com/OpenFn/Lightning/issues/1602)\n- Removed unused code from `run_live` directory\n  [#1625](https://github.com/OpenFn/Lightning/issues/1625)\n- Edge condition expressions not correctly being handled during provisioning\n  [#openfn/kit#560](https://github.com/OpenFn/kit/pull/560)\n\n## [v2.0.0-rc3] 2024-01-12","ref":"changelog.html#fixed-136"},{"type":"extras","title":"Added - Changelog","doc":"- Custom metric to track stalled attempts\n  [#1559](https://github.com/OpenFn/Lightning/issues/1559)\n- Dashboard with project and workflow stats\n  [#755](https://github.com/OpenFn/Lightning/issues/755)\n- Add search by ID on the history page\n  [#1468](https://github.com/OpenFn/Lightning/issues/1468)\n- Custom metric to support autoscaling\n  [#1607](https://github.com/OpenFn/Lightning/issues/1607)","ref":"changelog.html#added-94"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped CLI version to `0.4.13`\n- Bumped worker version to `0.5.0`\n- Give project editors and viewers read only access to project settings instead\n  [#1477](https://github.com/OpenFn/Lightning/issues/1477)","ref":"changelog.html#changed-117"},{"type":"extras","title":"Fixed - Changelog","doc":"- Throw an error when Lightning.MetadataService.get_adaptor_path/1 returns an\n  adaptor path that is nil\n  [#1601](https://github.com/OpenFn/Lightning/issues/1601)\n- Fix failure due to creating work order from a newly created job\n  [#1572](https://github.com/OpenFn/Lightning/issues/1572)\n- Fixes on the dashboard and links\n  [#1610](https://github.com/OpenFn/Lightning/issues/1610) and\n  [#1608](https://github.com/OpenFn/Lightning/issues/1608)\n\n## [v2.0.0-rc2] - 2024-01-08","ref":"changelog.html#fixed-137"},{"type":"extras","title":"Fixed - Changelog","doc":"- Restored left-alignment for step list items on run detail and inspector\n  [a6e4ada](https://github.com/OpenFn/Lightning/commit/a6e4adafd558269cfd690e7c4fdd8f9fe66c5f62)\n- Inspector: fixed attempt/run language for \"skipped\" tooltip\n  [fd7dd0c](https://github.com/OpenFn/Lightning/commit/fd7dd0ca8128dfba2902e5aa6a2259e2073f0f10)\n- Inspector: fixed failure to save during \"save & run\" from inspector\n  [#1596](https://github.com/OpenFn/Lightning/issues/1596)\n- Inspector: fixed key bindings for save & run (retry vs. new work order)\n  getting overridden when user focuses on the Monaco editor\n  [#1596](https://github.com/OpenFn/Lightning/issues/1596)\n\n## [v2.0.0-rc1] - 2024-01-05","ref":"changelog.html#fixed-138"},{"type":"extras","title":"Why does this repo go from v0 to v2.0? - Changelog","doc":"Lightning is the _2nd version_ of the OpenFn platform. While much of the core\ntechnology is the same, there are breaking changes between `v1.105` (pre-2024)\nand `v2` (\"OpenFn Lightning\").\n\nFor customers using OpenFn `v1`, a migration guide will be provided at\n[docs.openfn.org](https://docs.openfn.org)","ref":"changelog.html#why-does-this-repo-go-from-v0-to-v2-0"},{"type":"extras","title":"Added - Changelog","doc":"- Link to the job inspctor for a selected run from the history interface\n  [#1524](https://github.com/OpenFn/Lightning/issues/1524)\n- Reprocess an existing work order from the job inspector by default (instead of\n  always creating a new work order)\n  [#1524](https://github.com/OpenFn/Lightning/issues/1524)\n- Bumped worker to support edge conditions between trigger and first job\n  `\"@openfn/ws-worker\": \"^0.4.0\"`","ref":"changelog.html#added-95"},{"type":"extras","title":"Changed - Changelog","doc":"- Updated naming to prepare for v2 release\n  [#1248](https://github.com/OpenFn/Lightning/issues/1248); the major change is\n  that each time a work order (the typical unit of business value for an\n  organization, e.g. \"execute workflow ABC for patient 123\") is executed, it is\n  called a \"run\". Previously, it was called an \"attempt\". The hierarchy is now:\n\n  ```\n  Build-Time: Projects > Workflows > Steps\n  Run-Time: Work Orders > Runs > Steps\n  ```\n\n  Note the name changes here are reflected in the UI, but not all tables/models\n  will be changed until [1571](https://github.com/OpenFn/Lightning/issues/1571)\n  is delivered.\n\n## [v0.12.2] - 2023-12-24","ref":"changelog.html#changed-118"},{"type":"extras","title":"Changed - Changelog","doc":"- Bumped worker to address occasional git install issue\n  `\"@openfn/ws-worker\": \"^0.3.2\"`","ref":"changelog.html#changed-119"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix RuntimeError: found duplicate ID \"google-sheets-inner-form\" for\n  GoogleSheetsComponent [#1578](https://github.com/OpenFn/Lightning/issues/1578)\n- Extend export script to include new JS expression edge type\n  [#1540](https://github.com/OpenFn/Lightning/issues/1540)\n- Fix regression for attempt viewer log line highlighting\n  [#1589](https://github.com/OpenFn/Lightning/issues/1589)\n\n## [v0.12.1] - 2023-12-21","ref":"changelog.html#fixed-139"},{"type":"extras","title":"Changed - Changelog","doc":"- Hide project security setting tab from non-authorized users\n  [#1477](https://github.com/OpenFn/Lightning/issues/1477)","ref":"changelog.html#changed-120"},{"type":"extras","title":"Fixed - Changelog","doc":"- History page crashes if job is removed from workflow after it's been run\n  [#1568](https://github.com/OpenFn/Lightning/issues/1568)\n\n## [v0.12.0] - 2023-12-15","ref":"changelog.html#fixed-140"},{"type":"extras","title":"Added - Changelog","doc":"- Add ellipsis for long job names on the canvas\n  [#1217](https://github.com/OpenFn/Lightning/issues/1217)\n- Fix Credential Creation Page UI\n  [#1064](https://github.com/OpenFn/Lightning/issues/1064)\n- Custom metric to track Attempt queue delay\n  [#1556](https://github.com/OpenFn/Lightning/issues/1556)\n- Expand work order row when a `workorder_id` is specified in the filter\n  [#1515](https://github.com/OpenFn/Lightning/issues/1515)\n- Allow Javascript expressions as conditions for edges\n  [#1498](https://github.com/OpenFn/Lightning/issues/1498)","ref":"changelog.html#added-96"},{"type":"extras","title":"Changed - Changelog","doc":"- Derive dataclip in inspector from the attempt & step\n  [#1551](https://github.com/OpenFn/Lightning/issues/1551)\n- Updated CLI to 0.4.10 (fixes logging)\n- Changed UserBackupToken model to use UTC timestamps (6563cb77)\n- Restore FK relationship between `work_orders` and `attempts` pending a\n  decision re: further partitioning.\n  [#1254](https://github.com/OpenFn/Lightning/issues/1254)","ref":"changelog.html#changed-121"},{"type":"extras","title":"Fixed - Changelog","doc":"- New credential doesn't appear in inspector until refresh\n  [#1531](https://github.com/OpenFn/Lightning/issues/1531)\n- Metadata not refreshing when credential is updated\n  [#791](https://github.com/OpenFn/Lightning/issues/791)\n- Adjusted z-index for Monaco Editor's sibling element to resolve layout\n  conflict [#1329](https://github.com/OpenFn/Lightning/issues/1329)\n- Demo script sets up example Runs with their log lines in a consistant order.\n  [#1487](https://github.com/OpenFn/Lightning/issues/1487)\n- Initial credential creation `changes` show `after` as `null` rather a value\n  [#1118](https://github.com/OpenFn/Lightning/issues/1118)\n- AttemptViewer flashing/rerendering when Jobs are running\n  [#1550](https://github.com/OpenFn/Lightning/issues/1550)\n- Not able to create a new Job when clicking the Check icon on the placeholder\n  [#1537](https://github.com/OpenFn/Lightning/issues/1537)\n- Improve selection logic on WorkflowDiagram\n  [#1220](https://github.com/OpenFn/Lightning/issues/1220)\n\n## [v0.11.0] - 2023-12-06","ref":"changelog.html#fixed-141"},{"type":"extras","title":"Added - Changelog","doc":"- Improved UI when manually creating Attempts via the Job Editor\n  [#1474](https://github.com/OpenFn/Lightning/issues/1474)\n- Increased the maximum inbound webhook request size to 10MB and added\n  protection against _very large_ payloads with a 100MB \"max_skip_body_length\"\n  [#1247](https://github.com/OpenFn/Lightning/issues/1247)","ref":"changelog.html#added-97"},{"type":"extras","title":"Changed - Changelog","doc":"- Use the internal port of the web container for the worker configuration in\n  docker-compose setup. [#1485](https://github.com/OpenFn/Lightning/pull/1485)\n\n## [v0.10.6] - 2023-12-05","ref":"changelog.html#changed-122"},{"type":"extras","title":"Changed - Changelog","doc":"- Limit entries count on term work orders search\n  [#1461](https://github.com/OpenFn/Lightning/issues/1461)\n- Scrub log lines using multiple credentials samples\n  [#1519](https://github.com/OpenFn/Lightning/issues/1519)\n- Remove custom telemetry plumbing.\n  [1259](https://github.com/OpenFn/Lightning/issues/1259)\n- Enhance UX to prevent modal closure when Monaco/Dataclip editor is focused\n  [#1510](https://github.com/OpenFn/Lightning/pull/1510)","ref":"changelog.html#changed-123"},{"type":"extras","title":"Fixed - Changelog","doc":"- Use checkbox on boolean credential fields rather than a text input field\n  [#1430](https://github.com/OpenFn/Lightning/issues/1430)\n- Allow users to retry work orders that failed before their first run was\n  created [#1417](https://github.com/OpenFn/Lightning/issues/1417)\n- Fix to ensure webhook auth modal is closed when cancel or close are selected.\n  [#1508](https://github.com/OpenFn/Lightning/issues/1508)\n- Enable user to reauthorize and obtain a new refresh token.\n  [#1495](https://github.com/OpenFn/Lightning/issues/1495)\n- Save credential body with types declared on schema\n  [#1518](https://github.com/OpenFn/Lightning/issues/1518)\n\n## [v0.10.5] - 2023-12-03","ref":"changelog.html#fixed-142"},{"type":"extras","title":"Changed - Changelog","doc":"- Only add history page filters when needed for simpler multi-select status\n  interface and shorter page URLs\n  [#1331](https://github.com/OpenFn/Lightning/issues/1331)\n- Use dynamic Endpoint config only on prod\n  [#1435](https://github.com/OpenFn/Lightning/issues/1435)\n- Validate schema field with any of expected values\n  [#1502](https://github.com/OpenFn/Lightning/issues/1502)","ref":"changelog.html#changed-124"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix for liveview crash when token expires or gets deleted after mount\n  [#1318](https://github.com/OpenFn/Lightning/issues/1318)\n- Remove two obsolete methods related to Run: `Lightning.Invocation.delete_run`\n  and `Lightning.Invocation.Run.new_from`.\n  [#1254](https://github.com/OpenFn/Lightning/issues/1254)\n- Remove obsolete field `previous_id` from `runs` table.\n  [#1254](https://github.com/OpenFn/Lightning/issues/1254)\n- Fix for missing data in 'created' audit trail events for webhook auth methods\n  [#1500](https://github.com/OpenFn/Lightning/issues/1500)\n\n## [v0.10.4] - 2023-11-30","ref":"changelog.html#fixed-143"},{"type":"extras","title":"Changed - Changelog","doc":"- Increased History search timeout to 30s\n  [#1461](https://github.com/OpenFn/Lightning/issues/1461)","ref":"changelog.html#changed-125"},{"type":"extras","title":"Fixed - Changelog","doc":"- Tooltip text clears later than the background\n  [#1094](https://github.com/OpenFn/Lightning/issues/1094)\n- Temporary fix to superuser UI for managing project users\n  [#1145](https://github.com/OpenFn/Lightning/issues/1145)\n- Fix for adding ellipses on credential info on job editor heading\n  [#1428](https://github.com/OpenFn/Lightning/issues/1428)\n\n## [v0.10.3] - 2023-11-28","ref":"changelog.html#fixed-144"},{"type":"extras","title":"Added - Changelog","doc":"- Dimmed/greyed out triggers and edges on the canvas when they are disabled\n  [#1464](https://github.com/OpenFn/Lightning/issues/1464)\n- Async loading on the history page to improve UX on long DB queries\n  [#1279](https://github.com/OpenFn/Lightning/issues/1279)\n- Audit trail events for webhook auth (deletion method) change\n  [#1165](https://github.com/OpenFn/Lightning/issues/1165)","ref":"changelog.html#added-98"},{"type":"extras","title":"Changed - Changelog","doc":"- Sort project collaborators by first name\n  [#1326](https://github.com/OpenFn/Lightning/issues/1326)\n- Work orders will now be set in a \"pending\" state when retries are enqueued.\n  [#1340](https://github.com/OpenFn/Lightning/issues/1340)\n- Avoid printing 2FA codes by default\n  [#1322](https://github.com/OpenFn/Lightning/issues/1322)","ref":"changelog.html#changed-126"},{"type":"extras","title":"Fixed - Changelog","doc":"- Create new workflow button sizing regression\n  [#1405](https://github.com/OpenFn/Lightning/issues/1405)\n- Google credential creation and automatic closing of oAuth tab\n  [#1109](https://github.com/OpenFn/Lightning/issues/1109)\n- Exporting project breaks the navigation of the page\n  [#1440](https://github.com/OpenFn/Lightning/issues/1440)\n\n## [v0.10.2] - 2023-11-21","ref":"changelog.html#fixed-145"},{"type":"extras","title":"Changed - Changelog","doc":"- Added `max_frame_size` to the Cowboy websockets protocol options in an attempt\n  to address [#1421](https://github.com/OpenFn/Lightning/issues/1421)\n\n## [v0.10.1] - 2023-11-21","ref":"changelog.html#changed-127"},{"type":"extras","title":"Fixed - Changelog","doc":"- Work Order ID was not displayed properly in history page\n  [#1423](https://github.com/OpenFn/Lightning/issues/1423)\n\n## [v0.10.0] - 2023-11-21","ref":"changelog.html#fixed-146"},{"type":"extras","title":" Breaking change warning!  - Changelog","doc":"This release will contain breaking changes as we've significantly improved both\nthe workflow building and execution systems.\n\n#### Nodes and edges\n\nBefore, workflows were represented as a list of jobs and triggers. For greater\nflexibility and control of complex workflows, we've moved towards a more robust\n\"nodes and edges\" approach. Where jobs in a workflow (a node) can be connected\nby edges.\n\nTriggers still exist, but live \"outside\" the directed acyclic graph (DAG) and\nare used to automatically create work orders and attempts.\n\nWe've provided migrations that bring `v0.9.3` workflows in line with the\n`v0.10.0` requirements.\n\n#### Scalable workers\n\nBefore, Lightning spawned child processes to execute attempts in sand-boxed\nNodeVMs on the same server. This created inefficiencies and security\nvulnerabilities. Now, the Lightning web server adds attempts to a queue and\nmultiple worker applications can pull from that queue to process work.\n\nIn dev mode, this all happens automatically and on one machine, but in most\nhigh-availability production environments the workers will be on another server.\n\nAttempts are now handled entirely by the workers, and they report back to\nLightning. Exit reasons, final attempt states, error types and error messages\nare either entirely new or handled differently now, but we have provided\nmigration scripts that will work to bring _most_ `v0.9.3` runs, attempts, and\nwork orders up to `v0.10.0`, though the granularity of `v0.9.3` states and exits\nwill be less than `v0.10.0` and the final states are not guaranteed to be\naccurate for workflows with multiple branches and leaf nodes with varying exit\nreasons.\n\nThe migration scripts can be run with a single function call in SetupUtils from\na connect `iex` session:\n\n```\nLightning.SetupUtils.approximate_state_for_attempts_and_workorders()\n```\n\nNote that (like lots of _other_ functionality in `SetupUtils`, calling this\nfunction is a destructive action and you should only do it if you've backed up\nyour data and you know what you're doing.)\n\nAs always, we recommend backing up your data before migrating. (And thanks for\nbearing with us as we move towards our first stable Lightning release.)","ref":"changelog.html#breaking-change-warning"},{"type":"extras","title":"Added - Changelog","doc":"- Fix flaky job name input behavior on error\n  [#1218](https://github.com/OpenFn/Lightning/issues/1218)\n- Added a hover effect on copy and add button for adaptors examples\n  [#1297](https://github.com/OpenFn/Lightning/issues/1297)\n- Migration helper code to move from `v0.9.3` to `v0.10.0` added to SetupUtils\n  [#1363](https://github.com/OpenFn/Lightning/issues/1363)\n- Option to start with `RTM=false iex -S mix phx.server` for opting out of the\n  dev-mode automatic runtime manager.\n- Webhook Authentication Methods database and CRUD operations\n  [#1152](https://github.com/OpenFn/Lightning/issues/1152)\n- Creation and Edit of webhook webhook authentication methods UI\n  [#1149](https://github.com/OpenFn/Lightning/issues/1149)\n- Add webhook authentication methods overview methods in the canvas\n  [#1153](https://github.com/OpenFn/Lightning/issues/1153)\n- Add icon on the canvas for triggers that have authentication enabled\n  [#1157](https://github.com/OpenFn/Lightning/issues/1157)\n- Require password/2FA code before showing password and API Key for webhook auth\n  methods [#1200](https://github.com/OpenFn/Lightning/issues/1200)\n- Restrict live dashboard access to only superusers, enable DB information and\n  OS information [#1170](https://github.com/OpenFn/Lightning/issues/1170) OS\n  information [#1170](https://github.com/OpenFn/Lightning/issues/1170)\n- Expose additional metrics to LiveDashboard\n  [#1171](https://github.com/OpenFn/Lightning/issues/1171)\n- Add plumbing to dump Lightning metrics during load testing\n  [#1178](https://github.com/OpenFn/Lightning/issues/1178)\n- Allow for heavier payloads during load testing\n  [#1179](https://github.com/OpenFn/Lightning/issues/1179)\n- Add dynamic delay to help mitigate flickering test\n  [#1195](https://github.com/OpenFn/Lightning/issues/1195)\n- Add a OpenTelemetry trace example\n  [#1189](https://github.com/OpenFn/Lightning/issues/1189)\n- Add plumbing to support the use of PromEx\n  [#1199](https://github.com/OpenFn/Lightning/issues/1199)\n- Add warning text to PromEx config\n  [#1222](https://github.com/OpenFn/Lightning/issues/1222)\n- Track and filter on webhook controller state in :telemetry metrics\n  [#1192](https://github.com/OpenFn/Lightning/issues/1192)\n- Secure PromEx metrics endpoint by default\n  [#1223](https://github.com/OpenFn/Lightning/issues/1223)\n- Partition `log_lines` table based on `attempt_id`\n  [#1254](https://github.com/OpenFn/Lightning/issues/1254)\n- Remove foreign key from `attempts` in preparation for partitioning\n  `work_orders` [#1254](https://github.com/OpenFn/Lightning/issues/1254)\n- Remove `Workflows.delete_workflow`. It is no longer in use and would require\n  modification to not leave orphaned attempts given the removal of the foreign\n  key from `attempts`. [#1254](https://github.com/OpenFn/Lightning/issues/1254)\n- Show tooltip for cloned runs in history page\n  [#1327](https://github.com/OpenFn/Lightning/issues/1327)\n- Have user create workflow name before moving to the canvas\n  [#1103](https://github.com/OpenFn/Lightning/issues/1103)\n- Allow PromEx authorization to be disabled\n  [#1483](https://github.com/OpenFn/Lightning/issues/1483)","ref":"changelog.html#added-99"},{"type":"extras","title":"Changed - Changelog","doc":"- Updated vulnerable JS libraries, `postcss` and `semver`\n  [#1176](https://github.com/OpenFn/Lightning/issues/1176)\n- Update \"Delete\" to \"Delete Job\" on Job panel and include javascript deletion\n  confirmation [#1105](https://github.com/OpenFn/Lightning/issues/1105)\n- Move \"Enabled\" property from \"Jobs\" to \"Edges\"\n  [#895](https://github.com/OpenFn/Lightning/issues/895)\n- Incorrect wording on the \"Delete\" tooltip\n  [#1313](https://github.com/OpenFn/Lightning/issues/1313)","ref":"changelog.html#changed-128"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed janitor lost query calculation\n  [#1400](https://github.com/OpenFn/Lightning/issues/1400)\n- Adaptor icons load gracefully\n  [#1140](https://github.com/OpenFn/Lightning/issues/1140)\n- Selected dataclip gets lost when starting a manual work order from the\n  inspector interface [#1283](https://github.com/OpenFn/Lightning/issues/1283)\n- Ensure that the whole edge when selected is highlighted\n  [#1160](https://github.com/OpenFn/Lightning/issues/1160)\n- Fix \"Reconfigure Github\" button in Project Settings\n  [#1386](https://github.com/OpenFn/Lightning/issues/1386)\n- Make janitor also clean up runs inside an attempt\n  [#1348](https://github.com/OpenFn/Lightning/issues/1348)\n- Modify CompleteRun to return error changeset when run not found\n  [#1393](https://github.com/OpenFn/Lightning/issues/1393)\n- Drop invocation reasons from DB\n  [#1412](https://github.com/OpenFn/Lightning/issues/1412)\n- Fix inconsistency in ordering of child nodes in the workflow diagram\n  [#1406](https://github.com/OpenFn/Lightning/issues/1406)\n\n## [v0.9.3] - 2023-09-27","ref":"changelog.html#fixed-147"},{"type":"extras","title":"Added - Changelog","doc":"- Add ellipsis when adaptor name is longer than the container allows\n  [#1095](https://github.com/OpenFn/Lightning/issues/1095)\n- Webhook Authentication Methods database and CRUD operations\n  [#1152](https://github.com/OpenFn/Lightning/issues/1152)","ref":"changelog.html#added-100"},{"type":"extras","title":"Changed - Changelog","doc":"- Prevent deletion of first job of a workflow\n  [#1097](https://github.com/OpenFn/Lightning/issues/1097)","ref":"changelog.html#changed-129"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix long name on workflow cards\n  [#1102](https://github.com/OpenFn/Lightning/issues/1102)\n- Fix highlighted Edge can get out of sync with selected Edge\n  [#1099](https://github.com/OpenFn/Lightning/issues/1099)\n- Creating a new user without a password fails and there is no user feedback\n  [#731](https://github.com/OpenFn/Lightning/issues/731)\n- Crash when setting up version control\n  [#1112](https://github.com/OpenFn/Lightning/issues/1112)\n\n## [v0.9.2] - 2023-09-20","ref":"changelog.html#fixed-148"},{"type":"extras","title":"Added - Changelog","doc":"- Add \"esc\" key binding to close job inspector modal\n  [#1069](https://github.com/OpenFn/Lightning/issues/1069)","ref":"changelog.html#added-101"},{"type":"extras","title":"Changed - Changelog","doc":"- Save icons from the `adaptors` repo locally and load them in the job editor\n  [#943](https://github.com/OpenFn/Lightning/issues/943)\n\n## [v0.9.1] - 2023-09-19","ref":"changelog.html#changed-130"},{"type":"extras","title":"Changed - Changelog","doc":"- Modified audit trail to handle lots of different kind of audit events\n  [#271](https://github.com/OpenFn/Lightning/issues/271)/[#44](https://github.com/OpenFn/Lightning/issues/44)\n- Fix randomly unresponsive job panel after job deletion\n  [#1113](https://github.com/OpenFn/Lightning/issues/1113)\n\n## [v0.9.0] - 2023-09-15","ref":"changelog.html#changed-131"},{"type":"extras","title":"Added - Changelog","doc":"- Add favicons [#1079](https://github.com/OpenFn/Lightning/issues/1079)\n- Validate job name in placeholder job node\n  [#1021](https://github.com/OpenFn/Lightning/issues/1021)\n- Bring credential delete in line with new GDPR interpretation\n  [#802](https://github.com/OpenFn/Lightning/issues/802)\n- Make job names unique per workflow\n  [#1053](https://github.com/OpenFn/Lightning/issues/1053)","ref":"changelog.html#added-102"},{"type":"extras","title":"Changed - Changelog","doc":"- Enhanced the job editor/inspector interface\n  [#1025](https://github.com/OpenFn/Lightning/issues/1025)","ref":"changelog.html#changed-132"},{"type":"extras","title":"Fixed - Changelog","doc":"- Finished run never appears in inspector when it fails\n  [#1084](https://github.com/OpenFn/Lightning/issues/1084)\n- Cannot delete some credentials via web UI\n  [#1072](https://github.com/OpenFn/Lightning/issues/1072)\n- Stopped the History table from jumping when re-running a job\n  [#1100](https://github.com/OpenFn/Lightning/issues/1100)\n- Fixed the \"+\" button when adding a job to a workflow\n  [#1093](https://github.com/OpenFn/Lightning/issues/1093)\n\n## [v0.8.3] - 2023-09-05","ref":"changelog.html#fixed-149"},{"type":"extras","title":"Added - Changelog","doc":"- Render error when workflow diagram node is invalid\n  [#956](https://github.com/OpenFn/Lightning/issues/956)","ref":"changelog.html#added-103"},{"type":"extras","title":"Changed - Changelog","doc":"- Restyle history table [#1029](https://github.com/OpenFn/Lightning/issues/1029)\n- Moved Filter and Search controls to the top of the history page\n  [#1027](https://github.com/OpenFn/Lightning/issues/1027)","ref":"changelog.html#changed-133"},{"type":"extras","title":"Fixed - Changelog","doc":"- Output incorrectly shows \"this run failed\" when the run hasn't yet finished\n  [#1048](https://github.com/OpenFn/Lightning/issues/1048)\n- Wrong label for workflow card timestamp\n  [#1022](https://github.com/OpenFn/Lightning/issues/1022)\n\n## [v0.8.2] - 2023-08-31","ref":"changelog.html#fixed-150"},{"type":"extras","title":"Fixed - Changelog","doc":"- Lack of differentiation between top of job editor modal and top menu was\n  disorienting. Added shadow.\n\n## [v0.8.1] - 2023-08-31","ref":"changelog.html#fixed-151"},{"type":"extras","title":"Changed - Changelog","doc":"- Moved Save and Run button to bottom of the Job edit modal\n  [#1026](https://github.com/OpenFn/Lightning/issues/1026)\n- Allow a manual work order to save the workflow before creating the work order\n  [#959](https://github.com/OpenFn/Lightning/issues/959)\n\n## [v0.8.0] - 2023-08-31","ref":"changelog.html#changed-134"},{"type":"extras","title":"Added - Changelog","doc":"- Introduces Github sync feature, users can now setup our github app on their\n  instance and sync projects using our latest portability spec\n  [#970](https://github.com/OpenFn/Lightning/issues/970)\n- Support Backup Codes for Multi-Factor Authentication\n  [937](https://github.com/OpenFn/Lightning/issues/937)\n- Log a warning in the console when the Editor/docs component is given latest\n  [#958](https://github.com/OpenFn/Lightning/issues/958)\n- Improve feedback when a Workflow name is invalid\n  [#961](https://github.com/OpenFn/Lightning/issues/961)\n- Show that the jobs' body is invalid\n  [#957](https://github.com/OpenFn/Lightning/issues/957)\n- Reimplement skipped CredentialLive tests\n  [#962](https://github.com/OpenFn/Lightning/issues/962)\n- Reimplement skipped WorkflowLive.IndexTest test\n  [#964](https://github.com/OpenFn/Lightning/issues/964)\n- Show GitHub installation ID and repo link to help setup/debugging for version\n  control [1059](https://github.com/OpenFn/Lightning/issues/1059)","ref":"changelog.html#added-104"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed issue where job names were being incorrectly hyphenated during\n  project.yaml export [#1050](https://github.com/OpenFn/Lightning/issues/1050)\n- Allows the demo script to set a project id during creation to help with cli\n  deploy/pull/Github integration testing.\n- Fixed demo project_repo_connection failing after nightly demo resets\n  [1058](https://github.com/OpenFn/Lightning/issues/1058)\n- Fixed an issue where the monaco suggestion tooltip was offset from the main\n  editor [1030](https://github.com/OpenFn/Lightning/issues/1030)\n\n## [v0.7.3] - 2023-08-15","ref":"changelog.html#fixed-152"},{"type":"extras","title":"Changed - Changelog","doc":"- Version control in project settings is now named Export your project\n  [#1015](https://github.com/OpenFn/Lightning/issues/1015)","ref":"changelog.html#changed-135"},{"type":"extras","title":"Fixed - Changelog","doc":"- Tooltip for credential select in Job Edit form is cut off\n  [#972](https://github.com/OpenFn/Lightning/issues/972)\n- Dataclip type and state assembly notice for creating new dataclip dropped\n  during refactor [#975](https://github.com/OpenFn/Lightning/issues/975)\n\n## [v0.7.2] - 2023-08-10","ref":"changelog.html#fixed-153"},{"type":"extras","title":"Changed - Changelog","doc":"- NodeJs security patch [1009](https://github.com/OpenFn/Lightning/pull/1009)","ref":"changelog.html#changed-136"},{"type":"extras","title":"Fixed - Changelog","doc":"## [v0.7.1] - 2023-08-04","ref":"changelog.html#fixed-154"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed flickery icons on new workflow job creation.\n\n## [v0.7.0] - 2023-08-04","ref":"changelog.html#fixed-155"},{"type":"extras","title":"Added - Changelog","doc":"- Project owners can require MFA for their users\n  [892](https://github.com/OpenFn/Lightning/issues/892)","ref":"changelog.html#added-105"},{"type":"extras","title":"Changed - Changelog","doc":"- Moved to Elixir 1.15 and Erlang 26.0.2 to sort our an annoying ElixirLS issue\n  that was slowing down our engineers.\n- Update Debian base to use bookworm (Debian 12) for our Docker images\n- Change new credential modal to take up less space on the screen\n  [#931](https://github.com/OpenFn/Lightning/issues/931)\n- Placeholder nodes are now purely handled client-side","ref":"changelog.html#changed-137"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fix issue creating a new credential from the Job editor where the new\n  credential was not being set on the job.\n  [#951](https://github.com/OpenFn/Lightning/issues/951)\n- Fix issue where checking a credential type radio button shows as unchecked on\n  first click. [#976](https://github.com/OpenFn/Lightning/issues/976)\n- Return the pre-filled workflow names\n  [#971](https://github.com/OpenFn/Lightning/issues/971)\n- Fix version reporting and external reset_demo() call via\n  Application.spec()[#1010](https://github.com/OpenFn/Lightning/issues/1010)\n- Fixed issue where entering a placeholder name through the form would result an\n  in unsaveable workflow\n  [#1001](https://github.com/OpenFn/Lightning/issues/1001)\n- Ensure the DownloadController checks for authentication and authorisation.\n\n## [v0.7.0-pre5] - 2023-07-28","ref":"changelog.html#fixed-156"},{"type":"extras","title":"Changed - Changelog","doc":"- Unless otherwise specified, only show work orders with activity in last 14\n  days [#968](https://github.com/OpenFn/Lightning/issues/968)\n\n## [v0.7.0-pre4] - 2023-07-27","ref":"changelog.html#changed-138"},{"type":"extras","title":"Changed - Changelog","doc":"- Don't add cast fragments if the search_term is nil\n  [#968](https://github.com/OpenFn/Lightning/issues/968)\n\n## [v0.7.0-pre3] - 2023-07-26","ref":"changelog.html#changed-139"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed an issue with newly created edges that prevented downstream jobs\n  [977](https://github.com/OpenFn/Lightning/issues/977)\n\n## [v0.7.0-pre2] - 2023-07-26\n\nNote that this is a pre-release with a couple of known bugs that are tracked in\nthe Nodes and Edges [epic](https://github.com/OpenFn/Lightning/issues/793).","ref":"changelog.html#fixed-157"},{"type":"extras","title":"Added - Changelog","doc":"- Added ability for a user to enable MFA on their account; using 2FA apps like\n  Authy, Google Authenticator etc\n  [#890](https://github.com/OpenFn/Lightning/issues/890)\n- Write/run sql script to convert triggers\n  [#875](https://github.com/OpenFn/Lightning/issues/875)\n- Export projects as `.yaml` via UI\n  [#249](https://github.com/OpenFn/Lightning/issues/249)","ref":"changelog.html#added-106"},{"type":"extras","title":"Changed - Changelog","doc":"- In `v0.7.0` we change the underlying workflow building and execution\n  infrastructure to align with a standard \"nodes and edges\" design for directed\n  acyclic graphs (DAGs). Make sure to run the migrations!\n  [793](https://github.com/OpenFn/Lightning/issues/793)","ref":"changelog.html#changed-140"},{"type":"extras","title":"Fixed - Changelog","doc":"- Propagate url pushState/changes to Workflow Diagram selection\n  [#944](https://github.com/OpenFn/Lightning/issues/944)\n- Fix issue when deleting nodes from the workflow editor\n  [#830](https://github.com/OpenFn/Lightning/issues/830)\n- Fix issue when clicking a trigger on a new/unsaved workflow\n  [#954](https://github.com/OpenFn/Lightning/issues/954)\n\n## [0.6.7] - 2023-07-13","ref":"changelog.html#fixed-158"},{"type":"extras","title":"Added - Changelog","doc":"- Add feature to bulk rerun work orders from a specific step in their workflow;\n  e.g., \"rerun these 50 work orders, starting each at step 4.\"\n  [#906](https://github.com/OpenFn/Lightning/pull/906)","ref":"changelog.html#added-107"},{"type":"extras","title":"Fixed - Changelog","doc":"- Oban exception: \"value too long\" when log lines are longer than 255 chars\n  [#929](https://github.com/OpenFn/Lightning/issues/929)\n\n## [0.6.6] - 2023-06-30","ref":"changelog.html#fixed-159"},{"type":"extras","title":"Added - Changelog","doc":"- Add public API token to the demo site setup script\n- Check and renew OAuth credentials when running a job\n  [#646](https://github.com/OpenFn/Lightning/issues/646)","ref":"changelog.html#added-108"},{"type":"extras","title":"Fixed - Changelog","doc":"- Remove google sheets from adaptors list until supporting oauth flow\n  [#792](https://github.com/OpenFn/Lightning/issues/792)\n- Remove duplicate google sheets adaptor display on credential type picklist\n  [#663](https://github.com/OpenFn/Lightning/issues/663)\n- Fix demo setup script for calling from outside the app on Kubernetes\n  deployments [#917](https://github.com/OpenFn/Lightning/issues/917)\n\n## [0.6.5] - 2023-06-22","ref":"changelog.html#fixed-160"},{"type":"extras","title":"Added - Changelog","doc":"- Ability to rerun work orders from start by selecting one of more of them from\n  the History page and clicking the \"Rerun\" button.\n  [#659](https://github.com/OpenFn/Lightning/issues/659)","ref":"changelog.html#added-109"},{"type":"extras","title":"Fixed - Changelog","doc":"- Example runs for demo incorrect\n  [#856](https://github.com/OpenFn/Lightning/issues/856)\n\n## [0.6.3] - 2023-06-15","ref":"changelog.html#fixed-161"},{"type":"extras","title":"Fixed - Changelog","doc":"- Prevent saving null log lines to the database, fix issue with run display\n  [#866](https://github.com/OpenFn/Lightning/issues/866)\n\n## [0.6.2] - 2023-06-09","ref":"changelog.html#fixed-162"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed viewer permissions for delete workflow\n\n- Fixed bug with workflow cards\n  [#859](https://github.com/OpenFn/Lightning/issues/859)\n\n## [0.6.1] - 2023-06-08","ref":"changelog.html#fixed-163"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed bug with run logs [#864](https://github.com/OpenFn/Lightning/issues/864)\n\n- Correctly stagger demo runs to maintain order\n  [#856](https://github.com/OpenFn/Lightning/issues/856)\n- Remove `Timex` use from `SetupUtils` in favor of `DateTime` to fix issue when\n  calling it in escript.\n\n## [0.6.0]- 2023-04-12","ref":"changelog.html#fixed-164"},{"type":"extras","title":"Added - Changelog","doc":"- Create sample runs when generating sample workflow\n  [#821](https://github.com/OpenFn/Lightning/issues/821)\n- Added a provisioning api for creating and updating projects and their\n  workflows See: [PROVISIONING.md](./PROVISIONING.md)\n  [#641](https://github.com/OpenFn/Lightning/issues/641)\n- Add ability for a `superuser` to schedule deletion, cancel deletion, and\n  delete projects [#757](https://github.com/OpenFn/Lightning/issues/757)\n- Add ability for a `project owner` to schedule deletion, cancel deletion, and\n  delete projects [#746](https://github.com/OpenFn/Lightning/issues/746)","ref":"changelog.html#added-110"},{"type":"extras","title":"Changed - Changelog","doc":"- Ability to store run log lines as rows in a separate table\n  [#514](https://github.com/OpenFn/Lightning/issues/514)","ref":"changelog.html#changed-141"},{"type":"extras","title":"Fixed - Changelog","doc":"- Incorrect project digest queries\n  [#768](https://github.com/OpenFn/Lightning/issues/768)]\n- Fix issue when purging deleted users\n  [#747](https://github.com/OpenFn/Lightning/issues/747)\n- Generate a random name for Workflows when creating one via the UI.\n  [#828](https://github.com/OpenFn/Lightning/issues/828)\n- Handle error when deleting a job with runs.\n  [#814](https://github.com/OpenFn/Lightning/issues/814)\n\n## [0.5.2]","ref":"changelog.html#fixed-165"},{"type":"extras","title":"Added - Changelog","doc":"- Add `workflow_edges` table in preparation for new workflow editor\n  implementation [#794](https://github.com/OpenFn/Lightning/issues/794)\n- Stamped `credential_id` on run directly for easier auditing of the history\n  interface. Admins can now see which credential was used to run a run.\n  [#800](https://github.com/OpenFn/Lightning/issues/800)\n- Better errors when using magic functions: \"no magic yet\" and \"check\n  credential\" [#812](https://github.com/OpenFn/Lightning/issues/812)","ref":"changelog.html#added-111"},{"type":"extras","title":"Changed - Changelog","doc":"- The `delete-project` function now delete all associated activities\n  [#759](https://github.com/OpenFn/Lightning/issues/759)","ref":"changelog.html#changed-142"},{"type":"extras","title":"Fixed - Changelog","doc":"## [0.5.1] - 2023-04-12","ref":"changelog.html#fixed-166"},{"type":"extras","title":"Added - Changelog","doc":"- Added ability to create and revoke personal API tokens\n  [#147](https://github.com/OpenFn/Lightning/issues/147)\n- Add `last-used at` to API tokens\n  [#722](https://github.com/OpenFn/Lightning/issues/722)\n- Improved \"save\" for job builder; users can now press `Ctrl + S` or ` + S` to\n  save new or updated jobs job panel will _not_ close. (Click elsewhere in the\n  canvas or click the \"Close\" button to close.)\n  [#568](https://github.com/OpenFn/Lightning/issues/568)\n- Add filtered search params to the history page URL\n  [#660](https://github.com/OpenFn/Lightning/issues/660)","ref":"changelog.html#added-112"},{"type":"extras","title":"Changed - Changelog","doc":"- The secret scrubber now ignores booleans\n  [690](https://github.com/OpenFn/Lightning/issues/690)","ref":"changelog.html#changed-143"},{"type":"extras","title":"Fixed - Changelog","doc":"- The secret scrubber now properly handles integer secrets from credentials\n  [690](https://github.com/OpenFn/Lightning/issues/690)\n- Updated describe-package dependency, fixing sparkles in adaptor-docs\n  [657](https://github.com/OpenFn/Lightning/issues/657)\n- Clicks on the workflow canvas were not lining up with the nodes users clicked\n  on; they are now [733](https://github.com/OpenFn/Lightning/issues/733)\n- Job panel behaves better when collapsed\n  [774](https://github.com/OpenFn/Lightning/issues/774)\n\n## [0.5.0] - 2023-04-03","ref":"changelog.html#fixed-167"},{"type":"extras","title":"Added - Changelog","doc":"- Magic functions that fetch real metadata from connected systems via\n  `credentials` and suggest completions in the job builder (e.g., pressing\n  `control-space` when setting the `orgUnit` attribute for a DHIS2 create\n  operation will pull the _actual_ list of orgUnits with human readable labels\n  and fill in their orgUnit codes upon\n  enter.)[670](https://github.com/OpenFn/Lightning/issues/670)\n- A \"metadata explorer\" to browse actual system metadata for connected\n  instances. [658](https://github.com/OpenFn/Lightning/issues/658)\n- Resizable job builder panel for the main canvas/workflow view.\n  [681](https://github.com/OpenFn/Lightning/issues/681)","ref":"changelog.html#added-113"},{"type":"extras","title":"Changed - Changelog","doc":"- Display timezone for cron scheduleit is always UTC.\n  [#716](https://github.com/OpenFn/Lightning/issues/716)\n- Instance administrators can now configure the interval between when a project\n  owner or user requests deletion and when these records are purged from the\n  database. It defaults to 7, but by providing a `PURGE_DELETED_AFTER_DAYS`\n  environment variable the grace period can be altered. Note that setting this\n  variable to `0` will make automatic purging _never_ occur but will still make\n  \"deleted\" projects and users unavailable. This has been requested by certain\n  organizations that must retain audit logs in a Lightning instance.\n  [758](https://github.com/OpenFn/Lightning/issues/758)","ref":"changelog.html#changed-144"},{"type":"extras","title":"Fixed - Changelog","doc":"- Locked CLI version to `@openfn/cli@0.0.35`.\n  [#761](https://github.com/OpenFn/Lightning/issues/761)\n\n## [0.4.8] - 2023-03-29","ref":"changelog.html#fixed-168"},{"type":"extras","title":"Added - Changelog","doc":"- Added a test harness for monitoring critical parts of the app using Telemetry\n  [#654](https://github.com/OpenFn/Lightning/issues/654)","ref":"changelog.html#added-114"},{"type":"extras","title":"Changed - Changelog","doc":"- Set log level to `info` for runs. Most of the `debug` logging is useful for\n  the CLI, but not for Lightning. In the future the log level will be\n  configurable at instance > project > job level by the `superuser` and any\n  project `admin`.\n- Renamed license file so that automagic github icon is less confusing","ref":"changelog.html#changed-145"},{"type":"extras","title":"Fixed - Changelog","doc":"- Broken links in failure alert email\n  [#732](https://github.com/OpenFn/Lightning/issues/732)\n- Registration Submission on app.openfn.org shows internal server error in\n  browser [#686](https://github.com/OpenFn/Lightning/issues/686)\n- Run the correct runtime install mix task in `Dockerfile-dev`\n  [#541](https://github.com/OpenFn/Lightning/issues/541)\n- Users not disabled when scheduled for deletion\n  [#719](https://github.com/OpenFn/Lightning/issues/719)\n\n## [0.4.6] - 2023-03-23","ref":"changelog.html#fixed-169"},{"type":"extras","title":"Added - Changelog","doc":"- Implement roles and permissions across entire app\n  [#645](https://github.com/OpenFn/Lightning/issues/645)\n- Fix webhook URL\n  (`https://< >/i/cae544ab-03dc-4ccc-a09c-fb4edb255d7a`) for the\n  OpenHIE demo workflow [448](https://github.com/OpenFn/Lightning/issues/448)\n- Phoenix Storybook for improved component development\n- Load test for webhook endpoint performance\n  [#645](https://github.com/OpenFn/Lightning/issues/634)\n- Notify user via email when they're added to a project\n  [#306](https://github.com/OpenFn/Lightning/issues/306)\n- Added notify user via email when their account is created\n  [#307](https://github.com/OpenFn/Lightning/issues/307)","ref":"changelog.html#added-115"},{"type":"extras","title":"Changed - Changelog","doc":"- Improved errors when decoding encryption keys for use with Cloak.\n  [#684](https://github.com/OpenFn/Lightning/issues/684)\n- Allow users to run ANY job with a custom input.\n  [#629](https://github.com/OpenFn/Lightning/issues/629)","ref":"changelog.html#changed-146"},{"type":"extras","title":"Fixed - Changelog","doc":"- Ensure JSON schema form inputs are in the same order as they are written in\n  the schema [#685](https://github.com/OpenFn/Lightning/issues/685)\n\n## [0.4.4] - 2023-03-10","ref":"changelog.html#fixed-170"},{"type":"extras","title":"Added - Changelog","doc":"- Users can receive a digest email reporting on a specified project.\n  [#638](https://github.com/OpenFn/Lightning/issues/638)\n  [#585](https://github.com/OpenFn/Lightning/issues/585)\n\n## [0.4.3] - 2023-03-06","ref":"changelog.html#added-116"},{"type":"extras","title":"Added - Changelog","doc":"- Tooltips on Job Builder panel\n  [#650](https://github.com/OpenFn/Lightning/issues/650)","ref":"changelog.html#added-117"},{"type":"extras","title":"Changed - Changelog","doc":"- Upgraded to Phoenix 1.7 (3945856)","ref":"changelog.html#changed-147"},{"type":"extras","title":"Fixed - Changelog","doc":"- Issue with FailureAlerter configuration missing in `prod` mode.\n\n## [0.4.2] - 2023-02-24","ref":"changelog.html#fixed-171"},{"type":"extras","title":"Added - Changelog","doc":"- A user can change their own email\n  [#247](https://github.com/OpenFn/Lightning/issues/247)\n- Added a `SCHEMAS_PATH` environment variable to override the default folder\n  location for credential schemas\n  [#604](https://github.com/OpenFn/Lightning/issues/604)\n- Added the ability to configure Google Sheets credentials\n  [#536](https://github.com/OpenFn/Lightning/issues/536)\n- Function to import a project\n  [#574](https://github.com/OpenFn/Lightning/issues/574)","ref":"changelog.html#added-118"},{"type":"extras","title":"Changed - Changelog","doc":"- Users cannot register if they have not selected the terms and conditions\n  [#531](https://github.com/OpenFn/Lightning/issues/531)","ref":"changelog.html#changed-148"},{"type":"extras","title":"Fixed - Changelog","doc":"- Jobs panel slow for first open after restart\n  [#567](https://github.com/OpenFn/Lightning/issues/567)\n\n## [0.4.0] - 2023-02-08","ref":"changelog.html#fixed-172"},{"type":"extras","title":"Added - Changelog","doc":"- Added a Delete job button in Inspector\n- Filter workflow runs by text/value in run logs or input body\n- Drop \"configuration\" key from Run output dataclips after completion\n- Ability to 'rerun' a run from the Run list\n- Attempts and Runs update themselves in the Runs list\n- Configure a project and workflow for a new registering user\n- Run a job with a custom input\n- Added plausible analytics\n- Allow user to click on Webhook Trigger Node to copy webhook URL on workflow\n  diagram\n- Allow any user to delete a credential that they own\n- Create any credential through a form except for OAuth\n- Refit all diagram nodes on browser and container resize\n- Enable distributed Erlang, allowing any number of redundant Lightning nodes to\n  communicate with each other.\n- Users can set up realtime alerts for a project","ref":"changelog.html#added-119"},{"type":"extras","title":"Changed - Changelog","doc":"- Better code-assist and intelliense in the Job Editor\n- Updated @openfn/workflow-diagram to 0.4.0\n- Make plus button part of job nodes in Workflow Diagram\n- Updated @openfn/adaptor-docs to 0.0.5\n- Updated @openfn/describe-package to 0.0.10\n- Create an follow a manual Run from the Job Inspector\n- View all workflows in a project on the workflows index page\n- Move @openfn/workflow-diagram into the application, the NPM module is now\n  deprecated.\n- Remove workflow name from first node\n- Move the used parts of `@openfn/engine` into the application.\n- [BREAKING CHANGE] Ported `mix openfn.install.runtime` into application, use\n  `mix lightning.install_runtime`.\n- [BREAKING CHANGE] Introduced `@openfn/cli` as the new runtime for Jobs\n- Rename a workflow through the page heading\n- Hide the dataclips tab for beta\n- Make adaptor default to common@latest\n- Remove jobs list page\n- Better error handling in the docs panel\n- Disable credential ownership transfer in dev and prod environments\n- Add project settings page\n- Change Work Order filters to apply to the aggregate state of the work order\n  and not the run directly\n- Enable jobs by default\n- Set log level to info\n- Add Beta checkbox to register page\n- User roles and permissions","ref":"changelog.html#changed-149"},{"type":"extras","title":"Fixed - Changelog","doc":"- Don't consider disabled jobs when calculating subsequent runs\n- Fixed overflow on Job Editor Tooltips\n- Fixed auto-scroll when adding a new snippet in the Job Editor\n- Fixed common operation typings in Job Editor\n\n## [0.3.1] - 2022-11-22","ref":"changelog.html#fixed-173"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed bug that tried to execute HTML scripts in dataclips\n- Fixed bug that prevented work orders from displaying in the order of their\n  last run, descending.\n- Remove alerts after set timeout or close\n\n## [0.3.0] - 2022-11-21","ref":"changelog.html#fixed-174"},{"type":"extras","title":"Added - Changelog","doc":"- Add seed data for demo site\n- Create adaptor credentials through a form\n- Configure cron expressions through a form\n- View runs grouped by work orders and attempts\n- Run an existing Job with any dataclip uuid from the Job form","ref":"changelog.html#added-120"},{"type":"extras","title":"Changed - Changelog","doc":"- Redirect users to projects list page when they click on Admin Settings menu\n- Move job, project, input and output Dataclips to Run table\n- Reverse the relationship between Jobs and Triggers. Triggers now can exist on\n  their own; setting the stage for branching and merging workflows\n- Updated Elixir and frontend dependencies\n- [BREAKING CHANGE] Pipeline now uses Work Orders, previous data is not\n  compatible.\n- Runs, Dataclips and Attempts now all correctly use `usec` resolution\n  timestamps.\n- Upgraded LiveView to 0.18.0\n- Upgraded Elixir to 1.14.1 and OTP 25\n- Workflow Job editor now behaves like a panel\n- Split JobLive.InspectorFormComponent into different plug-able subcomponents\n- Ensure new jobs with cron triggers receive a default frequency\n- Webhooks are now referenced by the trigger id instead of job id.\n- Filter runs by status\n- Filter runs by workflow\n- Filter runs by date\n- View a job run from the runs history\n- View latest matching inputs to run a job with\n\n## [0.2.0] - 2022-09-12","ref":"changelog.html#changed-150"},{"type":"extras","title":"Changed - Changelog","doc":"- [BREAKING CHANGE] Add `Workflow` model, Jobs now belong to a Workflow This is\n  a breaking change to the schema.\n- Use Node.js 18, soon to be in LTS.\n- Visualize success/fail triggers in workflow diagram.\n- Move WorkflowDiagram related actions from DashboardLive into WorkflowLive\n- Move WorkflowDiagram component into liveview, so that we can subscribe to\n  channels (i.e. updating of the diagram when someone changes something).\n- Integrate `@openfn/workflow-diagram@0.0.8` and use the new Store interface for\n  updating it.\n- Remove `component_mounted` event from WorkflowDiagram hook, using a\n  MutationObserver and a Base64 encoded JSON payload.\n- Fixed an issue where the compiler component would try and load a 'nothing\n  adaptor', added a condition to check an adaptor is actually selected.\n- Removed previous Workflow CTE queries, replaced by the introduction of the\n  Workflow model, see\n  (https://github.com/OpenFn/Lightning/blob/53da6883483e7d8d078783f348da327d1dd72d20/lib/lightning/workflows.ex#L111-L119).\n\n## [0.1.13] - 2022-08-29","ref":"changelog.html#changed-151"},{"type":"extras","title":"Added - Changelog","doc":"- Allow administrators to configure OIDC providers for authentication (note that\n  this is just for authenticating, not yet for creating new accounts via OIDC)\n- Add Monaco editor to the step/job panel\n- Allow users to delete their own accounts. Schedule their user and credentials\n  data for deletion when they do.\n- Allow superusers to delete a user account. Schedule the user's credentials and\n  user data for deletion when they do.\n- If a user is scheduled for deletion, disable their account and prevent them\n  from logging in.\n- The 'User profile' and 'Credentials' page now have a sidebar menu","ref":"changelog.html#added-121"},{"type":"extras","title":"Changed - Changelog","doc":"- Project users now have one of the following roles: viewer, editor, admin,\n  owner\n- Users only have the following roles: user, superuser\n\n## [0.1.12] - 2022-08-15","ref":"changelog.html#changed-152"},{"type":"extras","title":"Added - Changelog","doc":"- Transfer credential ownership to another user.\n- Create credentials via a form interface\\*\n- Show \"projects with access\" in credentials list view.\n- Show job in runs list and run view.\n- Added roles and permissions to workflows and history page\n  [#645](https://github.com/OpenFn/Lightning/issues/645)\n\n\\*The form is defined by a JSON schema provided by an adaptor, in most cases:\ne.g., `language-dhis2` provides a single schema which defines the required\nattributes for `state.configuration`, while `language-common` provides multiple\ncredential schemas like \"oauth\" or \"basic auth\" which define attributes for\n`state.configuration` and which might be used by lots of different jobs.)","ref":"changelog.html#added-122"},{"type":"extras","title":"Fixed - Changelog","doc":"- User menu (top right) appears on top of all other components.\n- User profile screen integrated with the rest of the liveview app.\n\n## [0.1.11] - 2022-08-05","ref":"changelog.html#fixed-175"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed logging in Runner when `:debug` log level used; note that this caused\n  crashes in Oban\n\n## [0.1.10] - 2022-08-05","ref":"changelog.html#fixed-176"},{"type":"extras","title":"Added - Changelog","doc":"- Credential auditing\n- Build/version information display for easier debugging","ref":"changelog.html#added-123"},{"type":"extras","title":"Fixed - Changelog","doc":"- Fixed a bug that enqueued cron-triggered jobs even when they were disabled\n\n## [0.1.9] - 2022-07-27","ref":"changelog.html#fixed-177"},{"type":"extras","title":"Added - Changelog","doc":"- Navigate to user profile or credentials page and log out through the user icon\n  dropdown\n- Create and edit dataclips\n- Add a production tag to credentials\n- View a dropdown of operations and their description for the language-common\n  `v2.0.0-rc2` adaptor (this pattern to be rolled out across adaptors)","ref":"changelog.html#added-124"},{"type":"extras","title":"Changed - Changelog","doc":"- Navigate between projects through a project picker on the navbar","ref":"changelog.html#changed-153"},{"type":"extras","title":"Fixed - Changelog","doc":"- Run Lightning with docker","ref":"changelog.html#fixed-178"},{"type":"extras","title":"Security - Changelog","doc":"- Sensitive credential values are scrubbed from run logs\n- All credentials are encrypted at REST\n\n## [0.1.7] - 2022-06-24","ref":"changelog.html#security"},{"type":"extras","title":"Added - Changelog","doc":"- Run a job with a cron trigger\n- Queue jobs via Oban/Postgres\n- Edit jobs via the workflow canvas\n\n## [0.1.6] - 2022-06-07","ref":"changelog.html#added-125"},{"type":"extras","title":"Added - Changelog","doc":"- Register, log in and log out of an account\n- Allow superusers and admin users to create projects\n- Allow admin users to create or disable a user's account\n- Allow superusers for local deployments to create users and give them access to\n  project spaces\n\n- Create and edit a job with a webhook, flow/fail or cron trigger\n- Create and edit credentials for a job\n- Copy a job's webhook URL\n- View all workflows in a project visually\n- Deploy lightning locally with Docker\n\n- Enable a job to automatically process incoming requests\n- Run a job with a webhook or flow/fail trigger\n- View job runs along with their logs, exit code, start and end time\n- View data clips that have initiated job runs (http requests for webhooks, run\n  results)","ref":"changelog.html#added-126"}],"proglang":"elixir","producer":{"name":"ex_doc","version":"0.38.4"},"content_type":"text/markdown"}