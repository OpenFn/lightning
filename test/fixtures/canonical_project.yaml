name: Name
globals:
workflows:
  workflow-1:
    name: workflow 1
    jobs:
      webhook-job:
       name: webhook-job
       adaptor: @openfn/language-common@latest
       enabled: true
       credential:
         foo: manchu
       globals:
       body: |
         console.log('webhook job')
         fn(state => state)
      on-fail:
       name: on-fail
       adaptor: @openfn/language-common@latest
       enabled: true
       credential:
       globals:
       body: |
         console.log('on fail')
         fn(state => state)
      on-success:
       name: on-success
       adaptor: @openfn/language-common@latest
       enabled: true
       credential:
       globals:
       body: |
         console.log('hello!');
    triggers:
      trigger-one:
       type: webhook
    edges:
      webhook->webhook-job:
       source_trigger: trigger-one
       target_job: webhook-job
      webhook-job->on-fail:
       source_job: webhook-job
       target_job: on-fail
      webhook-job->on-success:
       source_job: webhook-job
       target_job: on-success
  workflow-2:
    name: workflow 2
    jobs:
      other-workflow:
       name: other-workflow
       adaptor: @openfn/language-common@latest
       enabled: true
       credential:
       globals:
       body: |
         console.log('hello!');
      on-fail:
       name: on-fail
       adaptor: @openfn/language-common@latest
       enabled: true
       credential:
       globals:
       body: |
         console.log('hello!');
    triggers:
      trigger-one:
       type: webhook
    edges:
      webhook->other-workflow:
       source_trigger: trigger-one
       target_job: other-workflow
      other-workflow->on-fail:
       source_job: other-workflow
       target_job: on-fail
